const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-BI0-_KAi.js","assets/usePageStyle-CtML4cOJ.js","assets/Home-DVUrccTW.js","assets/UnifiedRoleSwitcher-DzaCjurU.js","assets/settings-DNNACGN9.js","assets/megaphone-fcxJ3P3Z.js","assets/award-C-798qRU.js","assets/Signup-gbl5iN9w.js","assets/ForgotPassword-CBBfUCQ6.js","assets/VerifyOtp-DHIHxQ9H.js","assets/ResetPasswordForm-DTlh0BWY.js","assets/AdminDashboard-8gIRKhHb.js","assets/layout-dashboard-BfKp-c8E.js","assets/TeacherDashboard-CtEOF2xM.js","assets/clipboard-list-CG9ErwR6.js","assets/users-CneqRZry.js","assets/shield-alert-CasghU5a.js","assets/NonTeachingDashboard-3bOhc5Ke.js","assets/layers-CqdCGdQ0.js","assets/building-2-BmFCJ1tq.js"])))=>i.map(i=>d[i]);
function L_(a,n){for(var i=0;i<n.length;i++){const s=n[i];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in a)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(a,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Jp(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function B_(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var i=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(s){var o=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(i,s,o.get?o:{enumerable:!0,get:function(){return a[s]}})}),i}var gf={exports:{}},bs={};var kg;function $_(){if(kg)return bs;kg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bs.Fragment=n,bs.jsx=i,bs.jsxs=i,bs}var Dg;function H_(){return Dg||(Dg=1,gf.exports=$_()),gf.exports}var G=H_(),pf={exports:{}},_e={};var Ng;function I_(){if(Ng)return _e;Ng=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function I(E,P,ie){this.props=E,this.context=P,this.refs=k,this.updater=ie||S}I.prototype.isReactComponent={},I.prototype.setState=function(E,P){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,P,"setState")},I.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=I.prototype;function j(E,P,ie){this.props=E,this.context=P,this.refs=k,this.updater=ie||S}var Z=j.prototype=new C;Z.constructor=j,T(Z,I.prototype),Z.isPureReactComponent=!0;var Q=Array.isArray;function F(){}var M={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function se(E,P,ie){var le=ie.ref;return{$$typeof:a,type:E,key:P,ref:le!==void 0?le:null,props:ie}}function he(E,P){return se(E.type,P,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function L(E){var P={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ie){return P[ie]})}var q=/\/+/g;function O(E,P){return typeof E=="object"&&E!==null&&E.key!=null?L(""+E.key):P.toString(36)}function U(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(F,F):(E.status="pending",E.then(function(P){E.status==="pending"&&(E.status="fulfilled",E.value=P)},function(P){E.status==="pending"&&(E.status="rejected",E.reason=P)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function w(E,P,ie,le,ge){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var je=!1;if(E===null)je=!0;else switch(fe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(E.$$typeof){case a:case n:je=!0;break;case y:return je=E._init,w(je(E._payload),P,ie,le,ge)}}if(je)return ge=ge(E),je=le===""?"."+O(E,0):le,Q(ge)?(ie="",je!=null&&(ie=je.replace(q,"$&/")+"/"),w(ge,P,ie,"",function(vn){return vn})):ge!=null&&(V(ge)&&(ge=he(ge,ie+(ge.key==null||E&&E.key===ge.key?"":(""+ge.key).replace(q,"$&/")+"/")+je)),P.push(ge)),1;je=0;var et=le===""?".":le+":";if(Q(E))for(var qe=0;qe<E.length;qe++)le=E[qe],fe=et+O(le,qe),je+=w(le,P,ie,fe,ge);else if(qe=x(E),typeof qe=="function")for(E=qe.call(E),qe=0;!(le=E.next()).done;)le=le.value,fe=et+O(le,qe++),je+=w(le,P,ie,fe,ge);else if(fe==="object"){if(typeof E.then=="function")return w(U(E),P,ie,le,ge);throw P=String(E),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return je}function B(E,P,ie){if(E==null)return E;var le=[],ge=0;return w(E,le,"","",function(fe){return P.call(ie,fe,ge++)}),le}function ae(E){if(E._status===-1){var P=E._result;P=P(),P.then(function(ie){(E._status===0||E._status===-1)&&(E._status=1,E._result=ie)},function(ie){(E._status===0||E._status===-1)&&(E._status=2,E._result=ie)}),E._status===-1&&(E._status=0,E._result=P)}if(E._status===1)return E._result.default;throw E._result}var ne=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},oe={map:B,forEach:function(E,P,ie){B(E,function(){P.apply(this,arguments)},ie)},count:function(E){var P=0;return B(E,function(){P++}),P},toArray:function(E){return B(E,function(P){return P})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return _e.Activity=b,_e.Children=oe,_e.Component=I,_e.Fragment=i,_e.Profiler=o,_e.PureComponent=j,_e.StrictMode=s,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,_e.__COMPILER_RUNTIME={__proto__:null,c:function(E){return M.H.useMemoCache(E)}},_e.cache=function(E){return function(){return E.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(E,P,ie){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var le=T({},E.props),ge=E.key;if(P!=null)for(fe in P.key!==void 0&&(ge=""+P.key),P)!J.call(P,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&P.ref===void 0||(le[fe]=P[fe]);var fe=arguments.length-2;if(fe===1)le.children=ie;else if(1<fe){for(var je=Array(fe),et=0;et<fe;et++)je[et]=arguments[et+2];le.children=je}return se(E.type,ge,le)},_e.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},_e.createElement=function(E,P,ie){var le,ge={},fe=null;if(P!=null)for(le in P.key!==void 0&&(fe=""+P.key),P)J.call(P,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=P[le]);var je=arguments.length-2;if(je===1)ge.children=ie;else if(1<je){for(var et=Array(je),qe=0;qe<je;qe++)et[qe]=arguments[qe+2];ge.children=et}if(E&&E.defaultProps)for(le in je=E.defaultProps,je)ge[le]===void 0&&(ge[le]=je[le]);return se(E,fe,ge)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(E){return{$$typeof:h,render:E}},_e.isValidElement=V,_e.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:ae}},_e.memo=function(E,P){return{$$typeof:g,type:E,compare:P===void 0?null:P}},_e.startTransition=function(E){var P=M.T,ie={};M.T=ie;try{var le=E(),ge=M.S;ge!==null&&ge(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(F,ne)}catch(fe){ne(fe)}finally{P!==null&&ie.types!==null&&(P.types=ie.types),M.T=P}},_e.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},_e.use=function(E){return M.H.use(E)},_e.useActionState=function(E,P,ie){return M.H.useActionState(E,P,ie)},_e.useCallback=function(E,P){return M.H.useCallback(E,P)},_e.useContext=function(E){return M.H.useContext(E)},_e.useDebugValue=function(){},_e.useDeferredValue=function(E,P){return M.H.useDeferredValue(E,P)},_e.useEffect=function(E,P){return M.H.useEffect(E,P)},_e.useEffectEvent=function(E){return M.H.useEffectEvent(E)},_e.useId=function(){return M.H.useId()},_e.useImperativeHandle=function(E,P,ie){return M.H.useImperativeHandle(E,P,ie)},_e.useInsertionEffect=function(E,P){return M.H.useInsertionEffect(E,P)},_e.useLayoutEffect=function(E,P){return M.H.useLayoutEffect(E,P)},_e.useMemo=function(E,P){return M.H.useMemo(E,P)},_e.useOptimistic=function(E,P){return M.H.useOptimistic(E,P)},_e.useReducer=function(E,P,ie){return M.H.useReducer(E,P,ie)},_e.useRef=function(E){return M.H.useRef(E)},_e.useState=function(E){return M.H.useState(E)},_e.useSyncExternalStore=function(E,P,ie){return M.H.useSyncExternalStore(E,P,ie)},_e.useTransition=function(){return M.H.useTransition()},_e.version="19.2.3",_e}var zg;function dd(){return zg||(zg=1,pf.exports=I_()),pf.exports}var N=dd();const Yt=Jp(N),cA=L_({__proto__:null,default:Yt},[N]);var yf={exports:{}},vs={},bf={exports:{}},vf={};var Mg;function G_(){return Mg||(Mg=1,(function(a){function n(w,B){var ae=w.length;w.push(B);e:for(;0<ae;){var ne=ae-1>>>1,oe=w[ne];if(0<o(oe,B))w[ne]=B,w[ae]=oe,ae=ne;else break e}}function i(w){return w.length===0?null:w[0]}function s(w){if(w.length===0)return null;var B=w[0],ae=w.pop();if(ae!==B){w[0]=ae;e:for(var ne=0,oe=w.length,E=oe>>>1;ne<E;){var P=2*(ne+1)-1,ie=w[P],le=P+1,ge=w[le];if(0>o(ie,ae))le<oe&&0>o(ge,ie)?(w[ne]=ge,w[le]=ae,ne=le):(w[ne]=ie,w[P]=ae,ne=P);else if(le<oe&&0>o(ge,ae))w[ne]=ge,w[le]=ae,ne=le;else break e}}return B}function o(w,B){var ae=w.sortIndex-B.sortIndex;return ae!==0?ae:w.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var m=[],g=[],y=1,b=null,_=3,x=!1,S=!1,T=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function Z(w){for(var B=i(g);B!==null;){if(B.callback===null)s(g);else if(B.startTime<=w)s(g),B.sortIndex=B.expirationTime,n(m,B);else break;B=i(g)}}function Q(w){if(T=!1,Z(w),!S)if(i(m)!==null)S=!0,F||(F=!0,L());else{var B=i(g);B!==null&&U(Q,B.startTime-w)}}var F=!1,M=-1,J=5,se=-1;function he(){return k?!0:!(a.unstable_now()-se<J)}function V(){if(k=!1,F){var w=a.unstable_now();se=w;var B=!0;try{e:{S=!1,T&&(T=!1,C(M),M=-1),x=!0;var ae=_;try{t:{for(Z(w),b=i(m);b!==null&&!(b.expirationTime>w&&he());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,_=b.priorityLevel;var oe=ne(b.expirationTime<=w);if(w=a.unstable_now(),typeof oe=="function"){b.callback=oe,Z(w),B=!0;break t}b===i(m)&&s(m),Z(w)}else s(m);b=i(m)}if(b!==null)B=!0;else{var E=i(g);E!==null&&U(Q,E.startTime-w),B=!1}}break e}finally{b=null,_=ae,x=!1}B=void 0}}finally{B?L():F=!1}}}var L;if(typeof j=="function")L=function(){j(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,O=q.port2;q.port1.onmessage=V,L=function(){O.postMessage(null)}}else L=function(){I(V,0)};function U(w,B){M=I(function(){w(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(w){w.callback=null},a.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<w?Math.floor(1e3/w):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(w){switch(_){case 1:case 2:case 3:var B=3;break;default:B=_}var ae=_;_=B;try{return w()}finally{_=ae}},a.unstable_requestPaint=function(){k=!0},a.unstable_runWithPriority=function(w,B){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ae=_;_=w;try{return B()}finally{_=ae}},a.unstable_scheduleCallback=function(w,B,ae){var ne=a.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,w){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ae+oe,w={id:y++,callback:B,priorityLevel:w,startTime:ae,expirationTime:oe,sortIndex:-1},ae>ne?(w.sortIndex=ae,n(g,w),i(m)===null&&w===i(g)&&(T?(C(M),M=-1):T=!0,U(Q,ae-ne))):(w.sortIndex=oe,n(m,w),S||x||(S=!0,F||(F=!0,L()))),w},a.unstable_shouldYield=he,a.unstable_wrapCallback=function(w){var B=_;return function(){var ae=_;_=B;try{return w.apply(this,arguments)}finally{_=ae}}}})(vf)),vf}var qg;function Y_(){return qg||(qg=1,bf.exports=G_()),bf.exports}var _f={exports:{}},_t={};var Lg;function V_(){if(Lg)return _t;Lg=1;var a=dd();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_t.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,y)},_t.flushSync=function(m){var g=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=y,s.d.f()}},_t.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},_t.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},_t.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:x}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},_t.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},_t.requestFormReset=function(m){s.d.r(m)},_t.unstable_batchedUpdates=function(m,g){return m(g)},_t.useFormState=function(m,g,y){return f.H.useFormState(m,g,y)},_t.useFormStatus=function(){return f.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var Bg;function P_(){if(Bg)return _f.exports;Bg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_f.exports=V_(),_f.exports}var $g;function K_(){if($g)return vs;$g=1;var a=Y_(),n=dd(),i=P_();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return m(c),e;if(d===l)return m(c),t;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=d;else{for(var p=!1,v=c.child;v;){if(v===r){p=!0,r=c,l=d;break}if(v===l){p=!0,l=c,r=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===r){p=!0,r=d,l=c;break}if(v===l){p=!0,l=d,r=c;break}v=v.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function O(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case F:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case j:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return t=e.displayName||null,t!==null?t:O(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return O(e(t))}catch{}}return null}var U=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ne=[],oe=-1;function E(e){return{current:e}}function P(e){0>oe||(e.current=ne[oe],ne[oe]=null,oe--)}function ie(e,t){oe++,ne[oe]=e.current,e.current=t}var le=E(null),ge=E(null),fe=E(null),je=E(null);function et(e,t){switch(ie(fe,t),ie(ge,e),ie(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tg(t),e=ng(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(le),ie(le,e)}function qe(){P(le),P(ge),P(fe)}function vn(e){e.memoizedState!==null&&ie(je,e);var t=le.current,r=ng(t,e.type);t!==r&&(ie(ge,e),ie(le,r))}function _n(e){ge.current===e&&(P(le),P(ge)),je.current===e&&(P(je),ms._currentValue=ae)}var Ut,cr;function Qt(e){if(Ut===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ut=t&&t[1]||"",cr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+e+cr}var xn=!1;function Fo(e,t){if(!e||xn)return"";xn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var Y=K}Reflect.construct(e,[],te)}else{try{te.call()}catch(K){Y=K}e.call(te.prototype)}}else{try{throw Error()}catch(K){Y=K}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],v=d[1];if(p&&v){var A=p.split(`
`),H=v.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===H.length)for(l=A.length-1,c=H.length-1;1<=l&&0<=c&&A[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==H[c]){var W=`
`+A[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=c);break}}}finally{xn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Qt(r):""}function gb(e,t){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==t&&t!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Fo(e.type,!1);case 11:return Fo(e.type.render,!1);case 1:return Fo(e.type,!0);case 31:return Qt("Activity");default:return""}}function kd(e){try{var t="",r=null;do t+=gb(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Wo=Object.prototype.hasOwnProperty,eu=a.unstable_scheduleCallback,tu=a.unstable_cancelCallback,pb=a.unstable_shouldYield,yb=a.unstable_requestPaint,kt=a.unstable_now,bb=a.unstable_getCurrentPriorityLevel,Dd=a.unstable_ImmediatePriority,Nd=a.unstable_UserBlockingPriority,Ps=a.unstable_NormalPriority,vb=a.unstable_LowPriority,zd=a.unstable_IdlePriority,_b=a.log,xb=a.unstable_setDisableYieldValue,Ti=null,Dt=null;function na(e){if(typeof _b=="function"&&xb(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Ti,e)}catch{}}var Nt=Math.clz32?Math.clz32:Eb,wb=Math.log,Sb=Math.LN2;function Eb(e){return e>>>=0,e===0?32:31-(wb(e)/Sb|0)|0}var Ks=256,Js=262144,Xs=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qs(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?c=ka(l):(p&=v,p!==0?c=ka(p):r||(r=v&~e,r!==0&&(c=ka(r))))):(v=l&~d,v!==0?c=ka(v):p!==0?c=ka(p):r||(r=l&~e,r!==0&&(c=ka(r)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,r=t&-t,d>=r||d===32&&(r&4194048)!==0)?t:c}function Oi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ab(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Md(){var e=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),e}function nu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tb(e,t,r,l,c,d){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,A=e.expirationTimes,H=e.hiddenUpdates;for(r=p&~r;0<r;){var W=31-Nt(r),te=1<<W;v[W]=0,A[W]=-1;var Y=H[W];if(Y!==null)for(H[W]=null,W=0;W<Y.length;W++){var K=Y[W];K!==null&&(K.lane&=-536870913)}r&=~te}l!==0&&qd(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function qd(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Ld(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-Nt(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function Bd(e,t){var r=t&-t;return r=(r&42)!==0?1:au(r),(r&(e.suspendedLanes|t))!==0?0:r}function au(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ru(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $d(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Ag(e.type))}function Hd(e,t){var r=B.p;try{return B.p=e,t()}finally{B.p=r}}var aa=Math.random().toString(36).slice(2),ht="__reactFiber$"+aa,St="__reactProps$"+aa,fr="__reactContainer$"+aa,iu="__reactEvents$"+aa,Ob="__reactListeners$"+aa,Rb="__reactHandles$"+aa,Id="__reactResources$"+aa,ji="__reactMarker$"+aa;function su(e){delete e[ht],delete e[St],delete e[iu],delete e[Ob],delete e[Rb]}function dr(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fr]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ug(e);e!==null;){if(r=e[ht])return r;e=ug(e)}return t}e=r,r=e.parentNode}return null}function hr(e){if(e=e[ht]||e[fr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function mr(e){var t=e[Id];return t||(t=e[Id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[ji]=!0}var Gd=new Set,Yd={};function Da(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(Yd[e]=t,e=0;e<t.length;e++)Gd.add(t[e])}var jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vd={},Pd={};function Cb(e){return Wo.call(Pd,e)?!0:Wo.call(Vd,e)?!1:jb.test(e)?Pd[e]=!0:(Vd[e]=!0,!1)}function Zs(e,t,r){if(Cb(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Fs(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Cn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ub(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lu(e){if(!e._valueTracker){var t=Kd(e)?"checked":"value";e._valueTracker=Ub(e,t,""+e[t])}}function Jd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Kd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kb=/[\n"\\]/g;function Ft(e){return e.replace(kb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ou(e,t,r,l,c,d,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?uu(e,p,Zt(t)):r!=null?uu(e,p,Zt(r)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Zt(v):e.removeAttribute("name")}function Xd(e,t,r,l,c,d,p,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){lu(e);return}r=r!=null?""+Zt(r):"",t=t!=null?""+Zt(t):r,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),lu(e)}function uu(e,t,r){t==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function pr(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Qd(e,t,r){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Zt(r):""}function Zd(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(U(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Zt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),lu(e)}function yr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Db=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Db.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Wd(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&Fd(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Fd(e,d,t[d])}function cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(e){return zb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var fu=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,vr=null;function eh(e){var t=hr(e);if(t&&(e=t.stateNode)){var r=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(ou(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[St]||null;if(!c)throw Error(s(90));ou(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Jd(l)}break e;case"textarea":Qd(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&pr(e,!!r.multiple,t,!1)}}}var hu=!1;function th(e,t,r){if(hu)return e(t,r);hu=!0;try{var l=e(t);return l}finally{if(hu=!1,(br!==null||vr!==null)&&(Hl(),br&&(t=br,e=vr,vr=br=null,eh(t),e)))for(t=0;t<e.length;t++)eh(e[t])}}function Ui(e,t){var r=e.stateNode;if(r===null)return null;var l=r[St]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(kn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){mu=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{mu=!1}var ra=null,gu=null,tl=null;function nh(){if(tl)return tl;var e,t=gu,r=t.length,l,c="value"in ra?ra.value:ra.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var p=r-e;for(l=1;l<=p&&t[r-l]===c[d-l];l++);return tl=c.slice(e,1<l?1-l:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function ah(){return!1}function Et(e){function t(r,l,c,d,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?al:ah,this.isPropagationStopped=ah,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Et(Na),Di=b({},Na,{view:0,detail:0}),Mb=Et(Di),pu,yu,Ni,il=b({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(pu=e.screenX-Ni.screenX,yu=e.screenY-Ni.screenY):yu=pu=0,Ni=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),rh=Et(il),qb=b({},il,{dataTransfer:0}),Lb=Et(qb),Bb=b({},Di,{relatedTarget:0}),bu=Et(Bb),$b=b({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),Hb=Et($b),Ib=b({},Na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gb=Et(Ib),Yb=b({},Na,{data:0}),ih=Et(Yb),Vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kb[e])?!!t[e]:!1}function vu(){return Jb}var Xb=b({},Di,{key:function(e){if(e.key){var t=Vb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qb=Et(Xb),Zb=b({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=Et(Zb),Fb=b({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Wb=Et(Fb),ev=b({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Et(ev),nv=b({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Et(nv),rv=b({},Na,{newState:0,oldState:0}),iv=Et(rv),sv=[9,13,27,32],_u=kn&&"CompositionEvent"in window,zi=null;kn&&"documentMode"in document&&(zi=document.documentMode);var lv=kn&&"TextEvent"in window&&!zi,lh=kn&&(!_u||zi&&8<zi&&11>=zi),oh=" ",uh=!1;function ch(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function ov(e,t){switch(e){case"compositionend":return fh(t);case"keypress":return t.which!==32?null:(uh=!0,oh);case"textInput":return e=t.data,e===oh&&uh?null:e;default:return null}}function uv(e,t){if(_r)return e==="compositionend"||!_u&&ch(e,t)?(e=nh(),tl=gu=ra=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lh&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function hh(e,t,r,l){br?vr?vr.push(l):vr=[l]:br=l,t=Jl(t,"onChange"),0<t.length&&(r=new rl("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Mi=null,qi=null;function fv(e){Xm(e,0)}function sl(e){var t=Ci(e);if(Jd(t))return e}function mh(e,t){if(e==="change")return t}var gh=!1;if(kn){var xu;if(kn){var wu="oninput"in document;if(!wu){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),wu=typeof ph.oninput=="function"}xu=wu}else xu=!1;gh=xu&&(!document.documentMode||9<document.documentMode)}function yh(){Mi&&(Mi.detachEvent("onpropertychange",bh),qi=Mi=null)}function bh(e){if(e.propertyName==="value"&&sl(qi)){var t=[];hh(t,qi,e,du(e)),th(fv,t)}}function dv(e,t,r){e==="focusin"?(yh(),Mi=t,qi=r,Mi.attachEvent("onpropertychange",bh)):e==="focusout"&&yh()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(qi)}function mv(e,t){if(e==="click")return sl(t)}function gv(e,t){if(e==="input"||e==="change")return sl(t)}function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:pv;function Li(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Wo.call(t,c)||!zt(e[c],t[c]))return!1}return!0}function vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _h(e,t){var r=vh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vh(r)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ws(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yv=kn&&"documentMode"in document&&11>=document.documentMode,xr=null,Eu=null,Bi=null,Au=!1;function Sh(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||xr==null||xr!==Ws(l)||(l=xr,"selectionStart"in l&&Su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bi&&Li(Bi,l)||(Bi=l,l=Jl(Eu,"onSelect"),0<l.length&&(t=new rl("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=xr)))}function za(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Tu={},Eh={};kn&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Ma(e){if(Tu[e])return Tu[e];if(!wr[e])return e;var t=wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Eh)return Tu[e]=t[r];return e}var Ah=Ma("animationend"),Th=Ma("animationiteration"),Oh=Ma("animationstart"),bv=Ma("transitionrun"),vv=Ma("transitionstart"),_v=Ma("transitioncancel"),Rh=Ma("transitionend"),jh=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function fn(e,t){jh.set(e,t),Da(t,[e])}var ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Sr=0,Ru=0;function ol(){for(var e=Sr,t=Ru=Sr=0;t<e;){var r=Wt[t];Wt[t++]=null;var l=Wt[t];Wt[t++]=null;var c=Wt[t];Wt[t++]=null;var d=Wt[t];if(Wt[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}d!==0&&Ch(r,c,d)}}function ul(e,t,r,l){Wt[Sr++]=e,Wt[Sr++]=t,Wt[Sr++]=r,Wt[Sr++]=l,Ru|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ju(e,t,r,l){return ul(e,t,r,l),cl(e)}function qa(e,t){return ul(e,null,null,t),cl(e)}function Ch(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Nt(r),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),d):null}function cl(e){if(50<ls)throw ls=0,Lc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Er={};function xv(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,r,l){return new xv(e,t,r,l)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,t){var r=e.alternate;return r===null?(r=Mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Uh(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fl(e,t,r,l,c,d){var p=0;if(l=e,typeof e=="function")Cu(e)&&(p=1);else if(typeof e=="string")p=T_(e,r,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=Mt(31,r,t,c),e.elementType=se,e.lanes=d,e;case T:return La(r.children,c,d,t);case k:p=8,c|=24;break;case I:return e=Mt(12,r,t,c|2),e.elementType=I,e.lanes=d,e;case Q:return e=Mt(13,r,t,c),e.elementType=Q,e.lanes=d,e;case F:return e=Mt(19,r,t,c),e.elementType=F,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:p=10;break e;case C:p=9;break e;case Z:p=11;break e;case M:p=14;break e;case J:p=16,l=null;break e}p=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Mt(p,r,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function La(e,t,r,l){return e=Mt(7,e,l,t),e.lanes=r,e}function Uu(e,t,r){return e=Mt(6,e,null,t),e.lanes=r,e}function kh(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function ku(e,t,r){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dh=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var r=Dh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:kd(t)},Dh.set(e,t),t)}return{value:e,source:t,stack:kd(t)}}var Ar=[],Tr=0,dl=null,$i=0,tn=[],nn=0,ia=null,wn=1,Sn="";function Nn(e,t){Ar[Tr++]=$i,Ar[Tr++]=dl,dl=e,$i=t}function Nh(e,t,r){tn[nn++]=wn,tn[nn++]=Sn,tn[nn++]=ia,ia=e;var l=wn;e=Sn;var c=32-Nt(l)-1;l&=~(1<<c),r+=1;var d=32-Nt(t)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,wn=1<<32-Nt(t)+c|r<<c|l,Sn=d+e}else wn=1<<d|r<<c|l,Sn=e}function Du(e){e.return!==null&&(Nn(e,1),Nh(e,1,0))}function Nu(e){for(;e===dl;)dl=Ar[--Tr],Ar[Tr]=null,$i=Ar[--Tr],Ar[Tr]=null;for(;e===ia;)ia=tn[--nn],tn[nn]=null,Sn=tn[--nn],tn[nn]=null,wn=tn[--nn],tn[nn]=null}function zh(e,t){tn[nn++]=wn,tn[nn++]=Sn,tn[nn++]=ia,wn=t.id,Sn=t.overflow,ia=e}var mt=null,Ge=null,Re=!1,sa=null,an=!1,zu=Error(s(519));function la(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(en(t,e)),zu}function Mh(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[ht]=e,t[St]=l,r){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(r=0;r<us.length;r++)Ae(us[r],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Xd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),Zd(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Wm(t.textContent,r)?(l.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),l.onScroll!=null&&Ae("scroll",t),l.onScrollEnd!=null&&Ae("scrollend",t),l.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||la(e,!0)}function qh(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:mt=mt.return}}function Or(e){if(e!==mt)return!1;if(!Re)return qh(e),Re=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Wc(e.type,e.memoizedProps)),r=!r),r&&Ge&&la(e),qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=og(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=og(e)}else t===27?(t=Ge,xa(e.type)?(e=rf,rf=null,Ge=e):Ge=t):Ge=mt?sn(e.stateNode.nextSibling):null;return!0}function Ba(){Ge=mt=null,Re=!1}function Mu(){var e=sa;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),sa=null),e}function Hi(e){sa===null?sa=[e]:sa.push(e)}var qu=E(null),$a=null,zn=null;function oa(e,t,r){ie(qu,t._currentValue),t._currentValue=r}function Mn(e){e._currentValue=qu.current,P(qu)}function Lu(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Bu(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var A=0;A<t.length;A++)if(v.context===t[A]){d.lanes|=r,v=d.alternate,v!==null&&(v.lanes|=r),Lu(d.return,r,e),l||(p=null);break e}d=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=r,d=p.alternate,d!==null&&(d.lanes|=r),Lu(p,r,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Rr(e,t,r,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=c.type;zt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===je.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ms):e=[ms])}c=c.return}e!==null&&Bu(t,e,r,l),t.flags|=262144}function hl(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ha(e){$a=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return Lh($a,e)}function ml(e,t){return $a===null&&Ha(e),Lh(e,t)}function Lh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},zn===null){if(e===null)throw Error(s(308));zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zn=zn.next=t;return r}var wv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Sv=a.unstable_scheduleCallback,Ev=a.unstable_NormalPriority,tt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new wv,data:new Map,refCount:0}}function Ii(e){e.refCount--,e.refCount===0&&Sv(Ev,function(){e.controller.abort()})}var Gi=null,Hu=0,jr=0,Cr=null;function Av(e,t){if(Gi===null){var r=Gi=[];Hu=0,jr=Yc(),Cr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Hu++,t.then(Bh,Bh),t}function Bh(){if(--Hu===0&&Gi!==null){Cr!==null&&(Cr.status="fulfilled");var e=Gi;Gi=null,jr=0,Cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tv(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var $h=w.S;w.S=function(e,t){Sm=kt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Av(e,t),$h!==null&&$h(e,t)};var Ia=E(null);function Iu(){var e=Ia.current;return e!==null?e:He.pooledCache}function gl(e,t){t===null?ie(Ia,Ia.current):ie(Ia,t.pool)}function Hh(){var e=Iu();return e===null?null:{parent:tt._currentValue,pool:e}}var Ur=Error(s(460)),Gu=Error(s(474)),pl=Error(s(542)),yl={then:function(){}};function Ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Un,Un),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vh(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vh(e),e}throw Ya=t,Ur}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ya=r,Ur):r}}var Ya=null;function Yh(){if(Ya===null)throw Error(s(459));var e=Ya;return Ya=null,e}function Vh(e){if(e===Ur||e===pl)throw Error(s(483))}var kr=null,Yi=0;function bl(e){var t=Yi;return Yi+=1,kr===null&&(kr=[]),Gh(kr,e,t)}function Vi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vl(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ph(e){function t(D,R){if(e){var $=D.deletions;$===null?(D.deletions=[R],D.flags|=16):$.push(R)}}function r(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function l(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function c(D,R){return D=Dn(D,R),D.index=0,D.sibling=null,D}function d(D,R,$){return D.index=$,e?($=D.alternate,$!==null?($=$.index,$<R?(D.flags|=67108866,R):$):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function p(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function v(D,R,$,ee){return R===null||R.tag!==6?(R=Uu($,D.mode,ee),R.return=D,R):(R=c(R,$),R.return=D,R)}function A(D,R,$,ee){var me=$.type;return me===T?W(D,R,$.props.children,ee,$.key):R!==null&&(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&Ga(me)===R.type)?(R=c(R,$.props),Vi(R,$),R.return=D,R):(R=fl($.type,$.key,$.props,null,D.mode,ee),Vi(R,$),R.return=D,R)}function H(D,R,$,ee){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=ku($,D.mode,ee),R.return=D,R):(R=c(R,$.children||[]),R.return=D,R)}function W(D,R,$,ee,me){return R===null||R.tag!==7?(R=La($,D.mode,ee,me),R.return=D,R):(R=c(R,$),R.return=D,R)}function te(D,R,$){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Uu(""+R,D.mode,$),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return $=fl(R.type,R.key,R.props,null,D.mode,$),Vi($,R),$.return=D,$;case S:return R=ku(R,D.mode,$),R.return=D,R;case J:return R=Ga(R),te(D,R,$)}if(U(R)||L(R))return R=La(R,D.mode,$,null),R.return=D,R;if(typeof R.then=="function")return te(D,bl(R),$);if(R.$$typeof===j)return te(D,ml(D,R),$);vl(D,R)}return null}function Y(D,R,$,ee){var me=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:v(D,R,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return $.key===me?A(D,R,$,ee):null;case S:return $.key===me?H(D,R,$,ee):null;case J:return $=Ga($),Y(D,R,$,ee)}if(U($)||L($))return me!==null?null:W(D,R,$,ee,null);if(typeof $.then=="function")return Y(D,R,bl($),ee);if($.$$typeof===j)return Y(D,R,ml(D,$),ee);vl(D,$)}return null}function K(D,R,$,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return D=D.get($)||null,v(R,D,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return D=D.get(ee.key===null?$:ee.key)||null,A(R,D,ee,me);case S:return D=D.get(ee.key===null?$:ee.key)||null,H(R,D,ee,me);case J:return ee=Ga(ee),K(D,R,$,ee,me)}if(U(ee)||L(ee))return D=D.get($)||null,W(R,D,ee,me,null);if(typeof ee.then=="function")return K(D,R,$,bl(ee),me);if(ee.$$typeof===j)return K(D,R,$,ml(R,ee),me);vl(R,ee)}return null}function ue(D,R,$,ee){for(var me=null,Ce=null,ce=R,we=R=0,Oe=null;ce!==null&&we<$.length;we++){ce.index>we?(Oe=ce,ce=null):Oe=ce.sibling;var Ue=Y(D,ce,$[we],ee);if(Ue===null){ce===null&&(ce=Oe);break}e&&ce&&Ue.alternate===null&&t(D,ce),R=d(Ue,R,we),Ce===null?me=Ue:Ce.sibling=Ue,Ce=Ue,ce=Oe}if(we===$.length)return r(D,ce),Re&&Nn(D,we),me;if(ce===null){for(;we<$.length;we++)ce=te(D,$[we],ee),ce!==null&&(R=d(ce,R,we),Ce===null?me=ce:Ce.sibling=ce,Ce=ce);return Re&&Nn(D,we),me}for(ce=l(ce);we<$.length;we++)Oe=K(ce,D,we,$[we],ee),Oe!==null&&(e&&Oe.alternate!==null&&ce.delete(Oe.key===null?we:Oe.key),R=d(Oe,R,we),Ce===null?me=Oe:Ce.sibling=Oe,Ce=Oe);return e&&ce.forEach(function(Ta){return t(D,Ta)}),Re&&Nn(D,we),me}function pe(D,R,$,ee){if($==null)throw Error(s(151));for(var me=null,Ce=null,ce=R,we=R=0,Oe=null,Ue=$.next();ce!==null&&!Ue.done;we++,Ue=$.next()){ce.index>we?(Oe=ce,ce=null):Oe=ce.sibling;var Ta=Y(D,ce,Ue.value,ee);if(Ta===null){ce===null&&(ce=Oe);break}e&&ce&&Ta.alternate===null&&t(D,ce),R=d(Ta,R,we),Ce===null?me=Ta:Ce.sibling=Ta,Ce=Ta,ce=Oe}if(Ue.done)return r(D,ce),Re&&Nn(D,we),me;if(ce===null){for(;!Ue.done;we++,Ue=$.next())Ue=te(D,Ue.value,ee),Ue!==null&&(R=d(Ue,R,we),Ce===null?me=Ue:Ce.sibling=Ue,Ce=Ue);return Re&&Nn(D,we),me}for(ce=l(ce);!Ue.done;we++,Ue=$.next())Ue=K(ce,D,we,Ue.value,ee),Ue!==null&&(e&&Ue.alternate!==null&&ce.delete(Ue.key===null?we:Ue.key),R=d(Ue,R,we),Ce===null?me=Ue:Ce.sibling=Ue,Ce=Ue);return e&&ce.forEach(function(q_){return t(D,q_)}),Re&&Nn(D,we),me}function $e(D,R,$,ee){if(typeof $=="object"&&$!==null&&$.type===T&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case x:e:{for(var me=$.key;R!==null;){if(R.key===me){if(me=$.type,me===T){if(R.tag===7){r(D,R.sibling),ee=c(R,$.props.children),ee.return=D,D=ee;break e}}else if(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===J&&Ga(me)===R.type){r(D,R.sibling),ee=c(R,$.props),Vi(ee,$),ee.return=D,D=ee;break e}r(D,R);break}else t(D,R);R=R.sibling}$.type===T?(ee=La($.props.children,D.mode,ee,$.key),ee.return=D,D=ee):(ee=fl($.type,$.key,$.props,null,D.mode,ee),Vi(ee,$),ee.return=D,D=ee)}return p(D);case S:e:{for(me=$.key;R!==null;){if(R.key===me)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){r(D,R.sibling),ee=c(R,$.children||[]),ee.return=D,D=ee;break e}else{r(D,R);break}else t(D,R);R=R.sibling}ee=ku($,D.mode,ee),ee.return=D,D=ee}return p(D);case J:return $=Ga($),$e(D,R,$,ee)}if(U($))return ue(D,R,$,ee);if(L($)){if(me=L($),typeof me!="function")throw Error(s(150));return $=me.call($),pe(D,R,$,ee)}if(typeof $.then=="function")return $e(D,R,bl($),ee);if($.$$typeof===j)return $e(D,R,ml(D,$),ee);vl(D,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,R!==null&&R.tag===6?(r(D,R.sibling),ee=c(R,$),ee.return=D,D=ee):(r(D,R),ee=Uu($,D.mode,ee),ee.return=D,D=ee),p(D)):r(D,R)}return function(D,R,$,ee){try{Yi=0;var me=$e(D,R,$,ee);return kr=null,me}catch(ce){if(ce===Ur||ce===pl)throw ce;var Ce=Mt(29,ce,null,D.mode);return Ce.lanes=ee,Ce.return=D,Ce}}}var Va=Ph(!0),Kh=Ph(!1),ua=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fa(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=cl(e),Ch(e,null,r),t}return ul(e,l,t,r),cl(e)}function Pi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ld(e,r)}}function Pu(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Ku=!1;function Ki(){if(Ku){var e=Cr;if(e!==null)throw e}}function Ji(e,t,r,l){Ku=!1;var c=e.updateQueue;ua=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var A=v,H=A.next;A.next=null,p===null?d=H:p.next=H,p=A;var W=e.alternate;W!==null&&(W=W.updateQueue,v=W.lastBaseUpdate,v!==p&&(v===null?W.firstBaseUpdate=H:v.next=H,W.lastBaseUpdate=A))}if(d!==null){var te=c.baseState;p=0,W=H=A=null,v=d;do{var Y=v.lane&-536870913,K=Y!==v.lane;if(K?(Te&Y)===Y:(l&Y)===Y){Y!==0&&Y===jr&&(Ku=!0),W!==null&&(W=W.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ue=e,pe=v;Y=t;var $e=r;switch(pe.tag){case 1:if(ue=pe.payload,typeof ue=="function"){te=ue.call($e,te,Y);break e}te=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=pe.payload,Y=typeof ue=="function"?ue.call($e,te,Y):ue,Y==null)break e;te=b({},te,Y);break e;case 2:ua=!0}}Y=v.callback,Y!==null&&(e.flags|=64,K&&(e.flags|=8192),K=c.callbacks,K===null?c.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},W===null?(H=W=K,A=te):W=W.next=K,p|=Y;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;K=v,v=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);W===null&&(A=te),c.baseState=A,c.firstBaseUpdate=H,c.lastBaseUpdate=W,d===null&&(c.shared.lanes=0),pa|=p,e.lanes=p,e.memoizedState=te}}function Jh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Xh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jh(r[e],t)}var Dr=E(null),_l=E(0);function Qh(e,t){e=Vn,ie(_l,e),ie(Dr,t),Vn=e|t.baseLanes}function Ju(){ie(_l,Vn),ie(Dr,Dr.current)}function Xu(){Vn=_l.current,P(Dr),P(_l)}var qt=E(null),rn=null;function da(e){var t=e.alternate;ie(Ze,Ze.current&1),ie(qt,e),rn===null&&(t===null||Dr.current!==null||t.memoizedState!==null)&&(rn=e)}function Qu(e){ie(Ze,Ze.current),ie(qt,e),rn===null&&(rn=e)}function Zh(e){e.tag===22?(ie(Ze,Ze.current),ie(qt,e),rn===null&&(rn=e)):ha()}function ha(){ie(Ze,Ze.current),ie(qt,qt.current)}function Lt(e){P(qt),rn===e&&(rn=null),P(Ze)}var Ze=E(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||nf(r)||af(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qn=0,xe=null,Le=null,nt=null,wl=!1,Nr=!1,Pa=!1,Sl=0,Xi=0,zr=null,Ov=0;function Je(){throw Error(s(321))}function Zu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zt(e[r],t[r]))return!1;return!0}function Fu(e,t,r,l,c,d){return qn=d,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?N0:hc,Pa=!1,d=r(l,c),Pa=!1,Nr&&(d=Wh(t,r,l,c)),Fh(e),d}function Fh(e){w.H=Fi;var t=Le!==null&&Le.next!==null;if(qn=0,nt=Le=xe=null,wl=!1,Xi=0,zr=null,t)throw Error(s(300));e===null||at||(e=e.dependencies,e!==null&&hl(e)&&(at=!0))}function Wh(e,t,r,l){xe=e;var c=0;do{if(Nr&&(zr=null),Xi=0,Nr=!1,25<=c)throw Error(s(301));if(c+=1,nt=Le=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=z0,d=t(r,l)}while(Nr);return d}function Rv(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Qi(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(xe.flags|=1024),t}function Wu(){var e=Sl!==0;return Sl=0,e}function ec(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function tc(e){if(wl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wl=!1}qn=0,nt=Le=xe=null,Nr=!1,Xi=Sl=0,zr=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?xe.memoizedState=nt=e:nt=nt.next=e,nt}function Fe(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=nt===null?xe.memoizedState:nt.next;if(t!==null)nt=t,Le=e;else{if(e===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},nt===null?xe.memoizedState=nt=e:nt=nt.next=e}return nt}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(e){var t=Xi;return Xi+=1,zr===null&&(zr=[]),e=Gh(zr,e,t),t=xe,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?N0:hc),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qi(e);if(e.$$typeof===j)return gt(e)}throw Error(s(438,String(e)))}function nc(e){var t=null,r=xe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=El(),xe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=he;return t.index++,r}function Ln(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Fe();return ac(t,Le,e)}function ac(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var v=p=null,A=null,H=t,W=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Te&te)===te:(qn&te)===te){var Y=H.revertLane;if(Y===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===jr&&(W=!0);else if((qn&Y)===Y){H=H.next,Y===jr&&(W=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},A===null?(v=A=te,p=d):A=A.next=te,xe.lanes|=Y,pa|=Y;te=H.action,Pa&&r(d,te),d=H.hasEagerState?H.eagerState:r(d,te)}else Y={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},A===null?(v=A=Y,p=d):A=A.next=Y,xe.lanes|=te,pa|=te;H=H.next}while(H!==null&&H!==t);if(A===null?p=d:A.next=v,!zt(d,e.memoizedState)&&(at=!0,W&&(r=Cr,r!==null)))throw r;e.memoizedState=d,e.baseState=p,e.baseQueue=A,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rc(e){var t=Fe(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);zt(d,t.memoizedState)||(at=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,l]}function e0(e,t,r){var l=xe,c=Fe(),d=Re;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=t();var p=!zt((Le||c).memoizedState,r);if(p&&(c.memoizedState=r,at=!0),c=c.queue,lc(a0.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Mr(9,{destroy:void 0},n0.bind(null,l,c,r,t),null),He===null)throw Error(s(349));d||(qn&127)!==0||t0(l,t,r)}return r}function t0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t=El(),xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n0(e,t,r,l){t.value=r,t.getSnapshot=l,r0(t)&&i0(e)}function a0(e,t,r){return r(function(){r0(t)&&i0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zt(e,r)}catch{return!0}}function i0(e){var t=qa(e,2);t!==null&&jt(t,e,2)}function ic(e){var t=xt();if(typeof e=="function"){var r=e;if(e=r(),Pa){na(!0);try{r()}finally{na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},t}function s0(e,t,r,l){return e.baseState=r,ac(e,Le,typeof l=="function"?l:Ln)}function jv(e,t,r,l,c){if(jl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};w.T!==null?r(!0):d.isTransition=!1,l(d),r=t.pending,r===null?(d.next=t.pending=d,l0(t,d)):(d.next=r.next,t.pending=r.next=d)}}function l0(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=w.T,p={};w.T=p;try{var v=r(c,l),A=w.S;A!==null&&A(p,v),o0(e,t,v)}catch(H){sc(e,t,H)}finally{d!==null&&p.types!==null&&(d.types=p.types),w.T=d}}else try{d=r(c,l),o0(e,t,d)}catch(H){sc(e,t,H)}}function o0(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){u0(e,t,l)},function(l){return sc(e,t,l)}):u0(e,t,r)}function u0(e,t,r){t.status="fulfilled",t.value=r,c0(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,l0(e,r)))}function sc(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,c0(t),t=t.next;while(t!==l)}e.action=null}function c0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function f0(e,t){return t}function d0(e,t){if(Re){var r=He.formState;if(r!==null){e:{var l=xe;if(Re){if(Ge){t:{for(var c=Ge,d=an;c.nodeType!==8;){if(!d){c=null;break t}if(c=sn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ge=sn(c.nextSibling),l=c.data==="F!";break e}}la(l)}l=!1}l&&(t=r[0])}}return r=xt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:t},r.queue=l,r=U0.bind(null,xe,l),l.dispatch=r,l=ic(!1),d=dc.bind(null,xe,!1,l.queue),l=xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=jv.bind(null,xe,c,d,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function h0(e){var t=Fe();return m0(t,Le,e)}function m0(e,t,r){if(t=ac(e,t,f0)[0],e=Tl(Ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Qi(t)}catch(p){throw p===Ur?pl:p}else l=t;t=Fe();var c=t.queue,d=c.dispatch;return r!==t.memoizedState&&(xe.flags|=2048,Mr(9,{destroy:void 0},Cv.bind(null,c,r),null)),[l,d,e]}function Cv(e,t){e.action=t}function g0(e){var t=Fe(),r=Le;if(r!==null)return m0(t,r,e);Fe(),t=t.memoizedState,r=Fe();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function Mr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=xe.updateQueue,t===null&&(t=El(),xe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function p0(){return Fe().memoizedState}function Ol(e,t,r,l){var c=xt();xe.flags|=e,c.memoizedState=Mr(1|t,{destroy:void 0},r,l===void 0?null:l)}function Rl(e,t,r,l){var c=Fe();l=l===void 0?null:l;var d=c.memoizedState.inst;Le!==null&&l!==null&&Zu(l,Le.memoizedState.deps)?c.memoizedState=Mr(t,d,r,l):(xe.flags|=e,c.memoizedState=Mr(1|t,d,r,l))}function y0(e,t){Ol(8390656,8,e,t)}function lc(e,t){Rl(2048,8,e,t)}function Uv(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=El(),xe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function b0(e){var t=Fe().memoizedState;return Uv({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function v0(e,t){return Rl(4,2,e,t)}function _0(e,t){return Rl(4,4,e,t)}function x0(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w0(e,t,r){r=r!=null?r.concat([e]):null,Rl(4,4,x0.bind(null,t,e),r)}function oc(){}function S0(e,t){var r=Fe();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Zu(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function E0(e,t){var r=Fe();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Zu(t,l[1]))return l[0];if(l=e(),Pa){na(!0);try{e()}finally{na(!1)}}return r.memoizedState=[l,t],l}function uc(e,t,r){return r===void 0||(qn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Am(),xe.lanes|=e,pa|=e,r)}function A0(e,t,r,l){return zt(r,t)?r:Dr.current!==null?(e=uc(e,r,l),zt(e,t)||(at=!0),e):(qn&42)===0||(qn&1073741824)!==0&&(Te&261930)===0?(at=!0,e.memoizedState=r):(e=Am(),xe.lanes|=e,pa|=e,t)}function T0(e,t,r,l,c){var d=B.p;B.p=d!==0&&8>d?d:8;var p=w.T,v={};w.T=v,dc(e,!1,t,r);try{var A=c(),H=w.S;if(H!==null&&H(v,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var W=Tv(A,l);Zi(e,t,W,Ht(e))}else Zi(e,t,l,Ht(e))}catch(te){Zi(e,t,{then:function(){},status:"rejected",reason:te},Ht())}finally{B.p=d,p!==null&&v.types!==null&&(p.types=v.types),w.T=p}}function kv(){}function cc(e,t,r,l){if(e.tag!==5)throw Error(s(476));var c=O0(e).queue;T0(e,c,t,ae,r===null?kv:function(){return R0(e),r(l)})}function O0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:ae},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function R0(e){var t=O0(e);t.next===null&&(t=e.alternate.memoizedState),Zi(e,t.next.queue,{},Ht())}function fc(){return gt(ms)}function j0(){return Fe().memoizedState}function C0(){return Fe().memoizedState}function Dv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Ht();e=ca(r);var l=fa(t,e,r);l!==null&&(jt(l,t,r),Pi(l,t,r)),t={cache:$u()},e.payload=t;return}t=t.return}}function Nv(e,t,r){var l=Ht();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jl(e)?k0(t,r):(r=ju(e,t,r,l),r!==null&&(jt(r,e,l),D0(r,t,l)))}function U0(e,t,r){var l=Ht();Zi(e,t,r,l)}function Zi(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(jl(e))k0(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,r);if(c.hasEagerState=!0,c.eagerState=v,zt(v,p))return ul(e,t,c,0),He===null&&ol(),!1}catch{}if(r=ju(e,t,c,l),r!==null)return jt(r,e,l),D0(r,t,l),!0}return!1}function dc(e,t,r,l){if(l={lane:2,revertLane:Yc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(t)throw Error(s(479))}else t=ju(e,r,l,2),t!==null&&jt(t,e,2)}function jl(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function k0(e,t){Nr=wl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D0(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Ld(e,r)}}var Fi={readContext:gt,use:Al,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Fi.useEffectEvent=Je;var N0={readContext:gt,use:Al,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:y0,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ol(4194308,4,x0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var r=xt();t=t===void 0?null:t;var l=e();if(Pa){na(!0);try{e()}finally{na(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=xt();if(r!==void 0){var c=r(t);if(Pa){na(!0);try{r(t)}finally{na(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Nv.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:function(e){e=ic(e);var t=e.queue,r=U0.bind(null,xe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:oc,useDeferredValue:function(e,t){var r=xt();return uc(r,e,t)},useTransition:function(){var e=ic(!1);return e=T0.bind(null,xe,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=xe,c=xt();if(Re){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),He===null)throw Error(s(349));(Te&127)!==0||t0(l,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,y0(a0.bind(null,l,d,e),[e]),l.flags|=2048,Mr(9,{destroy:void 0},n0.bind(null,l,d,r,t),null),r},useId:function(){var e=xt(),t=He.identifierPrefix;if(Re){var r=Sn,l=wn;r=(l&~(1<<32-Nt(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Sl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Ov++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:fc,useFormState:d0,useActionState:d0,useOptimistic:function(e){var t=xt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=dc.bind(null,xe,!0,r),r.dispatch=t,[e,t]},useMemoCache:nc,useCacheRefresh:function(){return xt().memoizedState=Dv.bind(null,xe)},useEffectEvent:function(e){var t=xt(),r={impl:e};return t.memoizedState=r,function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},hc={readContext:gt,use:Al,useCallback:S0,useContext:gt,useEffect:lc,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:E0,useReducer:Tl,useRef:p0,useState:function(){return Tl(Ln)},useDebugValue:oc,useDeferredValue:function(e,t){var r=Fe();return A0(r,Le.memoizedState,e,t)},useTransition:function(){var e=Tl(Ln)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:e0,useId:j0,useHostTransitionStatus:fc,useFormState:h0,useActionState:h0,useOptimistic:function(e,t){var r=Fe();return s0(r,Le,e,t)},useMemoCache:nc,useCacheRefresh:C0};hc.useEffectEvent=b0;var z0={readContext:gt,use:Al,useCallback:S0,useContext:gt,useEffect:lc,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:E0,useReducer:rc,useRef:p0,useState:function(){return rc(Ln)},useDebugValue:oc,useDeferredValue:function(e,t){var r=Fe();return Le===null?uc(r,e,t):A0(r,Le.memoizedState,e,t)},useTransition:function(){var e=rc(Ln)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Qi(e),t]},useSyncExternalStore:e0,useId:j0,useHostTransitionStatus:fc,useFormState:g0,useActionState:g0,useOptimistic:function(e,t){var r=Fe();return Le!==null?s0(r,Le,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nc,useCacheRefresh:C0};z0.useEffectEvent=b0;function mc(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:b({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gc={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Ht(),c=ca(l);c.payload=t,r!=null&&(c.callback=r),t=fa(e,c,l),t!==null&&(jt(t,e,l),Pi(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Ht(),c=ca(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=fa(e,c,l),t!==null&&(jt(t,e,l),Pi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),l=ca(r);l.tag=2,t!=null&&(l.callback=t),t=fa(e,l,r),t!==null&&(jt(t,e,r),Pi(t,e,r))}};function M0(e,t,r,l,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):t.prototype&&t.prototype.isPureReactComponent?!Li(r,l)||!Li(c,d):!0}function q0(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&gc.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function L0(e){ll(e)}function B0(e){console.error(e)}function $0(e){ll(e)}function Cl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function H0(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function pc(e,t,r){return r=ca(r),r.tag=3,r.payload={element:null},r.callback=function(){Cl(e,t)},r}function I0(e){return e=ca(e),e.tag=3,e}function G0(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){H0(t,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){H0(t,r,l),typeof c!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function zv(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&Rr(t,r,c,!0),r=qt.current,r!==null){switch(r.tag){case 31:case 13:return rn===null?Il():r.alternate===null&&Xe===0&&(Xe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===yl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),Hc(e,l,c)),!1;case 22:return r.flags|=65536,l===yl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),Hc(e,l,c)),!1}throw Error(s(435,r.tag))}return Hc(e,l,c),Il(),!1}if(Re)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==zu&&(e=Error(s(422),{cause:l}),Hi(en(e,r)))):(l!==zu&&(t=Error(s(423),{cause:l}),Hi(en(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=en(l,r),c=pc(e.stateNode,l,c),Pu(e,c),Xe!==4&&(Xe=2)),!1;var d=Error(s(520),{cause:l});if(d=en(d,r),ss===null?ss=[d]:ss.push(d),Xe!==4&&(Xe=2),t===null)return!0;l=en(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=pc(r.stateNode,l,e),Pu(r,e),!1;case 1:if(t=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ya===null||!ya.has(d))))return r.flags|=65536,c&=-c,r.lanes|=c,c=I0(c),G0(c,e,r,l),Pu(r,c),!1}r=r.return}while(r!==null);return!1}var yc=Error(s(461)),at=!1;function pt(e,t,r,l){t.child=e===null?Kh(t,null,r,l):Va(t,e.child,r,l)}function Y0(e,t,r,l,c){r=r.render;var d=t.ref;if("ref"in l){var p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}else p=l;return Ha(t),l=Fu(e,t,r,p,d,c),v=Wu(),e!==null&&!at?(ec(e,t,c),Bn(e,t,c)):(Re&&v&&Du(t),t.flags|=1,pt(e,t,l,c),t.child)}function V0(e,t,r,l,c){if(e===null){var d=r.type;return typeof d=="function"&&!Cu(d)&&d.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=d,P0(e,t,d,l,c)):(e=fl(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ac(e,c)){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:Li,r(p,l)&&e.ref===t.ref)return Bn(e,t,c)}return t.flags|=1,e=Dn(d,l),e.ref=t.ref,e.return=t,t.child=e}function P0(e,t,r,l,c){if(e!==null){var d=e.memoizedProps;if(Li(d,l)&&e.ref===t.ref)if(at=!1,t.pendingProps=l=d,Ac(e,c))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Bn(e,t,c)}return bc(e,t,r,l,c)}function K0(e,t,r,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return J0(e,t,d,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(t,d!==null?d.cachePool:null),d!==null?Qh(t,d):Ju(),Zh(t);else return l=t.lanes=536870912,J0(e,t,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(gl(t,d.cachePool),Qh(t,d),ha(),t.memoizedState=null):(e!==null&&gl(t,null),Ju(),ha());return pt(e,t,c,r),t.child}function Wi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function J0(e,t,r,l,c){var d=Iu();return d=d===null?null:{parent:tt._currentValue,pool:d},t.memoizedState={baseLanes:r,cachePool:d},e!==null&&gl(t,null),Ju(),Zh(t),e!==null&&Rr(e,t,l,!0),t.childLanes=c,null}function Ul(e,t){return t=Dl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function X0(e,t,r){return Va(t,e.child,null,r),e=Ul(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function Mv(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(l.mode==="hidden")return e=Ul(t,l),t.lanes=536870912,Wi(null,e);if(Qu(t),(e=Ge)?(e=lg(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:wn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=kh(e),r.return=t,t.child=r,mt=t,Ge=null)):e=null,e===null)throw la(t);return t.lanes=536870912,null}return Ul(t,l)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Qu(t),c)if(t.flags&256)t.flags&=-257,t=X0(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(at||Rr(e,t,r,!1),c=(r&e.childLanes)!==0,at||c){if(l=He,l!==null&&(p=Bd(l,r),p!==0&&p!==d.retryLane))throw d.retryLane=p,qa(e,p),jt(l,e,p),yc;Il(),t=X0(e,t,r)}else e=d.treeContext,Ge=sn(p.nextSibling),mt=t,Re=!0,sa=null,an=!1,e!==null&&zh(t,e),t=Ul(t,l),t.flags|=4096;return t}return e=Dn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kl(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function bc(e,t,r,l,c){return Ha(t),r=Fu(e,t,r,l,void 0,c),l=Wu(),e!==null&&!at?(ec(e,t,c),Bn(e,t,c)):(Re&&l&&Du(t),t.flags|=1,pt(e,t,r,c),t.child)}function Q0(e,t,r,l,c,d){return Ha(t),t.updateQueue=null,r=Wh(t,l,r,c),Fh(e),l=Wu(),e!==null&&!at?(ec(e,t,d),Bn(e,t,d)):(Re&&l&&Du(t),t.flags|=1,pt(e,t,r,d),t.child)}function Z0(e,t,r,l,c){if(Ha(t),t.stateNode===null){var d=Er,p=r.contextType;typeof p=="object"&&p!==null&&(d=gt(p)),d=new r(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Yu(t),p=r.contextType,d.context=typeof p=="object"&&p!==null?gt(p):Er,d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(mc(t,r,p,l),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&gc.enqueueReplaceState(d,d.state,null),Ji(t,l,d,c),Ki(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var v=t.memoizedProps,A=Ka(r,v);d.props=A;var H=d.context,W=r.contextType;p=Er,typeof W=="object"&&W!==null&&(p=gt(W));var te=r.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||H!==p)&&q0(t,d,l,p),ua=!1;var Y=t.memoizedState;d.state=Y,Ji(t,l,d,c),Ki(),H=t.memoizedState,v||Y!==H||ua?(typeof te=="function"&&(mc(t,r,te,l),H=t.memoizedState),(A=ua||M0(t,r,A,l,Y,H,p))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=H),d.props=l,d.state=H,d.context=p,l=A):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Vu(e,t),p=t.memoizedProps,W=Ka(r,p),d.props=W,te=t.pendingProps,Y=d.context,H=r.contextType,A=Er,typeof H=="object"&&H!==null&&(A=gt(H)),v=r.getDerivedStateFromProps,(H=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==te||Y!==A)&&q0(t,d,l,A),ua=!1,Y=t.memoizedState,d.state=Y,Ji(t,l,d,c),Ki();var K=t.memoizedState;p!==te||Y!==K||ua||e!==null&&e.dependencies!==null&&hl(e.dependencies)?(typeof v=="function"&&(mc(t,r,v,l),K=t.memoizedState),(W=ua||M0(t,r,W,l,Y,K,A)||e!==null&&e.dependencies!==null&&hl(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,A)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=K),d.props=l,d.state=K,d.context=A,l=W):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,kl(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Va(t,e.child,null,c),t.child=Va(t,null,r,c)):pt(e,t,r,c),t.memoizedState=d.state,e=t.child):e=Bn(e,t,c),e}function F0(e,t,r,l){return Ba(),t.flags|=256,pt(e,t,r,l),t.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(e){return{baseLanes:e,cachePool:Hh()}}function xc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=$t),e}function W0(e,t,r){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(c?da(t):ha(),(e=Ge)?(e=lg(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:wn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=kh(e),r.return=t,t.child=r,mt=t,Ge=null)):e=null,e===null)throw la(t);return af(e)?t.lanes=32:t.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(ha(),c=t.mode,v=Dl({mode:"hidden",children:v},c),l=La(l,c,r,null),v.return=t,l.return=t,v.sibling=l,t.child=v,l=t.child,l.memoizedState=_c(r),l.childLanes=xc(e,p,r),t.memoizedState=vc,Wi(null,l)):(da(t),wc(t,v))}var A=e.memoizedState;if(A!==null&&(v=A.dehydrated,v!==null)){if(d)t.flags&256?(da(t),t.flags&=-257,t=Sc(e,t,r)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),v=l.fallback,c=t.mode,l=Dl({mode:"visible",children:l.children},c),v=La(v,c,r,null),v.flags|=2,l.return=t,v.return=t,l.sibling=v,t.child=l,Va(t,e.child,null,r),l=t.child,l.memoizedState=_c(r),l.childLanes=xc(e,p,r),t.memoizedState=vc,t=Wi(null,l));else if(da(t),af(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var H=p.dgst;p=H,l=Error(s(419)),l.stack="",l.digest=p,Hi({value:l,source:null,stack:null}),t=Sc(e,t,r)}else if(at||Rr(e,t,r,!1),p=(r&e.childLanes)!==0,at||p){if(p=He,p!==null&&(l=Bd(p,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,qa(e,l),jt(p,e,l),yc;nf(v)||Il(),t=Sc(e,t,r)}else nf(v)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ge=sn(v.nextSibling),mt=t,Re=!0,sa=null,an=!1,e!==null&&zh(t,e),t=wc(t,l.children),t.flags|=4096);return t}return c?(ha(),v=l.fallback,c=t.mode,A=e.child,H=A.sibling,l=Dn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,H!==null?v=Dn(H,v):(v=La(v,c,r,null),v.flags|=2),v.return=t,l.return=t,l.sibling=v,t.child=l,Wi(null,l),l=t.child,v=e.child.memoizedState,v===null?v=_c(r):(c=v.cachePool,c!==null?(A=tt._currentValue,c=c.parent!==A?{parent:A,pool:A}:c):c=Hh(),v={baseLanes:v.baseLanes|r,cachePool:c}),l.memoizedState=v,l.childLanes=xc(e,p,r),t.memoizedState=vc,Wi(e.child,l)):(da(t),r=e.child,e=r.sibling,r=Dn(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=r,t.memoizedState=null,r)}function wc(e,t){return t=Dl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dl(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Sc(e,t,r){return Va(t,e.child,null,r),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Lu(e.return,t,r)}function Ec(e,t,r,l,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=c,p.treeForkCount=d)}function tm(e,t,r){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var p=Ze.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,ie(Ze,p),pt(e,t,l,r),l=Re?$i:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&em(e,r,t);else if(e.tag===19)em(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&xl(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Ec(t,!1,c,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&xl(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Ec(t,!0,r,null,d,l);break;case"together":Ec(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Rr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Dn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hl(e)))}function qv(e,t,r){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),oa(t,tt,e.memoizedState.cache),Ba();break;case 27:case 5:vn(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(da(t),t.flags|=128,null):(r&t.child.childLanes)!==0?W0(e,t,r):(da(t),e=Bn(e,t,r),e!==null?e.sibling:null);da(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(Rr(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return tm(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(Ze,Ze.current),l)break;return null;case 22:return t.lanes=0,K0(e,t,r,t.pendingProps);case 24:oa(t,tt,e.memoizedState.cache)}return Bn(e,t,r)}function nm(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!Ac(e,r)&&(t.flags&128)===0)return at=!1,qv(e,t,r);at=(e.flags&131072)!==0}else at=!1,Re&&(t.flags&1048576)!==0&&Nh(t,$i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")Cu(e)?(l=Ka(e,l),t.tag=1,t=Z0(null,t,e,l,r)):(t.tag=0,t=bc(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===Z){t.tag=11,t=Y0(null,t,e,l,r);break e}else if(c===M){t.tag=14,t=V0(null,t,e,l,r);break e}}throw t=O(e)||e,Error(s(306,t,""))}}return t;case 0:return bc(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=Ka(l,t.pendingProps),Z0(e,t,l,c,r);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,Vu(e,t),Ji(t,l,null,r);var p=t.memoizedState;if(l=p.cache,oa(t,tt,l),l!==d.cache&&Bu(t,[tt],r,!0),Ki(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=F0(e,t,l,r);break e}else if(l!==c){c=en(Error(s(424)),t),Hi(c),t=F0(e,t,l,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=sn(e.firstChild),mt=t,Re=!0,sa=null,an=!0,r=Kh(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ba(),l===c){t=Bn(e,t,r);break e}pt(e,t,l,r)}t=t.child}return t;case 26:return kl(e,t),e===null?(r=hg(t.type,null,t.pendingProps,null))?t.memoizedState=r:Re||(r=t.type,e=t.pendingProps,l=Xl(fe.current).createElement(r),l[ht]=t,l[St]=e,yt(l,r,e),ft(l),t.stateNode=l):t.memoizedState=hg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vn(t),e===null&&Re&&(l=t.stateNode=cg(t.type,t.pendingProps,fe.current),mt=t,an=!0,c=Ge,xa(t.type)?(rf=c,Ge=sn(l.firstChild)):Ge=c),pt(e,t,t.pendingProps.children,r),kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((c=l=Ge)&&(l=h_(l,t.type,t.pendingProps,an),l!==null?(t.stateNode=l,mt=t,Ge=sn(l.firstChild),an=!1,c=!0):c=!1),c||la(t)),vn(t),c=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,l=d.children,Wc(c,d)?l=null:p!==null&&Wc(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Fu(e,t,Rv,null,null,r),ms._currentValue=c),kl(e,t),pt(e,t,l,r),t.child;case 6:return e===null&&Re&&((e=r=Ge)&&(r=m_(r,t.pendingProps,an),r!==null?(t.stateNode=r,mt=t,Ge=null,e=!0):e=!1),e||la(t)),null;case 13:return W0(e,t,r);case 4:return et(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Va(t,null,l,r):pt(e,t,l,r),t.child;case 11:return Y0(e,t,t.type,t.pendingProps,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,oa(t,t.type,l.value),pt(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ha(t),c=gt(c),l=l(c),t.flags|=1,pt(e,t,l,r),t.child;case 14:return V0(e,t,t.type,t.pendingProps,r);case 15:return P0(e,t,t.type,t.pendingProps,r);case 19:return tm(e,t,r);case 31:return Mv(e,t,r);case 22:return K0(e,t,r,t.pendingProps);case 24:return Ha(t),l=gt(tt),e===null?(c=Iu(),c===null&&(c=He,d=$u(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=r),c=d),t.memoizedState={parent:l,cache:c},Yu(t),oa(t,tt,c)):((e.lanes&r)!==0&&(Vu(e,t),Ji(t,null,null,r),Ki()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),oa(t,tt,l)):(l=d.cache,oa(t,tt,l),l!==c.cache&&Bu(t,[tt],r,!0))),pt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function $n(e){e.flags|=4}function Tc(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(jm())e.flags|=8192;else throw Ya=yl,Gu}else e.flags&=-16777217}function am(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bg(t))if(jm())e.flags|=8192;else throw Ya=yl,Gu}function Nl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Md():536870912,e.lanes|=t,$r|=t)}function es(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Lv(e,t,r){var l=t.pendingProps;switch(Nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Mn(tt),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Or(t)?$n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mu())),Ye(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?($n(t),d!==null?(Ye(t),am(t,d)):(Ye(t),Tc(t,c,null,l,r))):d?d!==e.memoizedState?($n(t),Ye(t),am(t,d)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&$n(t),Ye(t),Tc(t,c,e,l,r)),null;case 27:if(_n(t),r=fe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$n(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}e=le.current,Or(t)?Mh(t):(e=cg(c,l,r),t.stateNode=e,$n(t))}return Ye(t),null;case 5:if(_n(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$n(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(d=le.current,Or(t))Mh(t);else{var p=Xl(fe.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}d[ht]=t,d[St]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(yt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$n(t)}}return Ye(t),Tc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&$n(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,Or(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=mt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ht]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Wm(e.nodeValue,r)),e||la(t,!0)}else e=Xl(e).createTextNode(l),e[ht]=t,t.stateNode=e}return Ye(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=Or(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ht]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else r=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Or(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ht]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),c=!1}else c=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Nl(t,t.updateQueue),Ye(t),null);case 4:return qe(),e===null&&Jc(t.stateNode.containerInfo),Ye(t),null;case 10:return Mn(t.type),Ye(t),null;case 19:if(P(Ze),l=t.memoizedState,l===null)return Ye(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)es(l,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=xl(e),d!==null){for(t.flags|=128,es(l,!1),e=d.updateQueue,t.updateQueue=e,Nl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Uh(r,e),r=r.sibling;return ie(Ze,Ze.current&1|2),Re&&Nn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&kt()>Bl&&(t.flags|=128,c=!0,es(l,!1),t.lanes=4194304)}else{if(!c)if(e=xl(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Nl(t,e),es(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Re)return Ye(t),null}else 2*kt()-l.renderingStartTime>Bl&&r!==536870912&&(t.flags|=128,c=!0,es(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,r=Ze.current,ie(Ze,c?r&1|2:r&1),Re&&Nn(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Lt(t),Xu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),r=t.updateQueue,r!==null&&Nl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&P(Ia),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Mn(tt),Ye(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Bv(e,t){switch(Nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(tt),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _n(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(s(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Ze),null;case 4:return qe(),null;case 10:return Mn(t.type),null;case 22:case 23:return Lt(t),Xu(),e!==null&&P(Ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(tt),null;case 25:return null;default:return null}}function rm(e,t){switch(Nu(t),t.tag){case 3:Mn(tt),qe();break;case 26:case 27:case 5:_n(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:P(Ze);break;case 10:Mn(t.type);break;case 22:case 23:Lt(t),Xu(),e!==null&&P(Ia);break;case 24:Mn(tt)}}function ts(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var d=r.create,p=r.inst;l=d(),p.destroy=l}r=r.next}while(r!==c)}}catch(v){Me(t,t.return,v)}}function ma(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var p=l.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=t;var A=r,H=v;try{H()}catch(W){Me(c,A,W)}}}l=l.next}while(l!==d)}}catch(W){Me(t,t.return,W)}}function im(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Xh(t,r)}catch(l){Me(e,e.return,l)}}}function sm(e,t,r){r.props=Ka(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Me(e,t,l)}}function ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){Me(e,t,c)}}function En(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Me(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Me(e,t,c)}else r.current=null}function lm(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Me(e,e.return,c)}}function Oc(e,t,r){try{var l=e.stateNode;l_(l,e.type,r,t),l[St]=t}catch(c){Me(e,e.return,c)}}function om(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Un));else if(l!==4&&(l===27&&xa(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(jc(e,t,r),e=e.sibling;e!==null;)jc(e,t,r),e=e.sibling}function zl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&xa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(zl(e,t,r),e=e.sibling;e!==null;)zl(e,t,r),e=e.sibling}function um(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);yt(t,l,r),t[ht]=e,t[St]=r}catch(d){Me(e,e.return,d)}}var Hn=!1,rt=!1,Cc=!1,cm=typeof WeakSet=="function"?WeakSet:Set,dt=null;function $v(e,t){if(e=e.containerInfo,Zc=no,e=wh(e),Su(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,v=-1,A=-1,H=0,W=0,te=e,Y=null;t:for(;;){for(var K;te!==r||c!==0&&te.nodeType!==3||(v=p+c),te!==d||l!==0&&te.nodeType!==3||(A=p+l),te.nodeType===3&&(p+=te.nodeValue.length),(K=te.firstChild)!==null;)Y=te,te=K;for(;;){if(te===e)break t;if(Y===r&&++H===c&&(v=p),Y===d&&++W===l&&(A=p),(K=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=K}r=v===-1||A===-1?null:{start:v,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fc={focusedElem:e,selectionRange:r},no=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=t,c=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ue=Ka(r.type,c);e=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Me(r,r.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)tf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function fm(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(e,r),l&4&&ts(5,r);break;case 1:if(Gn(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(p){Me(r,r.return,p)}else{var c=Ka(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Me(r,r.return,p)}}l&64&&im(r),l&512&&ns(r,r.return);break;case 3:if(Gn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Xh(e,t)}catch(p){Me(r,r.return,p)}}break;case 27:t===null&&l&4&&um(r);case 26:case 5:Gn(e,r),t===null&&l&4&&lm(r),l&512&&ns(r,r.return);break;case 12:Gn(e,r);break;case 31:Gn(e,r),l&4&&mm(e,r);break;case 13:Gn(e,r),l&4&&gm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Xv.bind(null,r),g_(e,r))));break;case 22:if(l=r.memoizedState!==null||Hn,!l){t=t!==null&&t.memoizedState!==null||rt,c=Hn;var d=rt;Hn=l,(rt=t)&&!d?Yn(e,r,(r.subtreeFlags&8772)!==0):Gn(e,r),Hn=c,rt=d}break;case 30:break;default:Gn(e,r)}}function dm(e){var t=e.alternate;t!==null&&(e.alternate=null,dm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&su(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,At=!1;function In(e,t,r){for(r=r.child;r!==null;)hm(e,t,r),r=r.sibling}function hm(e,t,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 26:rt||En(r,t),In(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||En(r,t);var l=Pe,c=At;xa(r.type)&&(Pe=r.stateNode,At=!1),In(e,t,r),fs(r.stateNode),Pe=l,At=c;break;case 5:rt||En(r,t);case 6:if(l=Pe,c=At,Pe=null,In(e,t,r),Pe=l,At=c,Pe!==null)if(At)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(r.stateNode)}catch(d){Me(r,t,d)}else try{Pe.removeChild(r.stateNode)}catch(d){Me(r,t,d)}break;case 18:Pe!==null&&(At?(e=Pe,ig(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Jr(e)):ig(Pe,r.stateNode));break;case 4:l=Pe,c=At,Pe=r.stateNode.containerInfo,At=!0,In(e,t,r),Pe=l,At=c;break;case 0:case 11:case 14:case 15:ma(2,r,t),rt||ma(4,r,t),In(e,t,r);break;case 1:rt||(En(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sm(r,t,l)),In(e,t,r);break;case 21:In(e,t,r);break;case 22:rt=(l=rt)||r.memoizedState!==null,In(e,t,r),rt=l;break;default:In(e,t,r)}}function mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jr(e)}catch(r){Me(t,t.return,r)}}}function gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jr(e)}catch(r){Me(t,t.return,r)}}function Hv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cm),t;default:throw Error(s(435,e.tag))}}function Ml(e,t){var r=Hv(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=Qv.bind(null,e,l);l.then(c,c)}})}function Tt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(xa(v.type)){Pe=v.stateNode,At=!1;break e}break;case 5:Pe=v.stateNode,At=!1;break e;case 3:case 4:Pe=v.stateNode.containerInfo,At=!0;break e}v=v.return}if(Pe===null)throw Error(s(160));hm(d,p,c),Pe=null,At=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}var dn=null;function pm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Ot(e),l&4&&(ma(3,e,e.return),ts(3,e),ma(5,e,e.return));break;case 1:Tt(t,e),Ot(e),l&512&&(rt||r===null||En(r,r.return)),l&64&&Hn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=dn;if(Tt(t,e),Ot(e),l&512&&(rt||r===null||En(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[ji]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),yt(d,l,r),d[ht]=e,ft(d),l=d;break e;case"link":var p=pg("link","href",c).get(l+(r.href||""));if(p){for(var v=0;v<p.length;v++)if(d=p[v],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(v,1);break t}}d=c.createElement(l),yt(d,l,r),c.head.appendChild(d);break;case"meta":if(p=pg("meta","content",c).get(l+(r.content||""))){for(v=0;v<p.length;v++)if(d=p[v],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(v,1);break t}}d=c.createElement(l),yt(d,l,r),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[ht]=e,ft(d),l=d}e.stateNode=l}else yg(c,e.type,e.stateNode);else e.stateNode=gg(c,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?yg(c,e.type,e.stateNode):gg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Oc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tt(t,e),Ot(e),l&512&&(rt||r===null||En(r,r.return)),r!==null&&l&4&&Oc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tt(t,e),Ot(e),l&512&&(rt||r===null||En(r,r.return)),e.flags&32){c=e.stateNode;try{yr(c,"")}catch(ue){Me(e,e.return,ue)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Oc(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Cc=!0);break;case 6:if(Tt(t,e),Ot(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ue){Me(e,e.return,ue)}}break;case 3:if(Fl=null,c=dn,dn=Ql(t.containerInfo),Tt(t,e),dn=c,Ot(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(ue){Me(e,e.return,ue)}Cc&&(Cc=!1,ym(e));break;case 4:l=dn,dn=Ql(e.stateNode.containerInfo),Tt(t,e),Ot(e),dn=l;break;case 12:Tt(t,e),Ot(e);break;case 31:Tt(t,e),Ot(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 13:Tt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ll=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 22:c=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,H=Hn,W=rt;if(Hn=H||c,rt=W||A,Tt(t,e),rt=W,Hn=H,Ot(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||A||Hn||rt||Ja(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){A=r=t;try{if(d=A.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=A.stateNode;var te=A.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ue){Me(A,A.return,ue)}}}else if(t.tag===6){if(r===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(ue){Me(A,A.return,ue)}}}else if(t.tag===18){if(r===null){A=t;try{var K=A.stateNode;c?sg(K,!0):sg(A.stateNode,!1)}catch(ue){Me(A,A.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ml(e,r))));break;case 19:Tt(t,e),Ot(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 30:break;case 21:break;default:Tt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(om(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,d=Rc(e);zl(e,d,c);break;case 5:var p=r.stateNode;r.flags&32&&(yr(p,""),r.flags&=-33);var v=Rc(e);zl(e,v,p);break;case 3:case 4:var A=r.stateNode.containerInfo,H=Rc(e);jc(e,H,A);break;default:throw Error(s(161))}}catch(W){Me(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ym(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fm(e,t.alternate,t),t=t.sibling}function Ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ma(4,t,t.return),Ja(t);break;case 1:En(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&sm(t,t.return,r),Ja(t);break;case 27:fs(t.stateNode);case 26:case 5:En(t,t.return),Ja(t);break;case 22:t.memoizedState===null&&Ja(t);break;case 30:Ja(t);break;default:Ja(t)}e=e.sibling}}function Yn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:Yn(c,d,r),ts(4,d);break;case 1:if(Yn(c,d,r),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){Me(l,l.return,H)}if(l=d,c=l.updateQueue,c!==null){var v=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Jh(A[c],v)}catch(H){Me(l,l.return,H)}}r&&p&64&&im(d),ns(d,d.return);break;case 27:um(d);case 26:case 5:Yn(c,d,r),r&&l===null&&p&4&&lm(d),ns(d,d.return);break;case 12:Yn(c,d,r);break;case 31:Yn(c,d,r),r&&p&4&&mm(c,d);break;case 13:Yn(c,d,r),r&&p&4&&gm(c,d);break;case 22:d.memoizedState===null&&Yn(c,d,r),ns(d,d.return);break;case 30:break;default:Yn(c,d,r)}t=t.sibling}}function Uc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ii(r))}function kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e))}function hn(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bm(e,t,r,l),t=t.sibling}function bm(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:hn(e,t,r,l),c&2048&&ts(9,t);break;case 1:hn(e,t,r,l);break;case 3:hn(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ii(e)));break;case 12:if(c&2048){hn(e,t,r,l),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,v=d.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Me(t,t.return,A)}}else hn(e,t,r,l);break;case 31:hn(e,t,r,l);break;case 13:hn(e,t,r,l);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?hn(e,t,r,l):as(e,t):d._visibility&2?hn(e,t,r,l):(d._visibility|=2,qr(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Uc(p,t);break;case 24:hn(e,t,r,l),c&2048&&kc(t.alternate,t);break;default:hn(e,t,r,l)}}function qr(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,v=r,A=l,H=p.flags;switch(p.tag){case 0:case 11:case 15:qr(d,p,v,A,c),ts(8,p);break;case 23:break;case 22:var W=p.stateNode;p.memoizedState!==null?W._visibility&2?qr(d,p,v,A,c):as(d,p):(W._visibility|=2,qr(d,p,v,A,c)),c&&H&2048&&Uc(p.alternate,p);break;case 24:qr(d,p,v,A,c),c&&H&2048&&kc(p.alternate,p);break;default:qr(d,p,v,A,c)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:as(r,l),c&2048&&Uc(l.alternate,l);break;case 24:as(r,l),c&2048&&kc(l.alternate,l);break;default:as(r,l)}t=t.sibling}}var rs=8192;function Lr(e,t,r){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)vm(e,t,r),e=e.sibling}function vm(e,t,r){switch(e.tag){case 26:Lr(e,t,r),e.flags&rs&&e.memoizedState!==null&&O_(r,dn,e.memoizedState,e.memoizedProps);break;case 5:Lr(e,t,r);break;case 3:case 4:var l=dn;dn=Ql(e.stateNode.containerInfo),Lr(e,t,r),dn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rs,rs=16777216,Lr(e,t,r),rs=l):Lr(e,t,r));break;default:Lr(e,t,r)}}function _m(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];dt=l,wm(l,e)}_m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xm(e),e=e.sibling}function xm(e){switch(e.tag){case 0:case 11:case 15:is(e),e.flags&2048&&ma(9,e,e.return);break;case 3:is(e);break;case 12:is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ql(e)):is(e);break;default:is(e)}}function ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];dt=l,wm(l,e)}_m(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ma(8,t,t.return),ql(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,ql(t));break;default:ql(t)}e=e.sibling}}function wm(e,t){for(;dt!==null;){var r=dt;switch(r.tag){case 0:case 11:case 15:ma(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ii(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,dt=l;else e:for(r=e;dt!==null;){l=dt;var c=l.sibling,d=l.return;if(dm(l),l===r){dt=null;break e}if(c!==null){c.return=d,dt=c;break e}dt=d}}}var Iv={getCacheForType:function(e){var t=gt(tt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return gt(tt).controller.signal}},Gv=typeof WeakMap=="function"?WeakMap:Map,De=0,He=null,Ee=null,Te=0,ze=0,Bt=null,ga=!1,Br=!1,Dc=!1,Vn=0,Xe=0,pa=0,Xa=0,Nc=0,$t=0,$r=0,ss=null,Rt=null,zc=!1,Ll=0,Sm=0,Bl=1/0,$l=null,ya=null,lt=0,ba=null,Hr=null,Pn=0,Mc=0,qc=null,Em=null,ls=0,Lc=null;function Ht(){return(De&2)!==0&&Te!==0?Te&-Te:w.T!==null?Yc():$d()}function Am(){if($t===0)if((Te&536870912)===0||Re){var e=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),$t=e}else $t=536870912;return e=qt.current,e!==null&&(e.flags|=32),$t}function jt(e,t,r){(e===He&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Ir(e,0),va(e,Te,$t,!1)),Ri(e,r),((De&2)===0||e!==He)&&(e===He&&((De&2)===0&&(Xa|=r),Xe===4&&va(e,Te,$t,!1)),An(e))}function Tm(e,t,r){if((De&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Oi(e,t),c=l?Pv(e,t):$c(e,t,!0),d=l;do{if(c===0){Br&&!l&&va(e,t,0,!1);break}else{if(r=e.current.alternate,d&&!Yv(r)){c=$c(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;c=ss;var A=v.current.memoizedState.isDehydrated;if(A&&(Ir(v,p).flags|=256),p=$c(v,p,!1),p!==2){if(Dc&&!A){v.errorRecoveryDisabledLanes|=d,Xa|=d,c=4;break e}d=Rt,Rt=c,d!==null&&(Rt===null?Rt=d:Rt.push.apply(Rt,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Ir(e,0),va(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:va(l,t,$t,!ga);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Ll+300-kt(),10<c)){if(va(l,t,$t,!ga),Qs(l,0,!0)!==0)break e;Pn=t,l.timeoutHandle=ag(Om.bind(null,l,r,Rt,$l,zc,t,$t,Xa,$r,ga,d,"Throttled",-0,0),c);break e}Om(l,r,Rt,$l,zc,t,$t,Xa,$r,ga,d,null,-0,0)}}break}while(!0);An(e)}function Om(e,t,r,l,c,d,p,v,A,H,W,te,Y,K){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},vm(t,d,te);var ue=(d&62914560)===d?Ll-kt():(d&4194048)===d?Sm-kt():0;if(ue=R_(te,ue),ue!==null){Pn=d,e.cancelPendingCommit=ue(zm.bind(null,e,t,d,r,l,c,p,v,A,W,te,null,Y,K)),va(e,d,p,!H);return}}zm(e,t,d,r,l,c,p,v,A)}function Yv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],d=c.getSnapshot;c=c.value;try{if(!zt(d(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t,r,l){t&=~Nc,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-Nt(c),p=1<<d;l[d]=-1,c&=~p}r!==0&&qd(e,r,t)}function Hl(){return(De&6)===0?(os(0),!1):!0}function Bc(){if(Ee!==null){if(ze===0)var e=Ee.return;else e=Ee,zn=$a=null,tc(e),kr=null,Yi=0,e=Ee;for(;e!==null;)rm(e.alternate,e),e=e.return;Ee=null}}function Ir(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,c_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Pn=0,Bc(),He=e,Ee=r=Dn(e.current,null),Te=t,ze=0,Bt=null,ga=!1,Br=Oi(e,t),Dc=!1,$r=$t=Nc=Xa=pa=Xe=0,Rt=ss=null,zc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Nt(l),d=1<<c;t|=e[c],l&=~d}return Vn=t,ol(),r}function Rm(e,t){xe=null,w.H=Fi,t===Ur||t===pl?(t=Yh(),ze=3):t===Gu?(t=Yh(),ze=4):ze=t===yc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,Ee===null&&(Xe=1,Cl(e,en(t,e.current)))}function jm(){var e=qt.current;return e===null?!0:(Te&4194048)===Te?rn===null:(Te&62914560)===Te||(Te&536870912)!==0?e===rn:!1}function Cm(){var e=w.H;return w.H=Fi,e===null?Fi:e}function Um(){var e=w.A;return w.A=Iv,e}function Il(){Xe=4,ga||(Te&4194048)!==Te&&qt.current!==null||(Br=!0),(pa&134217727)===0&&(Xa&134217727)===0||He===null||va(He,Te,$t,!1)}function $c(e,t,r){var l=De;De|=2;var c=Cm(),d=Um();(He!==e||Te!==t)&&($l=null,Ir(e,t)),t=!1;var p=Xe;e:do try{if(ze!==0&&Ee!==null){var v=Ee,A=Bt;switch(ze){case 8:Bc(),p=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var H=ze;if(ze=0,Bt=null,Gr(e,v,A,H),r&&Br){p=0;break e}break;default:H=ze,ze=0,Bt=null,Gr(e,v,A,H)}}Vv(),p=Xe;break}catch(W){Rm(e,W)}while(!0);return t&&e.shellSuspendCounter++,zn=$a=null,De=l,w.H=c,w.A=d,Ee===null&&(He=null,Te=0,ol()),p}function Vv(){for(;Ee!==null;)km(Ee)}function Pv(e,t){var r=De;De|=2;var l=Cm(),c=Um();He!==e||Te!==t?($l=null,Bl=kt()+500,Ir(e,t)):Br=Oi(e,t);e:do try{if(ze!==0&&Ee!==null){t=Ee;var d=Bt;t:switch(ze){case 1:ze=0,Bt=null,Gr(e,t,d,1);break;case 2:case 9:if(Ih(d)){ze=0,Bt=null,Dm(t);break}t=function(){ze!==2&&ze!==9||He!==e||(ze=7),An(e)},d.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Ih(d)?(ze=0,Bt=null,Dm(t)):(ze=0,Bt=null,Gr(e,t,d,7));break;case 5:var p=null;switch(Ee.tag){case 26:p=Ee.memoizedState;case 5:case 27:var v=Ee;if(p?bg(p):v.stateNode.complete){ze=0,Bt=null;var A=v.sibling;if(A!==null)Ee=A;else{var H=v.return;H!==null?(Ee=H,Gl(H)):Ee=null}break t}}ze=0,Bt=null,Gr(e,t,d,5);break;case 6:ze=0,Bt=null,Gr(e,t,d,6);break;case 8:Bc(),Xe=6;break e;default:throw Error(s(462))}}Kv();break}catch(W){Rm(e,W)}while(!0);return zn=$a=null,w.H=l,w.A=c,De=r,Ee!==null?0:(He=null,Te=0,ol(),Xe)}function Kv(){for(;Ee!==null&&!pb();)km(Ee)}function km(e){var t=nm(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?Gl(e):Ee=t}function Dm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Q0(r,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Q0(r,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:tc(t);default:rm(r,t),t=Ee=Uh(t,Vn),t=nm(r,t,Vn)}e.memoizedProps=e.pendingProps,t===null?Gl(e):Ee=t}function Gr(e,t,r,l){zn=$a=null,tc(t),kr=null,Yi=0;var c=t.return;try{if(zv(e,c,t,r,Te)){Xe=1,Cl(e,en(r,e.current)),Ee=null;return}}catch(d){if(c!==null)throw Ee=c,d;Xe=1,Cl(e,en(r,e.current)),Ee=null;return}t.flags&32768?(Re||l===1?e=!0:Br||(Te&536870912)!==0?e=!1:(ga=e=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nm(t,e)):Gl(t)}function Gl(e){var t=e;do{if((t.flags&32768)!==0){Nm(t,ga);return}e=t.return;var r=Lv(t.alternate,t,Vn);if(r!==null){Ee=r;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Xe===0&&(Xe=5)}function Nm(e,t){do{var r=Bv(e.alternate,e);if(r!==null){r.flags&=32767,Ee=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=r}while(e!==null);Xe=6,Ee=null}function zm(e,t,r,l,c,d,p,v,A){e.cancelPendingCommit=null;do Yl();while(lt!==0);if((De&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=Ru,Tb(e,r,d,p,v,A),e===He&&(Ee=He=null,Te=0),Hr=t,ba=e,Pn=r,Mc=d,qc=c,Em=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zv(Ps,function(){return $m(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,c=B.p,B.p=2,p=De,De|=4;try{$v(e,t,r)}finally{De=p,B.p=c,w.T=l}}lt=1,Mm(),qm(),Lm()}}function Mm(){if(lt===1){lt=0;var e=ba,t=Hr,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=w.T,w.T=null;var l=B.p;B.p=2;var c=De;De|=4;try{pm(t,e);var d=Fc,p=wh(e.containerInfo),v=d.focusedElem,A=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&xh(v.ownerDocument.documentElement,v)){if(A!==null&&Su(v)){var H=A.start,W=A.end;if(W===void 0&&(W=H),"selectionStart"in v)v.selectionStart=H,v.selectionEnd=Math.min(W,v.value.length);else{var te=v.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),ue=v.textContent.length,pe=Math.min(A.start,ue),$e=A.end===void 0?pe:Math.min(A.end,ue);!K.extend&&pe>$e&&(p=$e,$e=pe,pe=p);var D=_h(v,pe),R=_h(v,$e);if(D&&R&&(K.rangeCount!==1||K.anchorNode!==D.node||K.anchorOffset!==D.offset||K.focusNode!==R.node||K.focusOffset!==R.offset)){var $=te.createRange();$.setStart(D.node,D.offset),K.removeAllRanges(),pe>$e?(K.addRange($),K.extend(R.node,R.offset)):($.setEnd(R.node,R.offset),K.addRange($))}}}}for(te=[],K=v;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<te.length;v++){var ee=te[v];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}no=!!Zc,Fc=Zc=null}finally{De=c,B.p=l,w.T=r}}e.current=t,lt=2}}function qm(){if(lt===2){lt=0;var e=ba,t=Hr,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=w.T,w.T=null;var l=B.p;B.p=2;var c=De;De|=4;try{fm(e,t.alternate,t)}finally{De=c,B.p=l,w.T=r}}lt=3}}function Lm(){if(lt===4||lt===3){lt=0,yb();var e=ba,t=Hr,r=Pn,l=Em;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Hr=ba=null,Bm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ya=null),ru(r),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,c=B.p,B.p=2,w.T=null;try{for(var d=e.onRecoverableError,p=0;p<l.length;p++){var v=l[p];d(v.value,{componentStack:v.stack})}}finally{w.T=t,B.p=c}}(Pn&3)!==0&&Yl(),An(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Lc?ls++:(ls=0,Lc=e):ls=0,os(0)}}function Bm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ii(t)))}function Yl(){return Mm(),qm(),Lm(),$m()}function $m(){if(lt!==5)return!1;var e=ba,t=Mc;Mc=0;var r=ru(Pn),l=w.T,c=B.p;try{B.p=32>r?32:r,w.T=null,r=qc,qc=null;var d=ba,p=Pn;if(lt=0,Hr=ba=null,Pn=0,(De&6)!==0)throw Error(s(331));var v=De;if(De|=4,xm(d.current),bm(d,d.current,p,r),De=v,os(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Ti,d)}catch{}return!0}finally{B.p=c,w.T=l,Bm(e,t)}}function Hm(e,t,r){t=en(r,t),t=pc(e.stateNode,t,2),e=fa(e,t,2),e!==null&&(Ri(e,2),An(e))}function Me(e,t,r){if(e.tag===3)Hm(e,e,r);else for(;t!==null;){if(t.tag===3){Hm(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){e=en(r,e),r=I0(2),l=fa(t,r,2),l!==null&&(G0(r,l,t,e),Ri(l,2),An(l));break}}t=t.return}}function Hc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Gv;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(Dc=!0,c.add(r),e=Jv.bind(null,e,t,r),t.then(e,e))}function Jv(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,He===e&&(Te&r)===r&&(Xe===4||Xe===3&&(Te&62914560)===Te&&300>kt()-Ll?(De&2)===0&&Ir(e,0):Nc|=r,$r===Te&&($r=0)),An(e)}function Im(e,t){t===0&&(t=Md()),e=qa(e,t),e!==null&&(Ri(e,t),An(e))}function Xv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Im(e,r)}function Qv(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Im(e,r)}function Zv(e,t){return eu(e,t)}var Vl=null,Yr=null,Ic=!1,Pl=!1,Gc=!1,_a=0;function An(e){e!==Yr&&e.next===null&&(Yr===null?Vl=Yr=e:Yr=Yr.next=e),Pl=!0,Ic||(Ic=!0,Wv())}function os(e,t){if(!Gc&&Pl){Gc=!0;do for(var r=!1,l=Vl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var p=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-Nt(42|e)+1)-1,d&=c&~(p&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,Pm(l,d))}else d=Te,d=Qs(l,l===He?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Oi(l,d)||(r=!0,Pm(l,d));l=l.next}while(r);Gc=!1}}function Fv(){Gm()}function Gm(){Pl=Ic=!1;var e=0;_a!==0&&u_()&&(e=_a);for(var t=kt(),r=null,l=Vl;l!==null;){var c=l.next,d=Ym(l,t);d===0?(l.next=null,r===null?Vl=c:r.next=c,c===null&&(Yr=r)):(r=l,(e!==0||(d&3)!==0)&&(Pl=!0)),l=c}lt!==0&&lt!==5||os(e),_a!==0&&(_a=0)}function Ym(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Nt(d),v=1<<p,A=c[p];A===-1?((v&r)===0||(v&l)!==0)&&(c[p]=Ab(v,t)):A<=t&&(e.expiredLanes|=v),d&=~v}if(t=He,r=Te,r=Qs(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&tu(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Oi(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&tu(l),ru(r)){case 2:case 8:r=Nd;break;case 32:r=Ps;break;case 268435456:r=zd;break;default:r=Ps}return l=Vm.bind(null,e),r=eu(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&tu(l),e.callbackPriority=2,e.callbackNode=null,2}function Vm(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yl()&&e.callbackNode!==r)return null;var l=Te;return l=Qs(e,e===He?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tm(e,l,t),Ym(e,kt()),e.callbackNode!=null&&e.callbackNode===r?Vm.bind(null,e):null)}function Pm(e,t){if(Yl())return null;Tm(e,t,!0)}function Wv(){f_(function(){(De&6)!==0?eu(Dd,Fv):Gm()})}function Yc(){if(_a===0){var e=jr;e===0&&(e=Ks,Ks<<=1,(Ks&261888)===0&&(Ks=256)),_a=e}return _a}function Km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:el(""+e)}function Jm(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function e_(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var d=Km((c[St]||null).action),p=l.submitter;p&&(t=(t=p[St]||null)?Km(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var v=new rl("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var A=p?Jm(c,p):new FormData(c);cc(r,{pending:!0,data:A,method:c.method,action:d},null,A)}}else typeof d=="function"&&(v.preventDefault(),A=p?Jm(c,p):new FormData(c),cc(r,{pending:!0,data:A,method:c.method,action:d},d,A))},currentTarget:c}]})}}for(var Vc=0;Vc<Ou.length;Vc++){var Pc=Ou[Vc],t_=Pc.toLowerCase(),n_=Pc[0].toUpperCase()+Pc.slice(1);fn(t_,"on"+n_)}fn(Ah,"onAnimationEnd"),fn(Th,"onAnimationIteration"),fn(Oh,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(bv,"onTransitionRun"),fn(vv,"onTransitionStart"),fn(_v,"onTransitionCancel"),fn(Rh,"onTransitionEnd"),gr("onMouseEnter",["mouseout","mouseover"]),gr("onMouseLeave",["mouseout","mouseover"]),gr("onPointerEnter",["pointerout","pointerover"]),gr("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(us));function Xm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var p=l.length-1;0<=p;p--){var v=l[p],A=v.instance,H=v.currentTarget;if(v=v.listener,A!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=H;try{d(c)}catch(W){ll(W)}c.currentTarget=null,d=A}else for(p=0;p<l.length;p++){if(v=l[p],A=v.instance,H=v.currentTarget,v=v.listener,A!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=H;try{d(c)}catch(W){ll(W)}c.currentTarget=null,d=A}}}}function Ae(e,t){var r=t[iu];r===void 0&&(r=t[iu]=new Set);var l=e+"__bubble";r.has(l)||(Qm(t,e,2,!1),r.add(l))}function Kc(e,t,r){var l=0;t&&(l|=4),Qm(r,e,l,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Kl]){e[Kl]=!0,Gd.forEach(function(r){r!=="selectionchange"&&(a_.has(r)||Kc(r,!1,e),Kc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Kc("selectionchange",!1,t))}}function Qm(e,t,r,l){switch(Ag(t)){case 2:var c=U_;break;case 8:c=k_;break;default:c=cf}r=c.bind(null,t,r,e),c=void 0,!mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Xc(e,t,r,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var v=l.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=l.return;p!==null;){var A=p.tag;if((A===3||A===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=dr(v),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){l=d=p;continue e}v=v.parentNode}}l=l.return}th(function(){var H=d,W=du(r),te=[];e:{var Y=jh.get(e);if(Y!==void 0){var K=rl,ue=e;switch(e){case"keypress":if(nl(r)===0)break e;case"keydown":case"keyup":K=Qb;break;case"focusin":ue="focus",K=bu;break;case"focusout":ue="blur",K=bu;break;case"beforeblur":case"afterblur":K=bu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Wb;break;case Ah:case Th:case Oh:K=Hb;break;case Rh:K=tv;break;case"scroll":case"scrollend":K=Mb;break;case"wheel":K=av;break;case"copy":case"cut":case"paste":K=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=sh;break;case"toggle":case"beforetoggle":K=iv}var pe=(t&4)!==0,$e=!pe&&(e==="scroll"||e==="scrollend"),D=pe?Y!==null?Y+"Capture":null:Y;pe=[];for(var R=H,$;R!==null;){var ee=R;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||D===null||(ee=Ui(R,D),ee!=null&&pe.push(cs(R,ee,$))),$e)break;R=R.return}0<pe.length&&(Y=new K(Y,ue,null,r,W),te.push({event:Y,listeners:pe}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Y&&r!==fu&&(ue=r.relatedTarget||r.fromElement)&&(dr(ue)||ue[fr]))break e;if((K||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(ue=r.relatedTarget||r.toElement,K=H,ue=ue?dr(ue):null,ue!==null&&($e=u(ue),pe=ue.tag,ue!==$e||pe!==5&&pe!==27&&pe!==6)&&(ue=null)):(K=null,ue=H),K!==ue)){if(pe=rh,ee="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(pe=sh,ee="onPointerLeave",D="onPointerEnter",R="pointer"),$e=K==null?Y:Ci(K),$=ue==null?Y:Ci(ue),Y=new pe(ee,R+"leave",K,r,W),Y.target=$e,Y.relatedTarget=$,ee=null,dr(W)===H&&(pe=new pe(D,R+"enter",ue,r,W),pe.target=$,pe.relatedTarget=$e,ee=pe),$e=ee,K&&ue)t:{for(pe=r_,D=K,R=ue,$=0,ee=D;ee;ee=pe(ee))$++;ee=0;for(var me=R;me;me=pe(me))ee++;for(;0<$-ee;)D=pe(D),$--;for(;0<ee-$;)R=pe(R),ee--;for(;$--;){if(D===R||R!==null&&D===R.alternate){pe=D;break t}D=pe(D),R=pe(R)}pe=null}else pe=null;K!==null&&Zm(te,Y,K,pe,!1),ue!==null&&$e!==null&&Zm(te,$e,ue,pe,!0)}}e:{if(Y=H?Ci(H):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Ce=mh;else if(dh(Y))if(gh)Ce=gv;else{Ce=hv;var ce=dv}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&cu(H.elementType)&&(Ce=mh):Ce=mv;if(Ce&&(Ce=Ce(e,H))){hh(te,Ce,r,W);break e}ce&&ce(e,Y,H),e==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&uu(Y,"number",Y.value)}switch(ce=H?Ci(H):window,e){case"focusin":(dh(ce)||ce.contentEditable==="true")&&(xr=ce,Eu=H,Bi=null);break;case"focusout":Bi=Eu=xr=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Sh(te,r,W);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":Sh(te,r,W)}var we;if(_u)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _r?ch(e,r)&&(Oe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(lh&&r.locale!=="ko"&&(_r||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_r&&(we=nh()):(ra=W,gu="value"in ra?ra.value:ra.textContent,_r=!0)),ce=Jl(H,Oe),0<ce.length&&(Oe=new ih(Oe,e,null,r,W),te.push({event:Oe,listeners:ce}),we?Oe.data=we:(we=fh(r),we!==null&&(Oe.data=we)))),(we=lv?ov(e,r):uv(e,r))&&(Oe=Jl(H,"onBeforeInput"),0<Oe.length&&(ce=new ih("onBeforeInput","beforeinput",null,r,W),te.push({event:ce,listeners:Oe}),ce.data=we)),e_(te,e,H,r,W)}Xm(te,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jl(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ui(e,r),c!=null&&l.unshift(cs(e,c,d)),c=Ui(e,t),c!=null&&l.push(cs(e,c,d))),e.tag===3)return l;e=e.return}return[]}function r_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zm(e,t,r,l,c){for(var d=t._reactName,p=[];r!==null&&r!==l;){var v=r,A=v.alternate,H=v.stateNode;if(v=v.tag,A!==null&&A===l)break;v!==5&&v!==26&&v!==27||H===null||(A=H,c?(H=Ui(r,d),H!=null&&p.unshift(cs(r,H,A))):c||(H=Ui(r,d),H!=null&&p.push(cs(r,H,A)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var i_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function Fm(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(s_,"")}function Wm(e,t){return t=Fm(t),Fm(e)===t}function Be(e,t,r,l,c,d){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||yr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&yr(e,""+l);break;case"className":Fs(e,"class",l);break;case"tabIndex":Fs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(e,r,l);break;case"style":Wd(e,l,d);break;case"data":if(t!=="object"){Fs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=el(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(t!=="input"&&Be(e,t,"name",c.name,c,null),Be(e,t,"formEncType",c.formEncType,c,null),Be(e,t,"formMethod",c.formMethod,c,null),Be(e,t,"formTarget",c.formTarget,c,null)):(Be(e,t,"encType",c.encType,c,null),Be(e,t,"method",c.method,c,null),Be(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=el(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Un);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=el(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Zs(e,"popover",l);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Nb.get(r)||r,Zs(e,r,l))}}function Qc(e,t,r,l,c,d){switch(r){case"style":Wd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?yr(e,l):(typeof l=="number"||typeof l=="bigint")&&yr(e,""+l);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),d=e[St]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Zs(e,r,l)}}}function yt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var l=!1,c=!1,d;for(d in r)if(r.hasOwnProperty(d)){var p=r[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Be(e,t,d,p,r,null)}}c&&Be(e,t,"srcSet",r.srcSet,r,null),l&&Be(e,t,"src",r.src,r,null);return;case"input":Ae("invalid",e);var v=d=p=c=null,A=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var W=r[l];if(W!=null)switch(l){case"name":c=W;break;case"type":p=W;break;case"checked":A=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":v=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,t));break;default:Be(e,t,l,W,r,null)}}Xd(e,d,v,A,H,p,c,!1);return;case"select":Ae("invalid",e),l=p=d=null;for(c in r)if(r.hasOwnProperty(c)&&(v=r[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":p=v;break;case"multiple":l=v;default:Be(e,t,c,v,r,null)}t=d,r=p,e.multiple=!!l,t!=null?pr(e,!!l,t,!1):r!=null&&pr(e,!!l,r,!0);return;case"textarea":Ae("invalid",e),d=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(v=r[p],v!=null))switch(p){case"value":l=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Be(e,t,p,v,r,null)}Zd(e,l,c,d);return;case"option":for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null)&&(A==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Be(e,t,A,l,r,null));return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(l=0;l<us.length;l++)Ae(us[l],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Be(e,t,H,l,r,null)}return;default:if(cu(t)){for(W in r)r.hasOwnProperty(W)&&(l=r[W],l!==void 0&&Qc(e,t,W,l,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(l=r[v],l!=null&&Be(e,t,v,l,r,null))}function l_(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,v=null,A=null,H=null,W=null;for(K in r){var te=r[K];if(r.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":A=te;default:l.hasOwnProperty(K)||Be(e,t,K,null,l,te)}}for(var Y in l){var K=l[Y];if(te=r[Y],l.hasOwnProperty(Y)&&(K!=null||te!=null))switch(Y){case"type":d=K;break;case"name":c=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":p=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,t));break;default:K!==te&&Be(e,t,Y,K,l,te)}}ou(e,p,v,A,H,W,d,c);return;case"select":K=p=v=Y=null;for(d in r)if(A=r[d],r.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":K=A;default:l.hasOwnProperty(d)||Be(e,t,d,null,l,A)}for(c in l)if(d=l[c],A=r[c],l.hasOwnProperty(c)&&(d!=null||A!=null))switch(c){case"value":Y=d;break;case"defaultValue":v=d;break;case"multiple":p=d;default:d!==A&&Be(e,t,c,d,l,A)}t=v,r=p,l=K,Y!=null?pr(e,!!r,Y,!1):!!l!=!!r&&(t!=null?pr(e,!!r,t,!0):pr(e,!!r,r?[]:"",!1));return;case"textarea":K=Y=null;for(v in r)if(c=r[v],r.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,t,v,null,l,c)}for(p in l)if(c=l[p],d=r[p],l.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":Y=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&Be(e,t,p,c,l,d)}Qd(e,Y,K);return;case"option":for(var ue in r)Y=r[ue],r.hasOwnProperty(ue)&&Y!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?e.selected=!1:Be(e,t,ue,null,l,Y));for(A in l)Y=l[A],K=r[A],l.hasOwnProperty(A)&&Y!==K&&(Y!=null||K!=null)&&(A==="selected"?e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Be(e,t,A,Y,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in r)Y=r[pe],r.hasOwnProperty(pe)&&Y!=null&&!l.hasOwnProperty(pe)&&Be(e,t,pe,null,l,Y);for(H in l)if(Y=l[H],K=r[H],l.hasOwnProperty(H)&&Y!==K&&(Y!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,t));break;default:Be(e,t,H,Y,l,K)}return;default:if(cu(t)){for(var $e in r)Y=r[$e],r.hasOwnProperty($e)&&Y!==void 0&&!l.hasOwnProperty($e)&&Qc(e,t,$e,void 0,l,Y);for(W in l)Y=l[W],K=r[W],!l.hasOwnProperty(W)||Y===K||Y===void 0&&K===void 0||Qc(e,t,W,Y,l,K);return}}for(var D in r)Y=r[D],r.hasOwnProperty(D)&&Y!=null&&!l.hasOwnProperty(D)&&Be(e,t,D,null,l,Y);for(te in l)Y=l[te],K=r[te],!l.hasOwnProperty(te)||Y===K||Y==null&&K==null||Be(e,t,te,Y,l,K)}function eg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],d=c.transferSize,p=c.initiatorType,v=c.duration;if(d&&v&&eg(p)){for(p=0,v=c.responseEnd,l+=1;l<r.length;l++){var A=r[l],H=A.startTime;if(H>v)break;var W=A.transferSize,te=A.initiatorType;W&&eg(te)&&(A=A.responseEnd,p+=W*(A<v?1:(v-H)/(A-H)))}if(--l,t+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zc=null,Fc=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function tg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ng(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ef=null;function u_(){var e=window.event;return e&&e.type==="popstate"?e===ef?!1:(ef=e,!0):(ef=null,!1)}var ag=typeof setTimeout=="function"?setTimeout:void 0,c_=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,f_=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(e){return rg.resolve(null).then(e).catch(d_)}:ag;function d_(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function ig(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),Jr(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fs(r);for(var d=r.firstChild;d;){var p=d.nextSibling,v=d.nodeName;d[ji]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=p}}else r==="body"&&fs(e.ownerDocument.body);r=c}while(r);Jr(t)}function sg(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),su(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function h_(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ji])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function m_(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=sn(e.nextSibling),e===null))return null;return e}function lg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sn(e.nextSibling),e===null))return null;return e}function nf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function g_(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rf=null;function og(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return sn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function cg(e,t,r){switch(t=Xl(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);su(e)}var ln=new Map,fg=new Set;function Ql(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=B.d;B.d={f:p_,r:y_,D:b_,C:v_,L:__,m:x_,X:S_,S:w_,M:E_};function p_(){var e=Kn.f(),t=Hl();return e||t}function y_(e){var t=hr(e);t!==null&&t.tag===5&&t.type==="form"?R0(t):Kn.r(e)}var Vr=typeof document>"u"?null:document;function dg(e,t,r){var l=Vr;if(l&&typeof t=="string"&&t){var c=Ft(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),fg.has(c)||(fg.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),yt(t,"link",e),ft(t),l.head.appendChild(t)))}}function b_(e){Kn.D(e),dg("dns-prefetch",e,null)}function v_(e,t){Kn.C(e,t),dg("preconnect",e,t)}function __(e,t,r){Kn.L(e,t,r);var l=Vr;if(l&&e&&t){var c='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Ft(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Ft(r.imageSizes)+'"]')):c+='[href="'+Ft(e)+'"]';var d=c;switch(t){case"style":d=Pr(e);break;case"script":d=Kr(e)}ln.has(d)||(e=b({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),ln.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(ds(d))||t==="script"&&l.querySelector(hs(d))||(t=l.createElement("link"),yt(t,"link",e),ft(t),l.head.appendChild(t)))}}function x_(e,t){Kn.m(e,t);var r=Vr;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Kr(e)}if(!ln.has(d)&&(e=b({rel:"modulepreload",href:e},t),ln.set(d,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hs(d)))return}l=r.createElement("link"),yt(l,"link",e),ft(l),r.head.appendChild(l)}}}function w_(e,t,r){Kn.S(e,t,r);var l=Vr;if(l&&e){var c=mr(l).hoistableStyles,d=Pr(e);t=t||"default";var p=c.get(d);if(!p){var v={loading:0,preload:null};if(p=l.querySelector(ds(d)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},r),(r=ln.get(d))&&sf(e,r);var A=p=l.createElement("link");ft(A),yt(A,"link",e),A._p=new Promise(function(H,W){A.onload=H,A.onerror=W}),A.addEventListener("load",function(){v.loading|=1}),A.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Zl(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(d,p)}}}function S_(e,t){Kn.X(e,t);var r=Vr;if(r&&e){var l=mr(r).hoistableScripts,c=Kr(e),d=l.get(c);d||(d=r.querySelector(hs(c)),d||(e=b({src:e,async:!0},t),(t=ln.get(c))&&lf(e,t),d=r.createElement("script"),ft(d),yt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function E_(e,t){Kn.M(e,t);var r=Vr;if(r&&e){var l=mr(r).hoistableScripts,c=Kr(e),d=l.get(c);d||(d=r.querySelector(hs(c)),d||(e=b({src:e,async:!0,type:"module"},t),(t=ln.get(c))&&lf(e,t),d=r.createElement("script"),ft(d),yt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function hg(e,t,r,l){var c=(c=fe.current)?Ql(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Pr(r.href),r=mr(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Pr(r.href);var d=mr(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(ds(e)))&&!d._p&&(p.instance=d,p.state.loading=5),ln.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ln.set(e,r),d||A_(c,e,r,p.state))),t&&l===null)throw Error(s(528,""));return p}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kr(r),r=mr(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pr(e){return'href="'+Ft(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function mg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function A_(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),yt(t,"link",r),ft(t),e.head.appendChild(t))}function Kr(e){return'[src="'+Ft(e)+'"]'}function hs(e){return"script[async]"+e}function gg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ft(r.href)+'"]');if(l)return t.instance=l,ft(l),l;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ft(l),yt(l,"style",c),Zl(l,r.precedence,e),t.instance=l;case"stylesheet":c=Pr(r.href);var d=e.querySelector(ds(c));if(d)return t.state.loading|=4,t.instance=d,ft(d),d;l=mg(r),(c=ln.get(c))&&sf(l,c),d=(e.ownerDocument||e).createElement("link"),ft(d);var p=d;return p._p=new Promise(function(v,A){p.onload=v,p.onerror=A}),yt(d,"link",l),t.state.loading|=4,Zl(d,r.precedence,e),t.instance=d;case"script":return d=Kr(r.src),(c=e.querySelector(hs(d)))?(t.instance=c,ft(c),c):(l=r,(c=ln.get(d))&&(l=b({},r),lf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ft(c),yt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zl(l,r.precedence,e));return t.instance}function Zl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,p=0;p<l.length;p++){var v=l[p];if(v.dataset.precedence===t)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function sf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fl=null;function pg(e,t,r){if(Fl===null){var l=new Map,c=Fl=new Map;c.set(r,l)}else c=Fl,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var d=r[c];if(!(d[ji]||d[ht]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var v=l.get(p);v?v.push(d):l.set(p,[d])}}return l}function yg(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function T_(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function O_(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Pr(l.href),d=t.querySelector(ds(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=d,ft(d);return}d=t.ownerDocument||t,l=mg(l),(c=ln.get(c))&&sf(l,c),d=d.createElement("link"),ft(d);var p=d;p._p=new Promise(function(v,A){p.onload=v,p.onerror=A}),yt(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Wl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var of=0;function R_(e,t){return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&of===0&&(of=62500*o_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&to(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>of?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function to(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,t.forEach(j_,e),eo=null,Wl.call(e))}function j_(e,t){if(!(t.state.loading&4)){var r=eo.get(e);if(r)var l=r.get(null);else{r=new Map,eo.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),d=r.get(p)||l,d===l&&r.set(null,c),r.set(p,c),this.count++,l=Wl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ms={$$typeof:j,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function C_(e,t,r,l,c,d,p,v,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.hiddenUpdates=nu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function vg(e,t,r,l,c,d,p,v,A,H,W,te){return e=new C_(e,t,r,p,A,H,W,te,v),t=1,d===!0&&(t|=24),d=Mt(3,null,null,t),e.current=d,d.stateNode=e,t=$u(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:t},Yu(d),e}function _g(e){return e?(e=Er,e):Er}function xg(e,t,r,l,c,d){c=_g(c),l.context===null?l.context=c:l.pendingContext=c,l=ca(t),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=fa(e,l,t),r!==null&&(jt(r,e,t),Pi(r,e,t))}function wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uf(e,t){wg(e,t),(e=e.alternate)&&wg(e,t)}function Sg(e){if(e.tag===13||e.tag===31){var t=qa(e,67108864);t!==null&&jt(t,e,67108864),uf(e,67108864)}}function Eg(e){if(e.tag===13||e.tag===31){var t=Ht();t=au(t);var r=qa(e,t);r!==null&&jt(r,e,t),uf(e,t)}}var no=!0;function U_(e,t,r,l){var c=w.T;w.T=null;var d=B.p;try{B.p=2,cf(e,t,r,l)}finally{B.p=d,w.T=c}}function k_(e,t,r,l){var c=w.T;w.T=null;var d=B.p;try{B.p=8,cf(e,t,r,l)}finally{B.p=d,w.T=c}}function cf(e,t,r,l){if(no){var c=ff(l);if(c===null)Xc(e,t,l,ao,r),Tg(e,l);else if(N_(c,e,t,r,l))l.stopPropagation();else if(Tg(e,l),t&4&&-1<D_.indexOf(e)){for(;c!==null;){var d=hr(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=ka(d.pendingLanes);if(p!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var A=1<<31-Nt(p);v.entanglements[1]|=A,p&=~A}An(d),(De&6)===0&&(Bl=kt()+500,os(0))}}break;case 31:case 13:v=qa(d,2),v!==null&&jt(v,d,2),Hl(),uf(d,2)}if(d=ff(l),d===null&&Xc(e,t,l,ao,r),d===c)break;c=d}c!==null&&l.stopPropagation()}else Xc(e,t,l,null,r)}}function ff(e){return e=du(e),df(e)}var ao=null;function df(e){if(ao=null,e=dr(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ao=e,null}function Ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bb()){case Dd:return 2;case Nd:return 8;case Ps:case vb:return 32;case zd:return 268435456;default:return 32}default:return 32}}var hf=!1,wa=null,Sa=null,Ea=null,gs=new Map,ps=new Map,Aa=[],D_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tg(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function ys(e,t,r,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=hr(t),t!==null&&Sg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function N_(e,t,r,l,c){switch(t){case"focusin":return wa=ys(wa,e,t,r,l,c),!0;case"dragenter":return Sa=ys(Sa,e,t,r,l,c),!0;case"mouseover":return Ea=ys(Ea,e,t,r,l,c),!0;case"pointerover":var d=c.pointerId;return gs.set(d,ys(gs.get(d)||null,e,t,r,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ps.set(d,ys(ps.get(d)||null,e,t,r,l,c)),!0}return!1}function Og(e){var t=dr(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,Hd(e.priority,function(){Eg(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,Hd(e.priority,function(){Eg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ff(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);fu=l,r.target.dispatchEvent(l),fu=null}else return t=hr(r),t!==null&&Sg(t),e.blockedOn=r,!1;t.shift()}return!0}function Rg(e,t,r){ro(e)&&r.delete(t)}function z_(){hf=!1,wa!==null&&ro(wa)&&(wa=null),Sa!==null&&ro(Sa)&&(Sa=null),Ea!==null&&ro(Ea)&&(Ea=null),gs.forEach(Rg),ps.forEach(Rg)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,z_)))}var so=null;function jg(e){so!==e&&(so=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){so===e&&(so=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(df(l||r)===null)continue;break}var d=hr(r);d!==null&&(e.splice(t,3),t-=3,cc(d,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Jr(e){function t(A){return io(A,e)}wa!==null&&io(wa,e),Sa!==null&&io(Sa,e),Ea!==null&&io(Ea,e),gs.forEach(t),ps.forEach(t);for(var r=0;r<Aa.length;r++){var l=Aa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Aa.length&&(r=Aa[0],r.blockedOn===null);)Og(r),r.blockedOn===null&&Aa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],d=r[l+1],p=c[St]||null;if(typeof d=="function")p||jg(r);else if(p){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[St]||null)v=p.formAction;else if(df(c)!==null)continue}else v=p.action;typeof v=="function"?r[l+1]=v:(r.splice(l,3),l-=3),jg(r)}}}function Cg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function mf(e){this._internalRoot=e}lo.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=Ht();xg(r,l,e,t,null,null)},lo.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xg(e.current,2,null,e,null,null),Hl(),t[fr]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$d();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Aa.length&&t!==0&&t<Aa[r].priority;r++);Aa.splice(r,0,e),r===0&&Og(e)}};var Ug=n.version;if(Ug!=="19.2.3")throw Error(s(527,Ug,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var M_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Ti=oo.inject(M_),Dt=oo}catch{}}return vs.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,l="",c=L0,d=B0,p=$0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=vg(e,1,!1,null,null,r,l,null,c,d,p,Cg),e[fr]=t.current,Jc(e),new mf(t)},vs.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var l=!1,c="",d=L0,p=B0,v=$0,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),t=vg(e,1,!0,t,r??null,l,c,A,d,p,v,Cg),t.context=_g(null),r=t.current,l=Ht(),l=au(l),c=ca(l),c.callback=null,fa(r,c,l),r=l,t.current.lanes=r,Ri(t,r),An(t),e[fr]=t.current,Jc(e),new lo(t)},vs.version="19.2.3",vs}var Hg;function J_(){if(Hg)return yf.exports;Hg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),yf.exports=K_(),yf.exports}var X_=J_();const Q_="modulepreload",Z_=function(a){return"/"+a},Ig={},On=function(n,i,s){let o=Promise.resolve();if(i&&i.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");o=m(i.map(g=>{if(g=Z_(g),g in Ig)return;Ig[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":Q_,y||(_.as="script"),_.crossOrigin="",_.href=g,h&&_.setAttribute("nonce",h),document.head.appendChild(_),y)return new Promise((x,S)=>{_.addEventListener("load",x),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};var Gg="popstate";function F_(a={}){function n(s,o){let{pathname:u,search:f,hash:h}=s.location;return Gf("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:js(o)}return e1(n,i,null,a)}function Ke(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Kt(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function W_(){return Math.random().toString(36).substring(2,10)}function Yg(a,n){return{usr:a.state,key:a.key,idx:n}}function Gf(a,n,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?xi(n):n,state:i,key:n&&n.key||s||W_()}}function js({pathname:a="/",search:n="",hash:i=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function xi(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(n.search=a.substring(s),a=a.substring(0,s)),a&&(n.pathname=a)}return n}function e1(a,n,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,h="POP",m=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function b(){h="POP";let k=y(),I=k==null?null:k-g;g=k,m&&m({action:h,location:T.location,delta:I})}function _(k,I){h="PUSH";let C=Gf(T.location,k,I);g=y()+1;let j=Yg(C,g),Z=T.createHref(C);try{f.pushState(j,"",Z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(Z)}u&&m&&m({action:h,location:T.location,delta:1})}function x(k,I){h="REPLACE";let C=Gf(T.location,k,I);g=y();let j=Yg(C,g),Z=T.createHref(C);f.replaceState(j,"",Z),u&&m&&m({action:h,location:T.location,delta:0})}function S(k){return t1(k)}let T={get action(){return h},get location(){return a(o,f)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Gg,b),m=k,()=>{o.removeEventListener(Gg,b),m=null}},createHref(k){return n(o,k)},createURL:S,encodeLocation(k){let I=S(k);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:x,go(k){return f.go(k)}};return T}function t1(a,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:js(a);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Xp(a,n,i="/"){return n1(a,n,i,!1)}function n1(a,n,i,s){let o=typeof n=="string"?xi(n):n,u=ea(o.pathname||"/",i);if(u==null)return null;let f=Qp(a);a1(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let g=m1(u);h=d1(f[m],g,s)}return h}function Qp(a,n=[],i=[],s="",o=!1){let u=(f,h,m=o,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Ke(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=Wn([s,y.relativePath]),_=i.concat(y);f.children&&f.children.length>0&&(Ke(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Qp(f.children,n,_,b,m)),!(f.path==null&&!f.index)&&n.push({path:b,score:c1(b,f.index),routesMeta:_})};return a.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))u(f,h);else for(let m of Zp(f.path))u(f,h,!0,m)}),n}function Zp(a){let n=a.split("/");if(n.length===0)return[];let[i,...s]=n,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Zp(s.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>a.startsWith("/")&&m===""?"/":m)}function a1(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:f1(n.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,i1=3,s1=2,l1=1,o1=10,u1=-2,Vg=a=>a==="*";function c1(a,n){let i=a.split("/"),s=i.length;return i.some(Vg)&&(s+=u1),n&&(s+=s1),i.filter(o=>!Vg(o)).reduce((o,u)=>o+(r1.test(u)?i1:u===""?l1:o1),s)}function f1(a,n){return a.length===n.length&&a.slice(0,-1).every((s,o)=>s===n[o])?a[a.length-1]-n[n.length-1]:0}function d1(a,n,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let h=0;h<s.length;++h){let m=s[h],g=h===s.length-1,y=u==="/"?n:n.slice(u.length)||"/",b=Co({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),_=m.route;if(!b&&g&&i&&!s[s.length-1].route.index&&(b=Co({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Wn([u,b.pathname]),pathnameBase:b1(Wn([u,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(u=Wn([u,b.pathnameBase]))}return f}function Co(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=h1(a.path,a.caseSensitive,a.end),o=n.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:b},_)=>{if(y==="*"){let S=h[_]||"";f=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[_];return b&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:a}}function h1(a,n=!1,i=!0){Kt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function m1(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Kt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function ea(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var Fp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=a=>Fp.test(a);function p1(a,n="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?xi(a):a,u;if(i)if(g1(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=Pg(i.substring(1),"/"):u=Pg(i,n)}else u=n;return{pathname:u,search:v1(s),hash:_1(o)}}function Pg(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function xf(a,n,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function hd(a){let n=y1(a);return n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase)}function md(a,n,i,s=!1){let o;typeof a=="string"?o=xi(a):(o={...a},Ke(!o.pathname||!o.pathname.includes("?"),xf("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),xf("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),xf("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=i;else{let b=n.length-1;if(!s&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),b-=1;o.pathname=_.join("/")}h=b>=0?n[b]:"/"}let m=p1(o,h),g=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Wn=a=>a.join("/").replace(/\/\/+/g,"/"),b1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,_1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,x1=class{constructor(a,n,i,s=!1){this.status=a,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function w1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function S1(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ey(a,n){let i=a;if(typeof i!="string"||!Fp.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(Wp)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),h=ea(f.pathname,n);f.origin===u.origin&&h!=null?i=h+f.search+f.hash:o=!0}catch{Kt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ty=["POST","PUT","PATCH","DELETE"];new Set(ty);var E1=["GET",...ty];new Set(E1);var wi=N.createContext(null);wi.displayName="DataRouter";var $o=N.createContext(null);$o.displayName="DataRouterState";var A1=N.createContext(!1),ny=N.createContext({isTransitioning:!1});ny.displayName="ViewTransition";var T1=N.createContext(new Map);T1.displayName="Fetchers";var O1=N.createContext(null);O1.displayName="Await";var Jt=N.createContext(null);Jt.displayName="Navigation";var Hs=N.createContext(null);Hs.displayName="Location";var Rn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var gd=N.createContext(null);gd.displayName="RouteError";var ay="REACT_ROUTER_ERROR",R1="REDIRECT",j1="ROUTE_ERROR_RESPONSE";function C1(a){if(a.startsWith(`${ay}:${R1}:{`))try{let n=JSON.parse(a.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function U1(a){if(a.startsWith(`${ay}:${j1}:{`))try{let n=JSON.parse(a.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new x1(n.status,n.statusText,n.data)}catch{}}function k1(a,{relative:n}={}){Ke(Si(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=N.useContext(Jt),{hash:o,pathname:u,search:f}=Is(a,{relative:n}),h=u;return i!=="/"&&(h=u==="/"?i:Wn([i,u])),s.createHref({pathname:h,search:f,hash:o})}function Si(){return N.useContext(Hs)!=null}function jn(){return Ke(Si(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Hs).location}var ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iy(a){N.useContext(Jt).static||N.useLayoutEffect(a)}function pd(){let{isDataRoute:a}=N.useContext(Rn);return a?V1():D1()}function D1(){Ke(Si(),"useNavigate() may be used only in the context of a <Router> component.");let a=N.useContext(wi),{basename:n,navigator:i}=N.useContext(Jt),{matches:s}=N.useContext(Rn),{pathname:o}=jn(),u=JSON.stringify(hd(s)),f=N.useRef(!1);return iy(()=>{f.current=!0}),N.useCallback((m,g={})=>{if(Kt(f.current,ry),!f.current)return;if(typeof m=="number"){i.go(m);return}let y=md(m,JSON.parse(u),o,g.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Wn([n,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[n,i,u,o,a])}N.createContext(null);function Is(a,{relative:n}={}){let{matches:i}=N.useContext(Rn),{pathname:s}=jn(),o=JSON.stringify(hd(i));return N.useMemo(()=>md(a,JSON.parse(o),s,n==="path"),[a,o,s,n])}function N1(a,n){return sy(a,n)}function sy(a,n,i,s,o){Ke(Si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Jt),{matches:f}=N.useContext(Rn),h=f[f.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let C=b&&b.path||"";oy(g,!b||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let _=jn(),x;if(n){let C=typeof n=="string"?xi(n):n;Ke(y==="/"||C.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=_;let S=x.pathname||"/",T=S;if(y!=="/"){let C=y.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=Xp(a,{pathname:T});Kt(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=B1(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Wn([y,u.encodeLocation?u.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?y:Wn([y,u.encodeLocation?u.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),f,i,s,o);return n&&I?N.createElement(Hs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},I):I}function z1(){let a=Y1(),n=w1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},n),i?N.createElement("pre",{style:o},i):null,f)}var M1=N.createElement(z1,null),ly=class extends N.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=U1(a.digest);i&&(a=i)}let n=a!==void 0?N.createElement(Rn.Provider,{value:this.props.routeContext},N.createElement(gd.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?N.createElement(q1,{error:a},n):n}};ly.contextType=A1;var wf=new WeakMap;function q1({children:a,error:n}){let{basename:i}=N.useContext(Jt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=C1(n.digest);if(s){let o=wf.get(n);if(o)throw o;let u=ey(s.location,i);if(Wp&&!wf.get(n))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wf.set(n,f),f}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function L1({routeContext:a,match:n,children:i}){let s=N.useContext(wi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Rn.Provider,{value:a},i)}function B1(a,n=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let y=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Ke(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,m=-1;if(i)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=y),b.route.id){let{loaderData:_,errors:x}=i,S=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||S){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=i&&s?(y,b)=>{s(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:S1(i.matches),errorInfo:b})}:void 0;return u.reduceRight((y,b,_)=>{let x,S=!1,T=null,k=null;i&&(x=f&&b.route.id?f[b.route.id]:void 0,T=b.route.errorElement||M1,h&&(m<0&&_===0?(oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===_&&(S=!0,k=b.route.hydrateFallbackElement||null)));let I=n.concat(u.slice(0,_+1)),C=()=>{let j;return x?j=T:S?j=k:b.route.Component?j=N.createElement(b.route.Component,null):b.route.element?j=b.route.element:j=y,N.createElement(L1,{match:b,routeContext:{outlet:y,matches:I,isDataRoute:i!=null},children:j})};return i&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?N.createElement(ly,{location:i.location,revalidation:i.revalidation,component:T,error:x,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):C()},null)}function yd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(a){let n=N.useContext(wi);return Ke(n,yd(a)),n}function H1(a){let n=N.useContext($o);return Ke(n,yd(a)),n}function I1(a){let n=N.useContext(Rn);return Ke(n,yd(a)),n}function bd(a){let n=I1(a),i=n.matches[n.matches.length-1];return Ke(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function G1(){return bd("useRouteId")}function Y1(){let a=N.useContext(gd),n=H1("useRouteError"),i=bd("useRouteError");return a!==void 0?a:n.errors?.[i]}function V1(){let{router:a}=$1("useNavigate"),n=bd("useNavigate"),i=N.useRef(!1);return iy(()=>{i.current=!0}),N.useCallback(async(o,u={})=>{Kt(i.current,ry),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...u}))},[a,n])}var Kg={};function oy(a,n,i){!n&&!Kg[a]&&(Kg[a]=!0,Kt(!1,i))}N.memo(P1);function P1({routes:a,future:n,state:i,onError:s}){return sy(a,void 0,i,s,n)}function K1({to:a,replace:n,state:i,relative:s}){Ke(Si(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Jt);Kt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Rn),{pathname:f}=jn(),h=pd(),m=md(a,hd(u),f,s==="path"),g=JSON.stringify(m);return N.useEffect(()=>{h(JSON.parse(g),{replace:n,state:i,relative:s})},[h,g,s,n,i]),null}function on(a){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:a="/",children:n=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ke(!Si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[h,o,u,f]);typeof i=="string"&&(i=xi(i));let{pathname:g="/",search:y="",hash:b="",state:_=null,key:x="default"}=i,S=N.useMemo(()=>{let T=ea(g,h);return T==null?null:{location:{pathname:T,search:y,hash:b,state:_,key:x},navigationType:s}},[h,g,y,b,_,x,s]);return Kt(S!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Jt.Provider,{value:m},N.createElement(Hs.Provider,{children:n,value:S}))}function X1({children:a,location:n}){return N1(Yf(a),n)}function Yf(a,n=[]){let i=[];return N.Children.forEach(a,(s,o)=>{if(!N.isValidElement(s))return;let u=[...n,o];if(s.type===N.Fragment){i.push.apply(i,Yf(s.props.children,u));return}Ke(s.type===on,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Yf(s.props.children,u)),i.push(f)}),i}var xo="get",wo="application/x-www-form-urlencoded";function Ho(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Q1(a){return Ho(a)&&a.tagName.toLowerCase()==="button"}function Z1(a){return Ho(a)&&a.tagName.toLowerCase()==="form"}function F1(a){return Ho(a)&&a.tagName.toLowerCase()==="input"}function W1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ex(a,n){return a.button===0&&(!n||n==="_self")&&!W1(a)}function Vf(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((n,i)=>{let s=a[i];return n.concat(Array.isArray(s)?s.map(o=>[i,o]):[[i,s]])},[]))}function tx(a,n){let i=Vf(a);return n&&n.forEach((s,o)=>{i.has(o)||n.getAll(o).forEach(u=>{i.append(o,u)})}),i}var uo=null;function nx(){if(uo===null)try{new FormData(document.createElement("form"),0),uo=!1}catch{uo=!0}return uo}var ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(a){return a!=null&&!ax.has(a)?(Kt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wo}"`),null):a}function rx(a,n){let i,s,o,u,f;if(Z1(a)){let h=a.getAttribute("action");s=h?ea(h,n):null,i=a.getAttribute("method")||xo,o=Sf(a.getAttribute("enctype"))||wo,u=new FormData(a)}else if(Q1(a)||F1(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||h.getAttribute("action");if(s=m?ea(m,n):null,i=a.getAttribute("formmethod")||h.getAttribute("method")||xo,o=Sf(a.getAttribute("formenctype"))||Sf(h.getAttribute("enctype"))||wo,u=new FormData(h,a),!nx()){let{name:g,type:y,value:b}=a;if(y==="image"){let _=g?`${g}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else g&&u.append(g,b)}}else{if(Ho(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=xo,s=null,o=wo,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vd(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function ix(a,n,i,s){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:n&&ea(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function sx(a,n){if(a.id in n)return n[a.id];try{let i=await import(a.module);return n[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lx(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ox(a,n,i){let s=await Promise.all(a.map(async o=>{let u=n.routes[o.route.id];if(u){let f=await sx(u,i);return f.links?f.links():[]}return[]}));return dx(s.flat(1).filter(lx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jg(a,n,i,s,o,u){let f=(m,g)=>i[g]?m.route.id!==i[g].route.id:!0,h=(m,g)=>i[g].pathname!==m.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==m.params["*"];return u==="assets"?n.filter((m,g)=>f(m,g)||h(m,g)):u==="data"?n.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function ux(a,n,{includeHydrateFallback:i}={}){return cx(a.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cx(a){return[...new Set(a)]}function fx(a){let n={},i=Object.keys(a).sort();for(let s of i)n[s]=a[s];return n}function dx(a,n){let i=new Set;return new Set(n),a.reduce((s,o)=>{let u=JSON.stringify(fx(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function uy(){let a=N.useContext(wi);return vd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function hx(){let a=N.useContext($o);return vd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var _d=N.createContext(void 0);_d.displayName="FrameworkContext";function cy(){let a=N.useContext(_d);return vd(a,"You must render this element inside a <HydratedRouter> element"),a}function mx(a,n){let i=N.useContext(_d),[s,o]=N.useState(!1),[u,f]=N.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=n,_=N.useRef(null);N.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let T=I=>{I.forEach(C=>{f(C.isIntersecting)})},k=new IntersectionObserver(T,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[a]),N.useEffect(()=>{if(s){let T=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(T)}}},[s]);let x=()=>{o(!0)},S=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,_,{}]:[u,_,{onFocus:_s(h,x),onBlur:_s(m,S),onMouseEnter:_s(g,x),onMouseLeave:_s(y,S),onTouchStart:_s(b,x)}]:[!1,_,{}]}function _s(a,n){return i=>{a&&a(i),i.defaultPrevented||n(i)}}function gx({page:a,...n}){let{router:i}=uy(),s=N.useMemo(()=>Xp(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?N.createElement(yx,{page:a,matches:s,...n}):null}function px(a){let{manifest:n,routeModules:i}=cy(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return ox(a,n,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,n,i]),s}function yx({page:a,matches:n,...i}){let s=jn(),{future:o,manifest:u,routeModules:f}=cy(),{basename:h}=uy(),{loaderData:m,matches:g}=hx(),y=N.useMemo(()=>Jg(a,n,g,u,s,"data"),[a,n,g,u,s]),b=N.useMemo(()=>Jg(a,n,g,u,s,"assets"),[a,n,g,u,s]),_=N.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let T=new Set,k=!1;if(n.forEach(C=>{let j=u.routes[C.route.id];!j||!j.hasLoader||(!y.some(Z=>Z.route.id===C.route.id)&&C.route.id in m&&f[C.route.id]?.shouldRevalidate||j.hasClientLoader?k=!0:T.add(C.route.id))}),T.size===0)return[];let I=ix(a,h,o.unstable_trailingSlashAwareDataRequests,"data");return k&&T.size>0&&I.searchParams.set("_routes",n.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[I.pathname+I.search]},[h,o.unstable_trailingSlashAwareDataRequests,m,s,u,y,n,a,f]),x=N.useMemo(()=>ux(b,u),[b,u]),S=px(b);return N.createElement(N.Fragment,null,_.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),x.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),S.map(({key:T,link:k})=>N.createElement("link",{key:T,nonce:i.nonce,...k})))}function bx(...a){return n=>{a.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.12.0")}catch{}function _x({basename:a,children:n,unstable_useTransitions:i,window:s}){let o=N.useRef();o.current==null&&(o.current=F_({window:s,v5Compat:!0}));let u=o.current,[f,h]=N.useState({action:u.action,location:u.location}),m=N.useCallback(g=>{i===!1?h(g):N.startTransition(()=>h(g))},[i]);return N.useLayoutEffect(()=>u.listen(m),[u,m]),N.createElement(J1,{basename:a,children:n,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var fy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dy=N.forwardRef(function({onClick:n,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},S){let{basename:T,unstable_useTransitions:k}=N.useContext(Jt),I=typeof g=="string"&&fy.test(g),C=ey(g,T);g=C.to;let j=k1(g,{relative:o}),[Z,Q,F]=mx(s,x),M=Ex(g,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function J(he){n&&n(he),he.defaultPrevented||M(he)}let se=N.createElement("a",{...x,...F,href:C.absoluteURL||j,onClick:C.isExternal||u?n:J,ref:bx(S,Q),target:m,"data-discover":!I&&i==="render"?"true":void 0});return Z&&!I?N.createElement(N.Fragment,null,se,N.createElement(gx,{page:j})):se});dy.displayName="Link";var xx=N.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...g},y){let b=Is(f,{relative:g.relative}),_=jn(),x=N.useContext($o),{navigator:S,basename:T}=N.useContext(Jt),k=x!=null&&jx(b)&&h===!0,I=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,C=_.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(C=C.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&T&&(j=ea(j,T)||j);const Z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Q=C===I||!o&&C.startsWith(I)&&C.charAt(Z)==="/",F=j!=null&&(j===I||!o&&j.startsWith(I)&&j.charAt(I.length)==="/"),M={isActive:Q,isPending:F,isTransitioning:k},J=Q?n:void 0,se;typeof s=="function"?se=s(M):se=[s,Q?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let he=typeof u=="function"?u(M):u;return N.createElement(dy,{...g,"aria-current":J,className:se,ref:y,style:he,to:f,viewTransition:h},typeof m=="function"?m(M):m)});xx.displayName="NavLink";var wx=N.forwardRef(({discover:a="render",fetcherKey:n,navigate:i,reloadDocument:s,replace:o,state:u,method:f=xo,action:h,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_,...x},S)=>{let{unstable_useTransitions:T}=N.useContext(Jt),k=Ox(),I=Rx(h,{relative:g}),C=f.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&fy.test(h),Z=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let F=Q.nativeEvent.submitter,M=F?.getAttribute("formmethod")||f,J=()=>k(F||Q.currentTarget,{fetcherKey:n,method:M,navigate:i,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:b,unstable_defaultShouldRevalidate:_});T&&i!==!1?N.startTransition(()=>J()):J()};return N.createElement("form",{ref:S,method:C,action:I,onSubmit:s?m:Z,...x,"data-discover":!j&&a==="render"?"true":void 0})});wx.displayName="Form";function Sx(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hy(a){let n=N.useContext(wi);return Ke(n,Sx(a)),n}function Ex(a,{target:n,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=pd(),y=jn(),b=Is(a,{relative:u});return N.useCallback(_=>{if(ex(_,n)){_.preventDefault();let x=i!==void 0?i:js(y)===js(b),S=()=>g(a,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:h});m?N.startTransition(()=>S()):S()}},[y,g,b,i,s,n,a,o,u,f,h,m])}function fA(a){Kt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=N.useRef(Vf(a)),i=N.useRef(!1),s=jn(),o=N.useMemo(()=>tx(s.search,i.current?null:n.current),[s.search]),u=pd(),f=N.useCallback((h,m)=>{const g=Vf(typeof h=="function"?h(new URLSearchParams(o)):h);i.current=!0,u("?"+g,m)},[u,o]);return[o,f]}var Ax=0,Tx=()=>`__${String(++Ax)}__`;function Ox(){let{router:a}=hy("useSubmit"),{basename:n}=N.useContext(Jt),i=G1(),s=a.fetch,o=a.navigate;return N.useCallback(async(u,f={})=>{let{action:h,method:m,encType:g,formData:y,body:b}=rx(u,n);if(f.navigate===!1){let _=f.fetcherKey||Tx();await s(_,i,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||m,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:b,formMethod:f.method||m,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,n,i])}function Rx(a,{relative:n}={}){let{basename:i}=N.useContext(Jt),s=N.useContext(Rn);Ke(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Is(a||".",{relative:n})},f=jn();if(a==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();u.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Wn([i,u.pathname])),js(u)}function jx(a,{relative:n}={}){let i=N.useContext(ny);Ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hy("useViewTransitionState"),o=Is(a,{relative:n});if(!i.isTransitioning)return!1;let u=ea(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ea(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Co(o.pathname,f)!=null||Co(o.pathname,u)!=null}const Cx=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ux=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,s)=>s?s.toUpperCase():i.toLowerCase()),Xg=a=>{const n=Ux(a);return n.charAt(0).toUpperCase()+n.slice(1)},my=(...a)=>a.filter((n,i,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===i).join(" ").trim(),kx=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nx=N.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...h},m)=>N.createElement("svg",{ref:m,...Dx,width:n,height:n,stroke:a,strokeWidth:s?Number(i)*24/Number(n):i,className:my("lucide",o),...!u&&!kx(h)&&{"aria-hidden":"true"},...h},[...f.map(([g,y])=>N.createElement(g,y)),...Array.isArray(u)?u:[u]]));const xd=(a,n)=>{const i=N.forwardRef(({className:s,...o},u)=>N.createElement(Nx,{ref:u,iconNode:n,className:my(`lucide-${Cx(Xg(a))}`,`lucide-${a}`,s),...o}));return i.displayName=Xg(a),i};const zx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mx=xd("send",zx);const qx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lx=xd("sparkles",qx);const Bx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qg=xd("x",Bx),gy=N.createContext(),$x=()=>N.useContext(gy),Hx=({children:a})=>{const[n,i]=N.useState(()=>localStorage.getItem("theme")||"light");N.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]);const s=()=>{i(u=>u==="light"?"dark":"light")},o=u=>{(u==="light"||u==="dark")&&i(u)};return G.jsx(gy.Provider,{value:{theme:n,toggleTheme:s,setMode:o},children:a})};function Ix(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var So={exports:{}};const Gx={},Yx=Object.freeze(Object.defineProperty({__proto__:null,default:Gx},Symbol.toStringTag,{value:"Module"})),Vx=B_(Yx);var Px=So.exports,Zg;function Kx(){return Zg||(Zg=1,(function(a){(function(n,i){typeof Ix=="function"&&a&&a.exports?a.exports=i():(n.dcodeIO=n.dcodeIO||{}).bcrypt=i()})(Px,function(){var n={},i=null;function s(V){if(a&&a.exports)try{return Vx.randomBytes(V)}catch{}try{var L;return(self.crypto||self.msCrypto).getRandomValues(L=new Uint32Array(V)),Array.prototype.slice.call(L)}catch{}if(!i)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return i(V)}var o=!1;try{s(1),o=!0}catch{}i=null,n.setRandomFallback=function(V){i=V},n.genSaltSync=function(V,L){if(V=V||T,typeof V!="number")throw Error("Illegal arguments: "+typeof V+", "+typeof L);V<4?V=4:V>31&&(V=31);var q=[];return q.push("$2a$"),V<10&&q.push("0"),q.push(V.toString()),q.push("$"),q.push(b(s(S),S)),q.join("")},n.genSalt=function(V,L,q){if(typeof L=="function"&&(q=L,L=void 0),typeof V=="function"&&(q=V,V=void 0),typeof V>"u")V=T;else if(typeof V!="number")throw Error("illegal arguments: "+typeof V);function O(U){f(function(){try{U(null,n.genSaltSync(V))}catch(w){U(w)}})}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);O(q)}else return new Promise(function(U,w){O(function(B,ae){if(B){w(B);return}U(ae)})})},n.hashSync=function(V,L){if(typeof L>"u"&&(L=T),typeof L=="number"&&(L=n.genSaltSync(L)),typeof V!="string"||typeof L!="string")throw Error("Illegal arguments: "+typeof V+", "+typeof L);return he(V,L)},n.hash=function(V,L,q,O){function U(w){typeof V=="string"&&typeof L=="number"?n.genSalt(L,function(B,ae){he(V,ae,w,O)}):typeof V=="string"&&typeof L=="string"?he(V,L,w,O):f(w.bind(this,Error("Illegal arguments: "+typeof V+", "+typeof L)))}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);U(q)}else return new Promise(function(w,B){U(function(ae,ne){if(ae){B(ae);return}w(ne)})})};function u(V,L){for(var q=0,O=0,U=0,w=V.length;U<w;++U)V.charCodeAt(U)===L.charCodeAt(U)?++q:++O;return q<0?!1:O===0}n.compareSync=function(V,L){if(typeof V!="string"||typeof L!="string")throw Error("Illegal arguments: "+typeof V+", "+typeof L);return L.length!==60?!1:u(n.hashSync(V,L.substr(0,L.length-31)),L)},n.compare=function(V,L,q,O){function U(w){if(typeof V!="string"||typeof L!="string"){f(w.bind(this,Error("Illegal arguments: "+typeof V+", "+typeof L)));return}if(L.length!==60){f(w.bind(this,null,!1));return}n.hash(V,L.substr(0,29),function(B,ae){B?w(B):w(null,u(ae,L))},O)}if(q){if(typeof q!="function")throw Error("Illegal callback: "+typeof q);U(q)}else return new Promise(function(w,B){U(function(ae,ne){if(ae){B(ae);return}w(ne)})})},n.getRounds=function(V){if(typeof V!="string")throw Error("Illegal arguments: "+typeof V);return parseInt(V.split("$")[2],10)},n.getSalt=function(V){if(typeof V!="string")throw Error("Illegal arguments: "+typeof V);if(V.length!==60)throw Error("Illegal hash length: "+V.length+" != 60");return V.substring(0,29)};var f=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function h(V){var L=[],q=0;return x.encodeUTF16toUTF8(function(){return q>=V.length?null:V.charCodeAt(q++)},function(O){L.push(O)}),L}var m="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),g=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],y=String.fromCharCode;function b(V,L){var q=0,O=[],U,w;if(L<=0||L>V.length)throw Error("Illegal len: "+L);for(;q<L;){if(U=V[q++]&255,O.push(m[U>>2&63]),U=(U&3)<<4,q>=L){O.push(m[U&63]);break}if(w=V[q++]&255,U|=w>>4&15,O.push(m[U&63]),U=(w&15)<<2,q>=L){O.push(m[U&63]);break}w=V[q++]&255,U|=w>>6&3,O.push(m[U&63]),O.push(m[w&63])}return O.join("")}function _(V,L){var q=0,O=V.length,U=0,w=[],B,ae,ne,oe,E,P;if(L<=0)throw Error("Illegal len: "+L);for(;q<O-1&&U<L&&(P=V.charCodeAt(q++),B=P<g.length?g[P]:-1,P=V.charCodeAt(q++),ae=P<g.length?g[P]:-1,!(B==-1||ae==-1||(E=B<<2>>>0,E|=(ae&48)>>4,w.push(y(E)),++U>=L||q>=O)||(P=V.charCodeAt(q++),ne=P<g.length?g[P]:-1,ne==-1)||(E=(ae&15)<<4>>>0,E|=(ne&60)>>2,w.push(y(E)),++U>=L||q>=O)));)P=V.charCodeAt(q++),oe=P<g.length?g[P]:-1,E=(ne&3)<<6>>>0,E|=oe,w.push(y(E)),++U;var ie=[];for(q=0;q<U;q++)ie.push(w[q].charCodeAt(0));return ie}var x=(function(){var V={};return V.MAX_CODEPOINT=1114111,V.encodeUTF8=function(L,q){var O=null;for(typeof L=="number"&&(O=L,L=function(){return null});O!==null||(O=L())!==null;)O<128?q(O&127):O<2048?(q(O>>6&31|192),q(O&63|128)):O<65536?(q(O>>12&15|224),q(O>>6&63|128),q(O&63|128)):(q(O>>18&7|240),q(O>>12&63|128),q(O>>6&63|128),q(O&63|128)),O=null},V.decodeUTF8=function(L,q){for(var O,U,w,B,ae=function(ne){ne=ne.slice(0,ne.indexOf(null));var oe=Error(ne.toString());throw oe.name="TruncatedError",oe.bytes=ne,oe};(O=L())!==null;)if((O&128)===0)q(O);else if((O&224)===192)(U=L())===null&&ae([O,U]),q((O&31)<<6|U&63);else if((O&240)===224)((U=L())===null||(w=L())===null)&&ae([O,U,w]),q((O&15)<<12|(U&63)<<6|w&63);else if((O&248)===240)((U=L())===null||(w=L())===null||(B=L())===null)&&ae([O,U,w,B]),q((O&7)<<18|(U&63)<<12|(w&63)<<6|B&63);else throw RangeError("Illegal starting byte: "+O)},V.UTF16toUTF8=function(L,q){for(var O,U=null;(O=U!==null?U:L())!==null;){if(O>=55296&&O<=57343&&(U=L())!==null&&U>=56320&&U<=57343){q((O-55296)*1024+U-56320+65536),U=null;continue}q(O)}U!==null&&q(U)},V.UTF8toUTF16=function(L,q){var O=null;for(typeof L=="number"&&(O=L,L=function(){return null});O!==null||(O=L())!==null;)O<=65535?q(O):(O-=65536,q((O>>10)+55296),q(O%1024+56320)),O=null},V.encodeUTF16toUTF8=function(L,q){V.UTF16toUTF8(L,function(O){V.encodeUTF8(O,q)})},V.decodeUTF8toUTF16=function(L,q){V.decodeUTF8(L,function(O){V.UTF8toUTF16(O,q)})},V.calculateCodePoint=function(L){return L<128?1:L<2048?2:L<65536?3:4},V.calculateUTF8=function(L){for(var q,O=0;(q=L())!==null;)O+=V.calculateCodePoint(q);return O},V.calculateUTF16asUTF8=function(L){var q=0,O=0;return V.UTF16toUTF8(L,function(U){++q,O+=V.calculateCodePoint(U)}),[q,O]},V})();Date.now=Date.now||function(){return+new Date};var S=16,T=10,k=16,I=100,C=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],j=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Z=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Q(V,L,q,O){var U,w=V[L],B=V[L+1];return w^=q[0],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[1],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[2],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[3],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[4],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[5],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[6],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[7],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[8],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[9],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[10],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[11],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[12],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[13],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[14],U=O[w>>>24],U+=O[256|w>>16&255],U^=O[512|w>>8&255],U+=O[768|w&255],B^=U^q[15],U=O[B>>>24],U+=O[256|B>>16&255],U^=O[512|B>>8&255],U+=O[768|B&255],w^=U^q[16],V[L]=B^q[k+1],V[L+1]=w,V}function F(V,L){for(var q=0,O=0;q<4;++q)O=O<<8|V[L]&255,L=(L+1)%V.length;return{key:O,offp:L}}function M(V,L,q){for(var O=0,U=[0,0],w=L.length,B=q.length,ae,ne=0;ne<w;ne++)ae=F(V,O),O=ae.offp,L[ne]=L[ne]^ae.key;for(ne=0;ne<w;ne+=2)U=Q(U,0,L,q),L[ne]=U[0],L[ne+1]=U[1];for(ne=0;ne<B;ne+=2)U=Q(U,0,L,q),q[ne]=U[0],q[ne+1]=U[1]}function J(V,L,q,O){for(var U=0,w=[0,0],B=q.length,ae=O.length,ne,oe=0;oe<B;oe++)ne=F(L,U),U=ne.offp,q[oe]=q[oe]^ne.key;for(U=0,oe=0;oe<B;oe+=2)ne=F(V,U),U=ne.offp,w[0]^=ne.key,ne=F(V,U),U=ne.offp,w[1]^=ne.key,w=Q(w,0,q,O),q[oe]=w[0],q[oe+1]=w[1];for(oe=0;oe<ae;oe+=2)ne=F(V,U),U=ne.offp,w[0]^=ne.key,ne=F(V,U),U=ne.offp,w[1]^=ne.key,w=Q(w,0,q,O),O[oe]=w[0],O[oe+1]=w[1]}function se(V,L,q,O,U){var w=Z.slice(),B=w.length,ae;if(q<4||q>31)if(ae=Error("Illegal number of rounds (4-31): "+q),O){f(O.bind(this,ae));return}else throw ae;if(L.length!==S)if(ae=Error("Illegal salt length: "+L.length+" != "+S),O){f(O.bind(this,ae));return}else throw ae;q=1<<q>>>0;var ne,oe,E=0,P;Int32Array?(ne=new Int32Array(C),oe=new Int32Array(j)):(ne=C.slice(),oe=j.slice()),J(L,V,ne,oe);function ie(){if(U&&U(E/q),E<q)for(var ge=Date.now();E<q&&(E=E+1,M(V,ne,oe),M(L,ne,oe),!(Date.now()-ge>I)););else{for(E=0;E<64;E++)for(P=0;P<B>>1;P++)Q(w,P<<1,ne,oe);var fe=[];for(E=0;E<B;E++)fe.push((w[E]>>24&255)>>>0),fe.push((w[E]>>16&255)>>>0),fe.push((w[E]>>8&255)>>>0),fe.push((w[E]&255)>>>0);if(O){O(null,fe);return}else return fe}O&&f(ie)}if(typeof O<"u")ie();else for(var le;;)if(typeof(le=ie())<"u")return le||[]}function he(V,L,q,O){var U;if(typeof V!="string"||typeof L!="string")if(U=Error("Invalid string / salt: Not a string"),q){f(q.bind(this,U));return}else throw U;var w,B;if(L.charAt(0)!=="$"||L.charAt(1)!=="2")if(U=Error("Invalid salt version: "+L.substring(0,2)),q){f(q.bind(this,U));return}else throw U;if(L.charAt(2)==="$")w="\0",B=3;else{if(w=L.charAt(2),w!=="a"&&w!=="b"&&w!=="y"||L.charAt(3)!=="$")if(U=Error("Invalid salt revision: "+L.substring(2,4)),q){f(q.bind(this,U));return}else throw U;B=4}if(L.charAt(B+2)>"$")if(U=Error("Missing salt rounds"),q){f(q.bind(this,U));return}else throw U;var ae=parseInt(L.substring(B,B+1),10)*10,ne=parseInt(L.substring(B+1,B+2),10),oe=ae+ne,E=L.substring(B+3,B+25);V+=w>="a"?"\0":"";var P=h(V),ie=_(E,S);function le(ge){var fe=[];return fe.push("$2"),w>="a"&&fe.push(w),fe.push("$"),oe<10&&fe.push("0"),fe.push(oe.toString()),fe.push("$"),fe.push(b(ie,ie.length)),fe.push(b(ge,Z.length*4-1)),fe.join("")}if(typeof q>"u")return le(se(P,ie,oe));se(P,ie,oe,function(ge,fe){ge?q(ge,null):q(null,le(fe))},O)}return n.encodeBase64=b,n.decodeBase64=_,n})})(So)),So.exports}var Jx=Kx();const co=Jp(Jx);var Ct=function(){return Ct=Object.assign||function(n){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},Ct.apply(this,arguments)};function Io(a,n){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&n.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(a);o<s.length;o++)n.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(a,s[o])&&(i[s[o]]=a[s[o]]);return i}function Xx(a,n,i,s){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function h(y){try{g(s.next(y))}catch(b){f(b)}}function m(y){try{g(s.throw(y))}catch(b){f(b)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((s=s.apply(a,n||[])).next())})}function Cs(a,n,i){if(i||arguments.length===2)for(var s=0,o=n.length,u;s<o;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return a.concat(u||Array.prototype.slice.call(n))}const Qx=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class wd extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class Zx extends wd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Fg extends wd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Wg extends wd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Pf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Pf||(Pf={}));class Fx{constructor(n,{headers:i={},customFetch:s,region:o=Pf.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=Qx(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Xx(this,arguments,void 0,function*(i,s={}){var o;let u,f;try{const{headers:h,method:m,body:g,signal:y,timeout:b}=s;let _={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${i}`);x&&x!=="any"&&(_["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let T;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(_["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(_["Content-Type"]="application/json",T=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?T=JSON.stringify(g):T=g;let k=y;b&&(f=new AbortController,u=setTimeout(()=>f.abort(),b),y?(k=f.signal,y.addEventListener("abort",()=>f.abort())):k=f.signal);const I=yield this.fetch(S.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:T,signal:k}).catch(Q=>{throw new Zx(Q)}),C=I.headers.get("x-relay-error");if(C&&C==="true")throw new Fg(I);if(!I.ok)throw new Wg(I);let j=((o=I.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Z;return j==="application/json"?Z=yield I.json():j==="application/octet-stream"||j==="application/pdf"?Z=yield I.blob():j==="text/event-stream"?Z=I:j==="multipart/form-data"?Z=yield I.formData():Z=yield I.text(),{data:Z,error:null,response:I}}catch(h){return{data:null,error:h,response:h instanceof Wg||h instanceof Fg?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var Wx=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},ew=class{constructor(a){var n,i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(i=a.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(s=a.urlLengthLimit)!==null&&s!==void 0?s:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,h=null,m=null,g=u.status,y=u.statusText;if(u.ok){var b,_;if(i.method!=="HEAD"){var x;const I=await u.text();I===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((x=i.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=I:h=JSON.parse(I))}const T=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),k=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");T&&k&&k.length>1&&(m=parseInt(k[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var S;const T=await u.text();try{f=JSON.parse(T),Array.isArray(f)&&u.status===404&&(h=[],f=null,g=200,y="OK")}catch{u.status===404&&T===""?(g=204,y="No Content"):f={message:T}}if(f&&i.isMaybeSingle&&(!(f==null||(S=f.details)===null||S===void 0)&&S.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&i.shouldThrowOnError)throw new Wx(f)}return{error:f,data:h,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var f;let h="",m="",g="";const y=u?.cause;if(y){var b,_,x,S;const I=(b=y?.message)!==null&&b!==void 0?b:"",C=(_=y?.code)!==null&&_!==void 0?_:"";h=`${(x=u?.name)!==null&&x!==void 0?x:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(S=y?.name)!==null&&S!==void 0?S:"Error"}: ${I}`,C&&(h+=` (${C})`),y?.stack&&(h+=`
${y.stack}`)}else{var T;h=(T=u?.stack)!==null&&T!==void 0?T:""}const k=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(m+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:h,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),o.then(a,n)}returns(){return this}overrideTypes(){return this}},tw=class extends ew{select(a){let n=!1;const i=(a??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${a}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this.url.searchParams.set(u,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:o=!1,format:u="text"}={}){var f;const h=[a?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const ep=new RegExp("[,()]");var ri=class extends tw{eq(a,n){return this.url.searchParams.append(a,`eq.${n}`),this}neq(a,n){return this.url.searchParams.append(a,`neq.${n}`),this}gt(a,n){return this.url.searchParams.append(a,`gt.${n}`),this}gte(a,n){return this.url.searchParams.append(a,`gte.${n}`),this}lt(a,n){return this.url.searchParams.append(a,`lt.${n}`),this}lte(a,n){return this.url.searchParams.append(a,`lte.${n}`),this}like(a,n){return this.url.searchParams.append(a,`like.${n}`),this}likeAllOf(a,n){return this.url.searchParams.append(a,`like(all).{${n.join(",")}}`),this}likeAnyOf(a,n){return this.url.searchParams.append(a,`like(any).{${n.join(",")}}`),this}ilike(a,n){return this.url.searchParams.append(a,`ilike.${n}`),this}ilikeAllOf(a,n){return this.url.searchParams.append(a,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(a,n){return this.url.searchParams.append(a,`ilike(any).{${n.join(",")}}`),this}regexMatch(a,n){return this.url.searchParams.append(a,`match.${n}`),this}regexIMatch(a,n){return this.url.searchParams.append(a,`imatch.${n}`),this}is(a,n){return this.url.searchParams.append(a,`is.${n}`),this}isDistinct(a,n){return this.url.searchParams.append(a,`isdistinct.${n}`),this}in(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&ep.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}notIn(a,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&ep.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(a,`not.in.(${i})`),this}contains(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cs.{${n.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(n)}`),this}containedBy(a,n){return typeof n=="string"?this.url.searchParams.append(a,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(a,`cd.{${n.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(n)}`),this}rangeGt(a,n){return this.url.searchParams.append(a,`sr.${n}`),this}rangeGte(a,n){return this.url.searchParams.append(a,`nxl.${n}`),this}rangeLt(a,n){return this.url.searchParams.append(a,`sl.${n}`),this}rangeLte(a,n){return this.url.searchParams.append(a,`nxr.${n}`),this}rangeAdjacent(a,n){return this.url.searchParams.append(a,`adj.${n}`),this}overlaps(a,n){return typeof n=="string"?this.url.searchParams.append(a,`ov.${n}`):this.url.searchParams.append(a,`ov.{${n.join(",")}}`),this}textSearch(a,n,{config:i,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${o}fts${u}.${n}`),this}match(a){return Object.entries(a).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(a,n,i){return this.url.searchParams.append(a,`not.${n}.${i}`),this}or(a,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${a})`),this}filter(a,n,i){return this.url.searchParams.append(a,`${n}.${i}`),this}},nw=class{constructor(a,{headers:n={},schema:i,fetch:s,urlLengthLimit:o=8e3}){this.url=a,this.headers=new Headers(n),this.schema=i,this.fetch=s,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,n){const{head:i=!1,count:s}=n??{},o=i?"HEAD":"GET";let u=!1;const f=(a??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",f),s&&m.append("Prefer",`count=${s}`),new ri({method:o,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:u,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new ri({method:o,url:u,headers:f,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:o=!0}={}){var u;const f="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&h.searchParams.set("on_conflict",n),s&&m.append("Prefer",`count=${s}`),o||m.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",y.join(","))}}return new ri({method:f,url:h,headers:m,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:n}={}){var i;const s="PATCH",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new ri({method:s,url:o,headers:u,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var n;const i="DELETE",{url:s,headers:o}=this.cloneRequestState();return a&&o.append("Prefer",`count=${a}`),new ri({method:i,url:s,headers:o,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function Us(a){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Us(a)}function aw(a,n){if(Us(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(Us(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function rw(a){var n=aw(a,"string");return Us(n)=="symbol"?n:n+""}function iw(a,n,i){return(n=rw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function tp(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function fo(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?tp(Object(i),!0).forEach(function(s){iw(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):tp(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}var sw=class py{constructor(n,{headers:i={},schema:s,fetch:o,timeout:u,urlLengthLimit:f=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.urlLengthLimit=f;const h=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(m,g)=>{const y=new AbortController,b=setTimeout(()=>y.abort(),u),_=g?.signal;if(_){if(_.aborted)return clearTimeout(b),h(m,g);const x=()=>{clearTimeout(b),y.abort()};return _.addEventListener("abort",x,{once:!0}),h(m,fo(fo({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(b),_.removeEventListener("abort",x)})}return h(m,fo(fo({},g),{},{signal:y.signal})).finally(()=>clearTimeout(b))}:this.fetch=h}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nw(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new py(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:s=!1,get:o=!1,count:u}={}){var f;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;const y=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(y)),b=s&&Object.values(i).some(y);b?(h="POST",g=i):s||o?(h=s?"HEAD":"GET",Object.entries(i).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{m.searchParams.append(x,S)})):(h="POST",g=i);const _=new Headers(this.headers);return b?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new ri({method:h,url:m,headers:_,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class lw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const o=s.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ow="2.95.3",uw=`realtime-js/${ow}`,cw="1.0.0",yy="2.0.0",np=yy,Kf=1e4,fw=1e3,dw=100;var ja;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(ja||(ja={}));var ot;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(ot||(ot={}));var pn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(pn||(pn={}));var Jf;(function(a){a.websocket="websocket"})(Jf||(Jf={}));var er;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(er||(er={}));class hw{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,s;const o=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,s){var o,u;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let S=new DataView(x),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,m.length),S.setUint8(T++,h.length),S.setUint8(T++,f.length),S.setUint8(T++,g.length),S.setUint8(T++,b.length),S.setUint8(T++,i),Array.from(m,I=>S.setUint8(T++,I.charCodeAt(0))),Array.from(h,I=>S.setUint8(T++,I.charCodeAt(0))),Array.from(f,I=>S.setUint8(T++,I.charCodeAt(0))),Array.from(g,I=>S.setUint8(T++,I.charCodeAt(0))),Array.from(b,I=>S.setUint8(T++,I.charCodeAt(0)));var k=new Uint8Array(x.byteLength+s.byteLength);return k.set(new Uint8Array(x),0),k.set(new Uint8Array(s),x.byteLength),k.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[o,u,f,h,m]=s;return i({join_ref:o,ref:u,topic:f,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,o)}_decodeUserBroadcast(n,i,s){const o=i.getUint8(1),u=i.getUint8(2),f=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const g=s.decode(n.slice(m,m+o));m=m+o;const y=s.decode(n.slice(m,m+u));m=m+u;const b=s.decode(n.slice(m,m+f));m=m+f;const _=n.slice(m,n.byteLength),x=h===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,S={type:this.BROADCAST_EVENT,event:y,payload:x};return f>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}class by{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ie||(Ie={}));const ap=(a,n,i={})=>{var s;const o=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((u,f)=>(u[f]=mw(f,a,n,o),u),{}):{}},mw=(a,n,i,s)=>{const o=n.find(h=>h.name===a),u=o?.type,f=i[a];return u&&!s.includes(u)?vy(u,f):Xf(f)},vy=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return bw(n,i)}switch(a){case Ie.bool:return gw(n);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return pw(n);case Ie.json:case Ie.jsonb:return yw(n);case Ie.timestamp:return vw(n);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Xf(n);default:return Xf(n)}},Xf=a=>a,gw=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},pw=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},yw=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},bw=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,s=a[i];if(a[0]==="{"&&s==="}"){let u;const f=a.slice(1,i);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(h=>vy(n,h))}return a},vw=a=>typeof a=="string"?a.replace(" ","T"):a,_y=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ef{constructor(n,i,s={},o=Kf){this.channel=n,this.event=i,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var rp;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(rp||(rp={}));class As{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,o,u,f),this.pendingDiffs.forEach(m=>{this.state=As.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=As.syncDiff(this.state,o,u,f),h())}),this.onJoin((o,u,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:f})}),this.onLeave((o,u,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,o){const u=this.cloneDeep(n),f=this.transformState(i),h={},m={};return this.map(u,(g,y)=>{f[g]||(m[g]=y)}),this.map(f,(g,y)=>{const b=u[g];if(b){const _=y.map(k=>k.presence_ref),x=b.map(k=>k.presence_ref),S=y.filter(k=>x.indexOf(k.presence_ref)<0),T=b.filter(k=>_.indexOf(k.presence_ref)<0);S.length>0&&(h[g]=S),T.length>0&&(m[g]=T)}else h[g]=y}),this.syncDiff(u,{joins:h,leaves:m},s,o)}static syncDiff(n,i,s,o){const{joins:u,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var g;const y=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),y.length>0){const b=n[h].map(x=>x.presence_ref),_=y.filter(x=>b.indexOf(x.presence_ref)<0);n[h].unshift(..._)}s(h,y,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const y=m.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const o=n[s];return"metas"in o?i[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[s]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ip;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(ip||(ip={}));var Ts;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Ts||(Ts={}));var Jn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class ui{constructor(n,i={config:{}},s){var o,u;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ef(this,pn.join,this.params,this.timeout),this.rejoinTimer=new by(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new As(this),this.broadcastEndpointURL=_y(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>n?.(Jn.CHANNEL_ERROR,x)),this._onClose(()=>n?.(Jn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){n?.(Jn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,k=(S=T?.length)!==null&&S!==void 0?S:0,I=[];for(let C=0;C<k;C++){const j=T[C],{filter:{event:Z,schema:Q,table:F,filter:M}}=j,J=x&&x[C];if(J&&J.event===Z&&ui.isFilterValueEqual(J.schema,Q)&&ui.isFilterValueEqual(J.table,F)&&ui.isFilterValueEqual(J.filter,M))I.push(Object.assign(Object.assign({},j),{id:J.id}));else{this.unsubscribe(),this.state=ot.errored,n?.(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,n&&n(Jn.SUBSCRIBED);return}}).receive("error",x=>{this.state=ot.errored,n?.(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n?.(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===ot.joined&&n===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var s,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,h,m;const g=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ot.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Ef(this,pn.leave,{},n),s.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),f}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ef(this,n,i,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>dw){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var o,u;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=pn;if(s&&[h,m,g,y].indexOf(f)>=0&&s!==this._joinRef())return;let _=this._onMessage(f,i,s);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var S,T,k;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(T=x.filter)===null||T===void 0?void 0:T.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===f}).map(x=>x.callback(_,s)):(u=this.bindings[f])===null||u===void 0||u.filter(x=>{var S,T,k,I,C,j;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in x){const Z=x.id,Q=(S=x.filter)===null||S===void 0?void 0:S.event;return Z&&((T=i.ids)===null||T===void 0?void 0:T.includes(Z))&&(Q==="*"||Q?.toLocaleLowerCase()===((k=i.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const Z=(C=(I=x?.filter)===null||I===void 0?void 0:I.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return Z==="*"||Z===((j=i?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===f}).map(x=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:T,table:k,commit_timestamp:I,type:C,errors:j}=S;_=Object.assign(Object.assign({},{schema:T,table:k,commit_timestamp:I,eventType:C,new:{},old:{},errors:j}),this._getPayloadRecords(S))}x.callback(_,s)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const o=n.toLocaleLowerCase(),u={type:o,filter:i,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&ui.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(pn.close,{},n)}_onError(n){this._on(pn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=ap(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=ap(n.columns,n.old_record)),i}}const Af=()=>{},ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_w=[1e3,2e3,5e3,1e4],xw=1e4,ww=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sw{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kf,this.transport=null,this.heartbeatIntervalMs=ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Af,this.ref=0,this.reconnectTimer=null,this.vsn=np,this.logger=Af,this.conn=null,this.sendBuffer=[],this.serializer=new hw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Jf.websocket}`,this.httpEndpoint=_y(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return er.Connecting;case ja.open:return er.Open;case ja.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new ui(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:s,payload:o,ref:u}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${s} (${u})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(fw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:u,ref:f}=i,h=f?`(${f})`:"",m=u.status||"";this.log("receive",`${m} ${s} ${o} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(o,u,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ja.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ja.open||this.conn.readyState===ja.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(pn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${s}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([ww],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:uw};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(pn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new by(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,o,u,f,h,m,g,y,b,_,x;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Kf,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:ho.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:Af,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:np,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>_w[S-1]||xw),this.vsn){case cw:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((S,T)=>T(JSON.stringify(S))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((S,T)=>T(JSON.parse(S)));break;case yy:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=n?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ks=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ew(a,n,i){const s=new URL(n,a);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function Aw(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Tw(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:o,body:u,headers:f}){const h=Ew(a.baseUrl,s,o),m=await Aw(a.auth),g=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...f},body:u?JSON.stringify(u):void 0}),y=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),_=b&&y?JSON.parse(y):y;if(!g.ok){const x=b?_:void 0,S=x?.error;throw new ks(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:g.status,headers:g.headers,data:_}}}}function mo(a){return a.join("")}var Ow=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:mo(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mo(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mo(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mo(a.namespace)}`}),!0}catch(n){if(n instanceof ks&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof ks&&i.status===409)return;throw i}}};function Xr(a){return a.join("")}var Rw=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof ks&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof ks&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},jw=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Tw({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new Ow(this.client,n),this.tableOps=new Rw(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}},Go=class extends Error{constructor(a,n="storage",i,s){super(a),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function Yo(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var go=class extends Go{constructor(a,n,i,s="storage"){super(a,s,n,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xy=class extends Go{constructor(a,n,i="storage"){super(a,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Cw=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Uw=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Qf=a=>{if(Array.isArray(a))return a.map(i=>Qf(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,s])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Qf(s)}),n},kw=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Ds(a){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ds(a)}function Dw(a,n){if(Ds(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(Ds(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Nw(a){var n=Dw(a,"string");return Ds(n)=="symbol"?n:n+""}function zw(a,n,i){return(n=Nw(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function sp(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function ve(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?sp(Object(i),!0).forEach(function(s){zw(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):sp(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const lp=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},Mw=async(a,n,i,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a,u=o.status||500;if(typeof o.json=="function")o.json().then(f=>{const h=f?.statusCode||f?.code||u+"";n(new go(lp(f),u,h,s))}).catch(()=>{if(s==="vectors"){const f=u+"";n(new go(o.statusText||`HTTP ${u} error`,u,f,s))}else{const f=u+"";n(new go(o.statusText||`HTTP ${u} error`,u,f,s))}});else{const f=u+"";n(new go(o.statusText||`HTTP ${u} error`,u,f,s))}}else n(new xy(lp(a),a,s))},qw=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||a==="HEAD"||!s?ve(ve({},o),i):(Uw(s)?(o.headers=ve({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(s)):o.body=s,n?.duplex&&(o.duplex=n.duplex),ve(ve({},o),i))};async function xs(a,n,i,s,o,u,f){return new Promise((h,m)=>{a(i,qw(n,s,o,u)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;if(f==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>Mw(g,m,s,f))})}function wy(a="storage"){return{get:async(n,i,s,o)=>xs(n,"GET",i,s,o,void 0,a),post:async(n,i,s,o,u)=>xs(n,"POST",i,o,u,s,a),put:async(n,i,s,o,u)=>xs(n,"PUT",i,o,u,s,a),head:async(n,i,s,o)=>xs(n,"HEAD",i,ve(ve({},s),{},{noResolveJson:!0}),o,void 0,a),remove:async(n,i,s,o,u)=>xs(n,"DELETE",i,o,u,s,a)}}const Lw=wy("storage"),{get:Ns,post:gn,put:Zf,head:Bw,remove:Sd}=Lw,Pt=wy("vectors");var Ei=class{constructor(a,n={},i,s="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=n,this.fetch=Cw(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){var n=this;try{return{data:await a(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Yo(i))return{data:null,error:i};throw i}}},$w=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n}then(a,n){return this.execute().then(a,n)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Yo(n))return{data:null,error:n};throw n}}};let Sy;Sy=Symbol.toStringTag;var Hw=class{constructor(a,n){this.downloadFn=a,this.shouldThrowOnError=n,this[Sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new $w(this.downloadFn,this.shouldThrowOnError)}then(a,n){return this.getPromise().then(a,n)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(n){if(a.shouldThrowOnError)throw n;if(Yo(n))return{data:null,error:n};throw n}}};const Iw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gw=class extends Ei{constructor(a,n={},i,s){super(a,n,s,"storage"),this.bucketId=i}async uploadOrUpdate(a,n,i,s){var o=this;return o.handleOperation(async()=>{let u;const f=ve(ve({},op),s);let h=ve(ve({},o.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=i,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),s?.headers&&(h=ve(ve({},h),s.headers));const g=o._removeEmptyFolders(n),y=o._getFinalPath(g),b=await(a=="PUT"?Zf:gn)(o.fetch,`${o.url}/object/${y}`,u,ve({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(a,n,i){return this.uploadOrUpdate("POST",a,n,i)}async uploadToSignedUrl(a,n,i,s){var o=this;const u=o._removeEmptyFolders(a),f=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${f}`);return h.searchParams.set("token",n),o.handleOperation(async()=>{let m;const g=ve({upsert:op.upsert},s),y=ve(ve({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:u,fullPath:(await Zf(o.fetch,h.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(a,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(a);const o=ve({},i.headers);n?.upsert&&(o["x-upsert"]="true");const u=await gn(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:o}),f=new URL(i.url+u.url),h=f.searchParams.get("token");if(!h)throw new Go("No token returned by API");return{signedUrl:f.toString(),path:a,token:h}})}async update(a,n,i){return this.uploadOrUpdate("PUT",a,n,i)}async move(a,n,i){var s=this;return s.handleOperation(async()=>await gn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}))}async copy(a,n,i){var s=this;return s.handleOperation(async()=>({path:(await gn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:a,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(a,n,i){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(a),u=await gn(s.fetch,`${s.url}/object/sign/${o}`,ve({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${u.signedURL}${f}`)}})}async createSignedUrls(a,n,i){var s=this;return s.handleOperation(async()=>{const o=await gn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:a},{headers:s.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return o.map(f=>ve(ve({},f),{},{signedUrl:f.signedURL?encodeURI(`${s.url}${f.signedURL}${u}`):null}))})}download(a,n,i){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),u=o?`?${o}`:"",f=this._getFinalPath(a),h=()=>Ns(this.fetch,`${this.url}/${s}/${f}${u}`,{headers:this.headers,noResolveJson:!0},i);return new Hw(h,this.shouldThrowOnError)}async info(a){var n=this;const i=n._getFinalPath(a);return n.handleOperation(async()=>Qf(await Ns(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(a){var n=this;const i=n._getFinalPath(a);try{return await Bw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Yo(s)&&s instanceof xy){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(a,n){const i=this._getFinalPath(a),s=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const u=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${h}`)}}}async remove(a){var n=this;return n.handleOperation(async()=>await Sd(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:a},{headers:n.headers}))}async list(a,n,i){var s=this;return s.handleOperation(async()=>{const o=ve(ve(ve({},Iw),n),{},{prefix:a||""});return await gn(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},i)})}async listV2(a,n){var i=this;return i.handleOperation(async()=>{const s=ve({},a);return await gn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}};const Yw="2.95.3",Gs={"X-Client-Info":`storage-js/${Yw}`};var Vw=class extends Ei{constructor(a,n={},i,s){const o=new URL(a);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),f=ve(ve({},Gs),n);super(u,f,i,"storage")}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(a);return await Ns(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Ns(n.fetch,`${n.url}/bucket/${a}`,{headers:n.headers}))}async createBucket(a,n={public:!1}){var i=this;return i.handleOperation(async()=>await gn(i.fetch,`${i.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(a,n){var i=this;return i.handleOperation(async()=>await Zf(i.fetch,`${i.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(a){var n=this;return n.handleOperation(async()=>await gn(n.fetch,`${n.url}/bucket/${a}/empty`,{},{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Sd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(a){const n={};return a&&("limit"in a&&(n.limit=String(a.limit)),"offset"in a&&(n.offset=String(a.offset)),a.search&&(n.search=a.search),a.sortColumn&&(n.sortColumn=a.sortColumn),a.sortOrder&&(n.sortOrder=a.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Pw=class extends Ei{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=ve(ve({},Gs),n);super(s,o,i,"storage")}async createBucket(a){var n=this;return n.handleOperation(async()=>await gn(n.fetch,`${n.url}/bucket`,{name:a},{headers:n.headers}))}async listBuckets(a){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const s=i.toString(),o=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await Ns(n.fetch,o,{headers:n.headers})})}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Sd(n.fetch,`${n.url}/bucket/${a}`,{},{headers:n.headers}))}from(a){var n=this;if(!kw(a))throw new Go("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new jw({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(o,u){const f=o[u];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(m){if(s)throw m;return{data:null,error:m}}}}})}},Kw=class extends Ei{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=ve(ve({},Gs),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async createIndex(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/CreateIndex`,a,{headers:n.headers})||{})}async getIndex(a,n){var i=this;return i.handleOperation(async()=>await Pt.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers}))}async listIndexes(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/ListIndexes`,a,{headers:n.headers}))}async deleteIndex(a,n){var i=this;return i.handleOperation(async()=>await Pt.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:a,indexName:n},{headers:i.headers})||{})}},Jw=class extends Ei{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=ve(ve({},Gs),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async putVectors(a){var n=this;if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/PutVectors`,a,{headers:n.headers})||{})}async getVectors(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/GetVectors`,a,{headers:n.headers}))}async listVectors(a){var n=this;if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/ListVectors`,a,{headers:n.headers}))}async queryVectors(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/QueryVectors`,a,{headers:n.headers}))}async deleteVectors(a){var n=this;if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/DeleteVectors`,a,{headers:n.headers})||{})}},Xw=class extends Ei{constructor(a,n={},i){const s=a.replace(/\/$/,""),o=ve(ve({},Gs),{},{"Content-Type":"application/json"},n);super(s,o,i,"vectors")}async createBucket(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}async getBucket(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:a},{headers:n.headers}))}async listBuckets(a={}){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/ListVectorBuckets`,a,{headers:n.headers}))}async deleteBucket(a){var n=this;return n.handleOperation(async()=>await Pt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:n.headers})||{})}},Qw=class extends Xw{constructor(a,n={}){super(a,n.headers||{},n.fetch)}from(a){return new Zw(this.url,this.headers,a,this.fetch)}async createBucket(a){var n=()=>super.createBucket,i=this;return n().call(i,a)}async getBucket(a){var n=()=>super.getBucket,i=this;return n().call(i,a)}async listBuckets(a={}){var n=()=>super.listBuckets,i=this;return n().call(i,a)}async deleteBucket(a){var n=()=>super.deleteBucket,i=this;return n().call(i,a)}},Zw=class extends Kw{constructor(a,n,i,s){super(a,n,s),this.vectorBucketName=i}async createIndex(a){var n=()=>super.createIndex,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(a={}){var n=()=>super.listIndexes,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(a){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,a)}async deleteIndex(a){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,a)}index(a){return new Fw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},Fw=class extends Jw{constructor(a,n,i,s,o){super(a,n,o),this.vectorBucketName=i,this.indexName=s}async putVectors(a){var n=()=>super.putVectors,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(a){var n=()=>super.getVectors,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(a={}){var n=()=>super.listVectors,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(a){var n=()=>super.queryVectors,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(a){var n=()=>super.deleteVectors,i=this;return n().call(i,ve(ve({},a),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Ww=class extends Vw{constructor(a,n={},i,s){super(a,n,i,s)}from(a){return new Gw(this.url,this.headers,a,this.fetch)}get vectors(){return new Qw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pw(this.url+"/iceberg",this.headers,this.fetch)}};const Ey="2.95.3",ii=30*1e3,Ff=3,Tf=Ff*ii,eS="http://localhost:9999",tS="supabase.auth.token",nS={"X-Client-Info":`gotrue-js/${Ey}`},Wf="X-Supabase-Api-Version",Ay={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rS=600*1e3;class zs extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function de(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class iS extends zs{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function sS(a){return de(a)&&a.name==="AuthApiError"}class tr extends zs{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class ta extends zs{constructor(n,i,s,o){super(n,s,o),this.name=i,this.status=s}}class It extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Of(a){return de(a)&&a.name==="AuthSessionMissingError"}class Qr extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends ta{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class yo extends ta{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lS(a){return de(a)&&a.name==="AuthImplicitGrantRedirectError"}class up extends ta{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oS extends ta{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ed extends ta{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Rf(a){return de(a)&&a.name==="AuthRetryableFetchError"}class cp extends ta{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class td extends ta{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),uS=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<fp.length;n+=1)a[fp[n].charCodeAt(0)]=-2;for(let n=0;n<Uo.length;n+=1)a[Uo[n].charCodeAt(0)]=n;return a})();function dp(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(Uo[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(Uo[s]),n.queuedBits-=6}}function Ty(a,n,i){const s=uS[a];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function hp(a){const n=[],i=f=>{n.push(String.fromCodePoint(f))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=f=>{dS(f,s,i)};for(let f=0;f<a.length;f+=1)Ty(a.charCodeAt(f),o,u);return n.join("")}function cS(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function fS(a,n){for(let i=0;i<a.length;i+=1){let s=a.charCodeAt(i);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}cS(s,n)}}function dS(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let s=1;s<6;s+=1)if((a>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function di(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Ty(a.charCodeAt(o),i,s);return new Uint8Array(n)}function hS(a){const n=[];return fS(a,i=>n.push(i)),new Uint8Array(n)}function nr(a){const n=[],i={queue:0,queuedBits:0},s=o=>{n.push(o)};return a.forEach(o=>dp(o,i,s)),dp(null,i,s),n.join("")}function mS(a){return Math.round(Date.now()/1e3)+a}function gS(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Qa={tested:!1,writable:!1},Oy=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qa.tested)return Qa.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Qa.tested=!0,Qa.writable=!0}catch{Qa.tested=!0,Qa.writable=!1}return Qa.writable};function pS(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return i.searchParams.forEach((s,o)=>{n[o]=s}),n}const Ry=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),yS=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",si=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},Za=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},bt=async(a,n)=>{await a.removeItem(n)};class Vo{constructor(){this.promise=new Vo.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Vo.promiseConstructor=Promise;function bo(a){const n=a.split(".");if(n.length!==3)throw new td("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!aS.test(n[s]))throw new td("JWT not in base64url format");return{header:JSON.parse(hp(n[0])),payload:JSON.parse(hp(n[1])),signature:di(n[2]),raw:{header:n[0],payload:n[1]}}}async function bS(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function vS(a,n){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await a(u);if(!n(u,null,f)){s(f);return}}catch(f){if(!n(u,f)){o(f);return}}})()})}function _S(a){return("0"+a.toString(16)).substr(-2)}function xS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(n),Array.from(n,_S).join("")}async function wS(a){const i=new TextEncoder().encode(a),s=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function SS(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await wS(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zr(a,n,i=!1){const s=xS();let o=s;i&&(o+="/PASSWORD_RECOVERY"),await si(a,`${n}-code-verifier`,o);const u=await SS(s);return[u,s===u?"plain":"s256"]}const ES=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AS(a){const n=a.headers.get(Wf);if(!n||!n.match(ES))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function TS(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function OS(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(a){if(!RS.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jf(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jS(a,n){return new Proxy(a,{get:(i,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,o)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,o)}})}function mp(a){return JSON.parse(JSON.stringify(a))}const Fa=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),CS=[502,503,504];async function gp(a){var n;if(!yS(a))throw new ed(Fa(a),0);if(CS.includes(a.status))throw new ed(Fa(a),a.status);let i;try{i=await a.json()}catch(u){throw new tr(Fa(u),u)}let s;const o=AS(a);if(o&&o.getTime()>=Ay["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new cp(Fa(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new It}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new cp(Fa(i),a.status,i.weak_password.reasons);throw new iS(Fa(i),a.status||500,s)}const US=(a,n,i,s)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),i))};async function ye(a,n,i,s){var o;const u=Object.assign({},s?.headers);u[Wf]||(u[Wf]=Ay["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const f=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(f.redirect_to=s.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await kS(a,n,i+h,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(m):{data:Object.assign({},m),error:null}}async function kS(a,n,i,s,o,u){const f=US(n,s,o,u);let h;try{h=await a(i,Object.assign({},f))}catch(m){throw console.error(m),new ed(Fa(m),0)}if(h.ok||await gp(h),s?.noResolveJson)return h;try{return await h.json()}catch(m){await gp(m)}}function mn(a){var n;let i=null;zS(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=mS(a.expires_in)));const s=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:s},error:null}}function pp(a){const n=mn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Ca(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function DS(a){return{data:a,error:null}}function NS(a){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:u}=a,f=Io(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:s,redirect_to:o,verification_type:u},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function yp(a){return a}function zS(a){return a.access_token&&a.refresh_token&&a.expires_in}const Cf=["global","local","others"];class MS{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=Ry(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Cf[0]){if(Cf.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cf.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ca})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=Io(n,["options"]),o=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:NS,redirectTo:i?.redirectTo})}catch(i){if(de(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ca})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:yp});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);g[`${k}Page`]=T}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(de(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Fr(n);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ca})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Fr(n);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Ca})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){Fr(n);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ca})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){Fr(n.userId);try{const{data:i,error:s}=await ye(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:s}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Fr(n.userId),Fr(n.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,o,u,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:yp});if(y.error)throw y.error;const b=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,x=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);g[`${k}Page`]=T}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(de(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}}function bp(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const Wr={debug:!!(globalThis&&Oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class qS extends jy{}async function LS(a,n,i){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new qS(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Wr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function BS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function $S(a){return parseInt(a,16)}function HS(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function IS(a){var n;const{chainId:i,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:y,uri:b,version:_}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=Cy(a.address),S=y?`${y}://${s}`:s,T=a.statement?`${a.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${x}

${T}`;let I=`URI: ${b}
Version: ${_}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(o&&(I+=`
Expiration Time: ${o.toISOString()}`),h&&(I+=`
Not Before: ${h.toISOString()}`),m&&(I+=`
Request ID: ${m}`),g){let C=`
Resources:`;for(const j of g){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);C+=`
- ${j}`}I+=C}return`${k}
${I}`}class it extends Error{constructor({message:n,code:i,cause:s,name:o}){var u;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class ko extends it{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function GS({error:a,options:n}){var i,s,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new it({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const f=window.location.hostname;if(Uy(f)){if(u.rp.id!==f)return new it({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function YS({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new it({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(Uy(s)){if(i.rpId!==s)return new it({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class VS{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const PS=new VS;function KS(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:s}=a,o=Io(a,["challenge","user","excludeCredentials"]),u=di(n).buffer,f=Object.assign(Object.assign({},i),{id:di(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:f});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let m=0;m<s.length;m++){const g=s[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:di(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function JS(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,s=Io(a,["challenge","allowCredentials"]),o=di(n).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];u.allowCredentials[f]=Object.assign(Object.assign({},h),{id:di(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function XS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:nr(new Uint8Array(a.response.attestationObject)),clientDataJSON:nr(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function QS(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,s=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:nr(new Uint8Array(o.authenticatorData)),clientDataJSON:nr(new Uint8Array(o.clientDataJSON)),signature:nr(new Uint8Array(o.signature)),userHandle:o.userHandle?nr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Uy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function vp(){var a,n;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function ZS(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",n)}:{data:null,error:new ko("Empty credential response",n)}}catch(n){return{data:null,error:GS({error:n,options:a})}}}async function FS(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ko("Browser returned unexpected credential type",n)}:{data:null,error:new ko("Empty credential response",n)}}catch(n){return{data:null,error:YS({error:n,options:a})}}}const WS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Do(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of a)if(o)for(const u in o){const f=o[u];if(f!==void 0)if(Array.isArray(f))s[u]=f;else if(i(f))s[u]=f;else if(n(f)){const h=s[u];n(h)?s[u]=Do(h,f):s[u]=Do(f)}else s[u]=f}return s}function tE(a,n){return Do(WS,a,n||{})}function nE(a,n){return Do(eE,a,n||{})}class aE{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:o},u){var f;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!h)return{data:null,error:m};const g=o??PS.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;if(!y.name){const b=s;if(b)y.name=`${y.id}:${b}`;else{const x=(await this.client.getUser()).data.user,S=((f=x?.user_metadata)===null||f===void 0?void 0:f.name)||x?.email||x?.id||"User";y.name=`${y.id}:${S}`}}y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=tE(h.webauthn.credential_options.publicKey,u?.create),{data:b,error:_}=await ZS({publicKey:y,signal:g});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const y=nE(h.webauthn.credential_options.publicKey,u?.request),{data:b,error:_}=await FS(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(h){return de(h)?{data:null,error:h}:{data:null,error:new tr("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn authentication")};try{if(!vp())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:o},{request:u});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:s,credential_response:m.credential_response}})}catch(f){return de(f)?{data:null,error:f}:{data:null,error:new tr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new zs("rpId is required for WebAuthn registration")};try{if(!vp())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:o},{create:u});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:s,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return de(f)?{data:null,error:f}:{data:null,error:new tr("Unexpected error in register",f)}}}}BS();const rE={url:eS,storageKey:tS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function _p(a,n,i){return await i()}const ei={};class Ms{get jwks(){var n,i;return(i=(n=ei[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=ei[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ei[this.storageKey]=Object.assign(Object.assign({},ei[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},rE),n);if(this.storageKey=u.storageKey,this.instanceID=(i=Ms.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&vt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new MS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ry(u.fetch),this.lock=u.lock||_p,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&vt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=LS:this.lock=_p,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=bp(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ey}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(vt()&&(i=pS(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),vt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),lS(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return de(i)?this._returnResult({error:i}):this._returnResult({error:new tr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,o;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:mn}),{data:f,error:h}=u;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(de(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,s,o;try{let u;if("email"in n){const{email:y,password:b,options:_}=n;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Zr(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:b,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:S},xform:mn})}else if("phone"in n){const{phone:y,password:b,options:_}=n;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:mn})}else throw new po("You must provide either an email or phone number and a password");const{data:f,error:h}=u;if(h||!f)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:f,options:h}=n;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:pp})}else if("phone"in n){const{phone:u,password:f,options:h}=n;i=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:pp})}else throw new po("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new Qr;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,o,u,f,h,m,g,y,b,_;let x,S;if("message"in n)x=n.message,S=n.signature;else{const{chain:T,wallet:k,statement:I,options:C}=n;let j;if(vt())if(typeof k=="object")j=k;else{const se=window;if("ethereum"in se&&typeof se.ethereum=="object"&&"request"in se.ethereum&&typeof se.ethereum.request=="function")j=se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const Z=new URL((i=C?.url)!==null&&i!==void 0?i:window.location.href),Q=await j.request({method:"eth_requestAccounts"}).then(se=>se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Cy(Q[0]);let M=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!M){const se=await j.request({method:"eth_chainId"});M=$S(se)}const J={domain:Z.host,address:F,statement:I,uri:Z.href,version:"1",chainId:M,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=C?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=IS(J),S=await j.request({method:"personal_sign",params:[HS(x),F]})}try{const{data:T,error:k}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:mn});if(k)throw k;if(!T||!T.session||!T.user){const I=new Qr;return this._returnResult({data:{user:null,session:null},error:I})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:k})}catch(T){if(de(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(n){var i,s,o,u,f,h,m,g,y,b,_,x;let S,T;if("message"in n)S=n.message,T=n.signature;else{const{chain:k,wallet:I,statement:C,options:j}=n;let Z;if(vt())if(typeof I=="object")Z=I;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))Z=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=I}const Q=new URL((i=j?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Z&&Z.signIn){const F=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),C?{statement:C}:null));let M;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")M=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)M=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),T=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${Q.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(o=(s=j?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=j?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((g=j?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((b=(y=j?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...j.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const F=await Z.signMessage(new TextEncoder().encode(S),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=F}}try{const{data:k,error:I}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:nr(T)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:mn});if(I)throw I;if(!k||!k.session||!k.user){const C=new Qr;return this._returnResult({data:{user:null,session:null},error:C})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:I})}catch(k){if(de(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){const i=await Za(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new oS;const{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:mn});if(await bt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const h=new Qr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:f})}catch(u){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:s,token:o,access_token:u,nonce:f}=n,h=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:mn}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new Qr;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,o,u,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Zr(this.storage,this.storageKey));const{error:b}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(s=m?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new po("You must provide either an email or phone number.")}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,s;try{let o,u;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:f,error:h}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:mn});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,s,o,u,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Zr(this.storage,this.storageKey));const g=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:DS});return!((u=g.data)===null||u===void 0)&&u.url&&vt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new It;const{error:o}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:o,options:u}=n,{error:f}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:s,type:o,options:u}=n,{data:f,error:h}=await ye(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new po("You must provide either an email or phone number and a type")}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<Tf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const f=await Za(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=jf()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=jS(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ca}):await this._useSession(async i=>{var s,o,u;const{data:f,error:h}=i;if(h)throw h;return!(!((s=f.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Ca})})}catch(i){if(de(i))return Of(i)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new It;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await Zr(this.storage,this.storageKey));const{data:g,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:Ca});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(s){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new It;const i=Date.now()/1e3;let s=i,o=!0,u=null;const{payload:f}=bo(n.access_token);if(f.exp&&(s=f.exp,o=s<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(de(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:f,error:h}=i;if(h)throw h;n=(s=f.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new It;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!vt())throw new yo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new yo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new up("No code detected.");const{data:C,error:j}=await this._exchangeCodeForSession(n.code);if(j)throw j;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!u||!h||!f||!g)throw new yo("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(h);let _=y+b;m&&(_=parseInt(m));const x=_-y;x*1e3<=ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const S=_-b;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,y);const{data:T,error:k}=await this._getUser(u);if(k)throw k;const I={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:_,refresh_token:f,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:n.type},error:null})}catch(s){if(de(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u&&!Of(u))return this._returnResult({error:u});const f=(s=o.session)===null||s===void 0?void 0:s.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(sS(h)&&(h.status===404||h.status===401||h.status===403)||Of(h)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=gS(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,o;try{const{data:{session:u},error:f}=i;if(f)throw f;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Zr(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:o}=await this._useSession(async u=>{var f,h,m,g,y;const{data:b,error:_}=u;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return vt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(de(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:y}=n,b=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:mn}),{data:_,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Qr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,o;const{data:u,error:f}=i;if(f)throw f;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await vS(async o=>(o>0&&await bS(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:mn})),(o,u)=>{const f=200*Math.pow(2,o);return u&&Rf(u)&&Date.now()+f-s<ii})}catch(s){if(this._debug(i,"error",s),de(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),vt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Za(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await si(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:jf()}else if(o&&!o.user&&!o.user){const f=await Za(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await bt(this.storage,this.storageKey+"-user"),await si(this.storage,this.storageKey,o)):o.user=jf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Tf;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${Tf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),Rf(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(s,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Vo;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new It;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),de(u)){const f={data:null,error:u};return Rf(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,s=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await si(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=mp(o);await si(this.storage,this.storageKey,u)}else{const o=mp(i);await si(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-n)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ii}ms, refresh threshold is ${Ff} ticks`),o<=Ff&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof jy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const o=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,f]=await Zr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await ye(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,o;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?XS(n.webauthn.credential_response):QS(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const f=await ye(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:KS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:JS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,s,o,u;if(n)try{const{payload:x}=bo(n);let S=null;x.aal&&(S=x.aal);let T=S;const{data:{user:k},error:I}=await this.getUser(n);if(I)return this._returnResult({data:null,error:I});((s=(i=k?.factors)===null||i===void 0?void 0:i.filter(Z=>Z.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(T="aal2");const j=x.amr||[];return{data:{currentLevel:S,nextLevel:T,currentAuthenticationMethods:j},error:null}}catch(x){if(de(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:f},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=bo(f.access_token);let g=null;m.aal&&(g=m.aal);let y=g;((u=(o=f.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const _=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new It})})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new It});const f=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&vt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new It});const f=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&vt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new It})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;return o?this._returnResult({data:null,error:o}):s?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(i){if(de(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(h=>h.kid===n);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(h=>h.kid===n),s&&this.jwks_cached_at+rS>o)return s;const{data:u,error:f}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(h=>h.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:o,payload:u,signature:f,raw:{header:h,payload:m}}=bo(s);i?.allowExpired||TS(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:u,header:o,signature:f},error:null}}const y=OS(o.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,f,hS(`${h}.${m}`)))throw new td("Invalid JWT signature");return{data:{claims:u,header:o,signature:f},error:null}}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}}Ms.nextInstanceID={};const iE=Ms,sE="2.95.3";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const lE={"X-Client-Info":`supabase-js-${ws}/${sE}`},oE={headers:lE},uE={schema:"public"},cE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fE={};function qs(a){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qs(a)}function dE(a,n){if(qs(a)!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,n);if(qs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function hE(a){var n=dE(a,"string");return qs(n)=="symbol"?n:n+""}function mE(a,n,i){return(n=hE(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}function xp(a,n){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Qe(a){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?xp(Object(i),!0).forEach(function(s){mE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):xp(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}const gE=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),pE=()=>Headers,yE=(a,n,i)=>{const s=gE(i),o=pE();return async(u,f)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:a;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),s(u,Qe(Qe({},f),{},{headers:g}))}};function bE(a){return a.endsWith("/")?a:a+"/"}function vE(a,n){var i,s;const{db:o,auth:u,realtime:f,global:h}=a,{db:m,auth:g,realtime:y,global:b}=n,_={db:Qe(Qe({},m),o),auth:Qe(Qe({},g),u),realtime:Qe(Qe({},y),f),storage:{},global:Qe(Qe(Qe({},b),h),{},{headers:Qe(Qe({},(i=b?.headers)!==null&&i!==void 0?i:{}),(s=h?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return a.accessToken?_.accessToken=a.accessToken:delete _.accessToken,_}function _E(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bE(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xE=class extends iE{constructor(a){super(a)}},wE=class{constructor(a,n,i){var s,o;this.supabaseUrl=a,this.supabaseKey=n;const u=_E(a);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:uE,realtime:fE,auth:Qe(Qe({},cE),{},{storageKey:f}),global:oE},m=vE(i??{},h);if(this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=yE(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new sw(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Ww(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Fx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,n,i)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,n,i;if(a.accessToken)return await a.accessToken();const{data:s}=await a.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,storageKey:u,flowType:f,lock:h,debug:m,throwOnError:g},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xE({url:this.authUrl.href,headers:Qe(Qe({},_),y),storageKey:u,autoRefreshToken:a,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:o,flowType:f,lock:h,debug:m,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Sw(this.realtimeUrl.href,Qe(Qe({},a),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n?.access_token)})}_handleTokenChanged(a,n,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const SE=(a,n,i)=>new wE(a,n,i);function EE(){if(typeof window<"u")return!1;const a=globalThis.process;if(!a)return!1;const n=a.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}EE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const AE="https://tfxuzkumdjxpmmjkcjcp.supabase.co",TE="sb_publishable_EFvzux9N2GYahZ4VSFH85g_T3GisWbE",z=SE(AE,TE),Ed="tcc_user",pi="avatars",vo=pi,wp="backups".replace(/^\/+/,"").replace(/\/+$/,""),Zn="/images/sample.jpg";let Os=0;const nd=new Set,ad=new Set,Sp=()=>{const a=Os>0;nd.forEach(n=>{try{n(a)}catch{}})},Ep=()=>{ad.forEach(a=>{try{a()}catch{}})},OE=a=>(nd.add(a),a(Os>0),()=>nd.delete(a)),RE=a=>(ad.add(a),()=>ad.delete(a)),jE=(a,n="Request failed")=>{if(a instanceof Error)return a;const i=new Error(a?.message||n);return a?.status&&(i.status=a.status),a?.code&&(i.code=a.code),i},X=(a,n="Database request failed")=>{if(!a)return null;const i=new Error(a.message||n);return i.status=a.status||400,i.code=a.code,i},re=async(a,{silent:n=!1}={})=>{n||(Os+=1,Sp());try{return await a()}catch(i){throw jE(i)}finally{n||(Os=Math.max(0,Os-1),Sp())}},Ad=()=>{try{const a=localStorage.getItem(Ed);return!a||a==="undefined"?null:JSON.parse(a)}catch{return null}},Uf=a=>{try{localStorage.setItem(Ed,JSON.stringify(a))}catch{}},Ap=()=>{try{localStorage.removeItem(Ed),localStorage.removeItem("tcc_avatar")}catch{}},ut=()=>{const a=Ad();if(!a?.id){const n=new Error("Not authenticated");throw n.status=401,n}return a},ky=a=>{if(Array.isArray(a))return a;if(a==null)return[];if(typeof a=="string"){const n=a.trim();if(!n)return[];if(n.startsWith("[")&&n.endsWith("]"))try{const i=JSON.parse(n);return Array.isArray(i)?i:[]}catch{}return n.split(",").map(i=>i.trim()).filter(Boolean)}return[]},No=a=>{const n=String(a||"").trim().toLowerCase();return n==="go"?"nt":n},Td=(a,n="student")=>{const i=ky(a).map(No).filter(Boolean);return i.length?Array.from(new Set(i)):[No(n)||"student"]},Dy=(a,n=null)=>{const i=ky(a).map(s=>String(s||"").trim().toLowerCase()).filter(Boolean);return i.length?Array.from(new Set(i)):n?[String(n).trim().toLowerCase()]:[]},Fn=a=>{if(!a)return null;const n=Td(a.roles,a.role||"student"),i=Dy(a.sub_roles,a.sub_role);return{...a,role:n[0]||"student",roles:n,sub_role:i[0]||null,sub_roles:i}},wt=a=>{if(a==null)return"";const n=String(a).trim();if(!n)return"";const i=n.match(/^(\d)/);return i?i[1]:n},Oa=a=>{const n=String(a||"").trim().toLowerCase();return n?n.includes("2")||n.includes("second")?"2nd Semester":n.includes("summer")?"Summer":"1st Semester":"1st Semester"},un=()=>{const a=new Date,n=a.getFullYear(),i=a.getMonth()>=5?n:n-1;return`${i}-${i+1}`},zo=a=>{if(!a)return"";const n=new Date(a);return Number.isNaN(n.getTime())?String(a):n.toLocaleString()},We=a=>{const n=String(a?.message||"").toLowerCase();return a?.code==="42P01"||n.includes("does not exist")},CE=a=>a?a.startsWith("$2y$")?`$2a$${a.slice(4)}`:a:"",kf=a=>String(a||"").replace(/[%_,]/g," ").replace(/\s+/g," ").trim(),be=(a,n=null)=>{if(a==null||a==="")return n;const i=Number(a);return Number.isFinite(i)?i:n},hi=(a,n=!0)=>{if(a==null)return n;if(typeof a=="boolean")return a;const i=String(a).trim().toLowerCase();return["1","true","yes","enabled"].includes(i)?!0:["0","false","no","disabled"].includes(i)?!1:n},mi=a=>({...a,subject_code:a.subject_code||"",subject_name:a.subject_name||a.title||"",title:a.title||a.subject_name||"",units:be(a.units,0),year_level:be(a.year_level,null)}),ar=a=>({...a,name:a.section_name,year:wt(a.grade_level),grade_level:wt(a.grade_level)}),rr=a=>({...a,name:a.building_name,floors:be(a.num_floors,1),rooms_per_floor:be(a.rooms_per_floor,10)}),Tn=a=>({...a,name:a.name||a.title||"",title:a.title||a.name||"",started:a.start_date||null,start_date:a.start_date||null}),Ny=a=>{if(!a)return"";let n=String(a).trim();return!n||n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")||(n=n.replace(/^\/+/,""),n=n.replace(/^TCC\/public\//i,""),n=n.replace(/^public\//i,""),n=n.replace(/^uploads\/profiles\//i,""),!n||n.startsWith("images/"))?"":n},Tp=(a,n)=>{const i=String(a||"").trim();if(!/^\d+$/.test(i))throw new Error("Invalid user id for avatar upload.");const s=String(n||"avatar").replace(/[^a-zA-Z0-9._-]/g,"_").replace(/^_+/,"");return`profiles/${i}/${Date.now()}_${s||"avatar"}`},UE=a=>{const i=String(a||"").trim().replace(/^\/+/,"").match(/^profiles\/(\d+)\//i);return i?i[1]:""},kE=(a,n)=>{const i=Ny(n);if(!i)return"";const s=String(a||"").trim();return/^\d+$/.test(s)?i.startsWith(`profiles/${s}/`)?i:i.startsWith(`${s}/`)?`profiles/${i}`:"":""},DE=(a,n=100)=>{const i=Array.isArray(a)?a:[],s=Math.max(1,Number(n)||100),o=[];for(let u=0;u<i.length;u+=s)o.push(i.slice(u,u+s));return o},Op=async(a,n="")=>{const i=[],s=[String(n||"").replace(/^\/+/,"").replace(/\/+$/,"")];for(;s.length>0;){const o=s.shift(),{data:u,error:f}=await z.storage.from(a).list(o||"",{limit:1e3,offset:0,sortBy:{column:"name",order:"asc"}});if(f){const h=String(f.message||"").toLowerCase(),m=h.includes("bucket")&&h.includes("not");if(String(f.statusCode||"")==="404"||m)return i;throw X(f)}for(const h of u||[]){const m=String(h?.name||"").trim();if(!m||m==="."||m==="..")continue;const g=[o,m].filter(Boolean).join("/");if(h?.id==null&&h?.metadata==null){s.push(g);continue}i.push({...h,full_path:g})}}return i},Vt=async a=>{const n=Array.from(new Set((a||[]).filter(Boolean)));if(!n.length)return new Map;const{data:i,error:s}=await z.from("users").select("*").in("id",n);if(s)throw X(s);const o=new Map;return(i||[]).forEach(u=>o.set(u.id,Fn(u))),o},lr=async a=>{const n=Array.from(new Set((a||[]).filter(Boolean)));if(!n.length)return new Map;const{data:i,error:s}=await z.from("sections").select("*").in("id",n);if(s)throw X(s);const o=new Map;return(i||[]).forEach(u=>o.set(u.id,ar(u))),o},Ls=async a=>{const n=Array.from(new Set((a||[]).filter(Boolean)));if(!n.length)return new Map;const{data:i,error:s}=await z.from("subjects").select("*").in("id",n);if(s)throw X(s);const o=new Map;return(i||[]).forEach(u=>o.set(u.id,mi(u))),o},zy=async a=>{const n=Array.from(new Set((a||[]).filter(Boolean)));if(!n.length)return new Map;const{data:i,error:s}=await z.from("buildings").select("*").in("id",n);if(s)throw X(s);const o=new Map;return(i||[]).forEach(u=>o.set(u.id,rr(u))),o},Qn=async({sectionId:a=null,sectionName:n="",year:i=""}={})=>{if(a){const{data:h,error:m}=await z.from("sections").select("*").eq("id",a).limit(1).maybeSingle();if(m)throw X(m);return h?ar(h):null}if(!n)return null;const s=wt(i);let o=z.from("sections").select("*").ilike("section_name",n);s&&(o=o.eq("grade_level",s));const{data:u,error:f}=await o.limit(1).maybeSingle();if(f)throw X(f);return u?ar(u):null},gi=async a=>{if(!a)return null;const n=String(a).trim(),{data:i,error:s}=await z.from("subjects").select("*").eq("subject_code",n).limit(1).maybeSingle();if(s)throw X(s);return i?mi(i):null},Df=async(a,n,i="")=>{const s={setting_key:a,setting_value:n,description:i,updated_at:new Date().toISOString()},{data:o,error:u}=await z.from("evaluation_settings").update(s).eq("setting_key",a).select("id");if(u)throw X(u);if((o||[]).length>0)return!0;const{error:f}=await z.from("evaluation_settings").insert(s);if(f)throw X(f);return!0},Mo=async(a,n)=>{const i={...n};for(;Object.keys(i).length>0;){const{data:s,error:o}=await z.from("users").update(i).eq("id",a).select("*").single();if(!o)return s;const u=String(o.message||""),f=u.match(/column ["']?([a-zA-Z0-9_]+)["']? does not exist/i)?.[1]||u.match(/could not find the ['"]([a-zA-Z0-9_]+)['"] column/i)?.[1];if(f&&Object.prototype.hasOwnProperty.call(i,f)){delete i[f];continue}throw X(o)}throw new Error("No valid user columns to update.")},My=async(a,n)=>{try{if(!n)return Zn;const i=String(n).trim();if(!i)return Zn;if(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:"))return i;if(i.startsWith("/images/")||i.startsWith("images/"))return i.startsWith("/")?i:`/${i}`;const s=Ny(i);if(!s)return Zn;const{data:o}=z.storage.from(pi).getPublicUrl(s);return o?.publicUrl||Zn}catch{return Zn}},Eo={login:async(a,n)=>re(async()=>{if(!a||!n)throw new Error("Username and password are required.");const i=String(a).trim(),{data:s,error:o}=await z.from("users").select("*").eq("username",i).limit(1);if(o)throw X(o);let u=s?.[0]||null;if(!u&&i.includes("@")){const{data:m,error:g}=await z.from("users").select("*").eq("email",i).limit(1);if(g)throw X(g);u=m?.[0]||null}if(!u){const{count:m,error:g}=await z.from("users").select("*",{count:"exact",head:!0});throw!g&&(m||0)===0?new Error("No users are visible in Supabase. Import user data (postgres_data.sql) or check RLS/policies on public.users."):new Error("Invalid username or password.")}if(!await co.compare(n,CE(u.password)))throw new Error("Invalid username or password.");const h=Fn(u);return Uf(h),{success:!0,user:h}}),signup:async a=>re(async()=>{const n=a instanceof FormData,i=n?a.get("full_name")||a.get("name"):a?.full_name||a?.name,s=n?a.get("username"):a?.username,o=n?a.get("email"):a?.email,u=n?a.get("password"):a?.password,f=n?a.get("role"):a?.role,h=n?a.get("profile_picture")||a.get("profile_image"):null;if(!i||!s||!o||!u)throw new Error("Please provide full name, username, email, and password.");const{data:m,error:g}=await z.from("users").select("id").eq("username",String(s).trim()).limit(1);if(g)throw X(g);if((m||[]).length>0)throw new Error("Username already exists.");const{data:y,error:b}=await z.from("users").select("id").eq("email",String(o).trim()).limit(1);if(b)throw X(b);if((y||[]).length>0)throw new Error("Email already exists.");const _=await co.hash(String(u),12),x=(n?a.get("school_id"):a?.school_id)||`${new Date().getFullYear()}-${Math.floor(1e3+Math.random()*9e3)}`,S={username:String(s).trim(),password:_,email:String(o).trim(),full_name:String(i).trim(),role:String(f||"student").toLowerCase(),school_id:String(x),image_path:Zn},{data:T,error:k}=await z.from("users").insert(S).select("*").single();if(k)throw X(k);let I=T;if(h instanceof File&&h.size>0){const C=Tp(T.id,h.name),{error:j}=await z.storage.from(pi).upload(C,h,{upsert:!0});j||(I=await Mo(T.id,{image_path:C}))}return{success:!0,user:Fn(I)}}),resetPassword:async a=>re(async()=>{const{data:n,error:i}=await z.from("users").select("id").eq("username",String(a||"").trim()).limit(1).maybeSingle();if(i)throw X(i);if(!n)throw new Error("User not found.");const s="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789";let o="";for(let h=0;h<10;h+=1)o+=s[Math.floor(Math.random()*s.length)];const u=await co.hash(o,12),{error:f}=await z.from("users").update({password:u,updated_at:new Date().toISOString()}).eq("id",n.id);if(f)throw X(f);return{success:!0,new_password:o}}),updateProfile:async a=>{try{return await re(async()=>{const n=ut(),i=a instanceof FormData,s=i?a.get("username"):a?.username,o=i?a.get("full_name"):a?.full_name,u=i?a.get("gender"):a?.gender,f=i?a.get("password"):a?.password,h=i?a.get("profile_image")||a.get("profile_picture"):null,m={updated_at:new Date().toISOString()};if(s&&(m.username=String(s).trim()),o&&(m.full_name=String(o).trim()),u&&(m.gender=String(u).trim()),m.username&&m.username!==n.username){const{data:_,error:x}=await z.from("users").select("id").eq("username",m.username).neq("id",n.id).limit(1);if(x)throw X(x);if((_||[]).length>0)throw new Error("Username is already taken.")}if(f&&(m.password=await co.hash(String(f),12)),h instanceof File&&h.size>0){const _=Tp(n.id,h.name),{error:x}=await z.storage.from(pi).upload(_,h,{upsert:!0});if(x)throw X(x,"Failed to upload avatar.");m.image_path=_}const g=await Mo(n.id,m),y=Fn(g);Uf(y);const b=await My(y.id,y.image_path);return{success:!0,user:y,avatar_url:b}})}catch(n){return{success:!1,error:n.message||"Failed to update profile."}}},checkSession:async()=>re(async()=>{const a=Ad();if(!a?.id)return{authenticated:!1,user:null};const{data:n,error:i}=await z.from("users").select("*").eq("id",a.id).limit(1).maybeSingle();if(i||!n)return Ap(),Ep(),{authenticated:!1,user:null};const s=Fn(n);return Uf(s),{authenticated:!0,user:s}}),logout:async()=>re(async()=>(Ap(),Ep(),{success:!0}),{silent:!0}),check:async()=>Eo.checkSession()},NE={getStats:async()=>re(async()=>{const[a,n,i,s]=await Promise.all([z.from("users").select("*",{count:"exact",head:!0}),z.from("buildings").select("*",{count:"exact",head:!0}),z.from("subjects").select("*",{count:"exact",head:!0}),z.from("sections").select("*",{count:"exact",head:!0})]);return{users:a.count||0,buildings:n.count||0,subjects:i.count||0,sections:s.count||0}})},ir=a=>({...a,priority:a.priority||"medium",target_role:a.target_role||"all",is_published:a.is_published==null?1:a.is_published}),qy=async a=>{const n=a||[];if(!n.length)return[];const i=n.map(Q=>Q.section_id).filter(Boolean),s=n.map(Q=>Q.teacher_assignment_id).filter(Boolean),o=Array.from(new Set(n.map(Q=>Q.subject_code).filter(Boolean))),[u,f,h,m]=await Promise.all([lr(i),s.length?z.from("teacher_assignments").select("*").in("id",s):Promise.resolve({data:[],error:null}),i.length?z.from("section_assignments").select("*").in("section_id",i):Promise.resolve({data:[],error:null}),o.length?z.from("subjects").select("*").in("subject_code",o):Promise.resolve({data:[],error:null})]);if(f.error)throw X(f.error);if(h.error)throw X(h.error);if(m.error)throw X(m.error);const g=f.data||[],y=h.data||[],b=m.data||[],_=g.map(Q=>Q.teacher_id).filter(Boolean),x=y.map(Q=>Q.building_id).filter(Boolean),[S,T]=await Promise.all([Vt(_),zy(x)]),k=new Map;g.forEach(Q=>k.set(Q.id,Q));const I=new Map;y.forEach(Q=>{I.has(Q.section_id)||I.set(Q.section_id,Q)});const C=new Map;b.forEach(Q=>C.set(Q.subject_code,mi(Q)));const j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Z=n.map(Q=>{const F=u.get(Q.section_id),M=k.get(Q.teacher_assignment_id),J=M?S.get(M.teacher_id):null,se=I.get(Q.section_id),he=se?T.get(se.building_id):null,V=C.get(Q.subject_code),L=parseInt(String(Q.time_start||"0").split(":")[0],10),q=Q.class_type||(!Number.isNaN(L)&&L>=18?"night":"day");return{id:Q.id,day:Q.day_of_week||Q.day||"Monday",time_start:Q.time_start,time_end:Q.time_end,subject:Q.subject_code||V?.subject_code||"",subject_title:V?.subject_name||"",instructor:J?.full_name||J?.username||null,year:F?.grade_level||"",section:F?.section_name||"",building:he?.name||null,floor:se?.floor_number??null,room:se?.room_number??null,class_type:q}});return Z.sort((Q,F)=>{const M=j.indexOf(Q.day),J=j.indexOf(F.day);return M!==J?M-J:String(Q.time_start||"").localeCompare(String(F.time_start||""))}),Z},Nf=async a=>{const n=a||[];if(!n.length)return[];const i=n.map(f=>f.user_id).filter(Boolean),s=n.map(f=>f.section_id).filter(Boolean),[o,u]=await Promise.all([Vt(i),lr(s)]);return n.map(f=>{const h=o.get(f.user_id),m=u.get(f.section_id),g=wt(f.year_level||m?.grade_level),y=f.sanctions===!0||Number(f.sanctions)>0;return{...f,user_id:f.user_id,id:f.id,username:h?.username||"",full_name:h?.full_name||h?.username||"",email:h?.email||"",school_id:h?.school_id||"",image_path:h?.image_path||Zn,year:g,year_level:g,grade_level:g,section:f.section||m?.section_name||"",section_name:m?.section_name||f.section||"",department:f.department||m?.course||"",major:f.major||m?.major||"",payment:f.payment||"paid",amount_lacking:be(f.amount_lacking,null),sanctions:y,sanction_reason:f.sanction_reason||"",semester:f.semester||"1st Semester",student_status:f.student_status||"Regular"}})},zf=async a=>{const n=String(a||"").trim();if(!n)return null;const{data:i,error:s}=await z.from("buildings").select("*").ilike("building_name",n).limit(1).maybeSingle();if(s)throw X(s);if(i)return rr(i);const{data:o,error:u}=await z.from("buildings").insert({building_name:n,num_floors:4,rooms_per_floor:4,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(u)throw X(u);return rr(o)},Rp=async({section:a,subject:n,teacherName:i=null,failIfExists:s=!1})=>{const{data:o,error:u}=await z.from("study_load").select("*").eq("section_id",a.id).eq("subject_id",n.id).limit(1);if(u)throw X(u);if((o||[]).length>0){if(s){const m=new Error("Subject already assigned to this section.");throw m.status=409,m}return o[0]}const{data:f,error:h}=await z.from("study_load").insert({student_id:null,subject_id:n.id,section_id:a.id,school_year:a.school_year||un(),semester:n.semester||"1st Semester",enrollment_status:"enrolled",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),course:a.course||n.course||null,major:a.major||n.major||null,year_level:wt(a.grade_level||n.year_level),section:a.section_name,subject_code:n.subject_code,subject_title:n.subject_name,units:n.units||0,teacher:i}).select("*").single();if(h)throw X(h);return f},ti=async a=>{const{count:n,error:i}=await z.from(a).select("*",{count:"exact",head:!0});if(i)throw X(i);return n||0},dA={getUsers:async(a={})=>re(async()=>{const{data:n,error:i}=await z.from("users").select("*").order("full_name",{ascending:!0});if(i)throw X(i);const s=(n||[]).map(Fn);if(!a?.role)return s;const o=No(a.role);return s.filter(u=>u.roles.includes(o))}),updateUserRoles:async(a,n)=>re(async()=>{const i=Td(n,"student");return await Mo(a,{role:i[0],roles:i,updated_at:new Date().toISOString()}),{success:!0}}),updateUserSubRole:async(a,n,i=[])=>re(async()=>{const s=Dy(i,n);return await Mo(a,{sub_role:s[0]||null,sub_roles:s,updated_at:new Date().toISOString()}),{success:!0}}),deleteUser:async a=>re(async()=>{await Promise.all([z.from("user_assignments").delete().eq("user_id",a),z.from("teacher_assignments").delete().eq("teacher_id",a),z.from("grades").delete().eq("student_id",a),z.from("grades").delete().eq("teacher_id",a),z.from("teacher_evaluations").delete().eq("student_id",a),z.from("teacher_evaluations").delete().eq("teacher_id",a),z.from("announcements").delete().eq("author_id",a),z.from("feedbacks").delete().eq("student_id",a),z.from("feedbacks").update({replied_by:null}).eq("replied_by",a)]);const{error:n}=await z.from("users").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getDashboardStats:async()=>re(async()=>{const[a,n,i,s,o,u,f,h,m]=await Promise.all([ti("users"),ti("subjects"),ti("sections"),ti("schedules"),ti("announcements"),ti("study_load"),z.from("users").select("*"),z.from("buildings").select("*"),z.from("announcements").select("*").order("published_at",{ascending:!1}).limit(5)]);if(f.error)throw X(f.error);if(h.error)throw X(h.error);if(m.error)throw X(m.error);const g=(f.data||[]).map(Fn),y=g.filter(S=>S.roles.includes("student")).length,b=g.filter(S=>S.roles.includes("teacher")).length,_=g.filter(S=>S.roles.includes("admin")).length,x=g.filter(S=>S.roles.includes("nt")).length;return{users:a,subjects:n,sections:i,schedules:s,announcements:o,study_load:u,students:y,teachers:b,admins:_,non_teaching:x,buildings:(h.data||[]).map(rr),recent_announcements:(m.data||[]).map(ir)}}),getAnnouncements:async()=>re(async()=>{const{data:a,error:n}=await z.from("announcements").select("*").order("published_at",{ascending:!1});if(n)throw X(n);return(a||[]).map(ir)}),createAnnouncement:async a=>re(async()=>{const n=Ad(),i={title:a?.title||"",content:a?.content||"",year:a?.year||null,department:a?.department||null,major:a?.major||null,author_id:n?.id||1,target_role:a?.target_role||"all",priority:a?.priority||"medium",is_published:a?.is_published==null?1:a.is_published,published_at:a?.published_at||new Date().toISOString(),expires_at:a?.expires_at||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:s,error:o}=await z.from("announcements").insert(i).select("*").single();if(o)throw X(o);return ir(s)}),updateAnnouncement:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("announcements").update({title:n?.title,content:n?.content,year:n?.year||null,department:n?.department||null,major:n?.major||null,target_role:n?.target_role,priority:n?.priority,expires_at:n?.expires_at||null,updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(s)throw X(s);return ir(i)}),deleteAnnouncement:async a=>re(async()=>{const{error:n}=await z.from("announcements").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getEvaluationSettings:async()=>re(async()=>{const{data:a,error:n}=await z.from("evaluation_settings").select("*");if(n)throw X(n);const i=new Map;(a||[]).forEach(u=>i.set(u.setting_key,u.setting_value));let s=null;const o=i.get("template");if(o)try{s=typeof o=="string"?JSON.parse(o):o}catch{s=null}return{enabled:hi(i.get("enabled")??i.get("evaluation_enabled"),!0),template:s}}),updateEvaluationSettings:async a=>re(async()=>{if(a?.enabled!==void 0){const n=a.enabled?"true":"false";await Df("enabled",n,"Enable/disable teacher evaluation system"),await Df("evaluation_enabled",n,"Enable/disable teacher evaluation system")}return a?.template!==void 0&&await Df("template",JSON.stringify(a.template),"Evaluation template"),{success:!0}}),getLowestRatedTeachers:async()=>re(async()=>{const{data:a,error:n}=await z.from("teacher_evaluations").select("teacher_id,rating_overall,created_at");if(n)throw X(n);const i=new Map;(a||[]).forEach(f=>{if(!f.teacher_id)return;i.has(f.teacher_id)||i.set(f.teacher_id,{total:0,count:0});const h=i.get(f.teacher_id),m=be(f.rating_overall,null);m!=null&&(h.total+=m,h.count+=1)});const s=Array.from(i.keys()),o=await Vt(s);return{teachers:s.map(f=>{const h=i.get(f),m=h.count?h.total/h.count:0,g=o.get(f);return{id:f,full_name:g?.full_name||g?.username||`Teacher ${f}`,image_path:g?.image_path||Zn,average_rating:Number(m.toFixed(2)),total_evaluations:h.count,percentage:Number((m/4*100).toFixed(1))}}).sort((f,h)=>f.average_rating-h.average_rating)}}),getBuildings:async()=>re(async()=>{const{data:a,error:n}=await z.from("buildings").select("*").order("building_name",{ascending:!0});if(n)throw X(n);return(a||[]).map(rr)}),createBuilding:async a=>re(async()=>{const n=a?.building_name||a?.name;if(!n)throw new Error("Building name is required.");const{data:i,error:s}=await z.from("buildings").insert({building_name:String(n).trim(),num_floors:be(a?.num_floors??a?.floors,1),rooms_per_floor:be(a?.rooms_per_floor,10),description:a?.description||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(s)throw X(s);return rr(i)}),deleteBuilding:async a=>re(async()=>{let n=z.from("buildings").select("*");Number.isFinite(Number(a))?n=n.eq("id",Number(a)):n=n.ilike("building_name",String(a));const{data:i,error:s}=await n;if(s)throw X(s);const o=(i||[]).map(rr);return o.length?(await Promise.all(o.map(u=>z.from("section_assignments").delete().eq("building_id",u.id))),await Promise.all(o.map(u=>z.from("buildings").delete().eq("id",u.id))),{success:!0}):{success:!0}}),getSections:async()=>re(async()=>{const{data:a,error:n}=await z.from("sections").select("*").order("grade_level",{ascending:!0}).order("section_name",{ascending:!0});if(n)throw X(n);return(a||[]).map(ar)}),createSection:async a=>re(async()=>{const{data:n,error:i}=await z.from("sections").insert({section_name:a?.section_name,grade_level:wt(a?.grade_level),school_year:a?.school_year||un(),course:a?.course||null,major:a?.major||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(i)throw X(i);return ar(n)}),updateSection:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("sections").update({section_name:n?.section_name,grade_level:wt(n?.grade_level),school_year:n?.school_year||un(),course:n?.course||null,major:n?.major||null,updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(s)throw X(s);return ar(i)}),deleteSection:async a=>re(async()=>{await Promise.all([z.from("user_assignments").delete().eq("section_id",a),z.from("teacher_assignments").delete().eq("section_id",a),z.from("section_assignments").delete().eq("section_id",a),z.from("schedules").delete().eq("section_id",a),z.from("study_load").delete().eq("section_id",a),z.from("grades").delete().eq("section_id",a)]);const{error:n}=await z.from("sections").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getSectionAssignments:async()=>re(async()=>{const{data:a,error:n}=await z.from("section_assignments").select("*").order("updated_at",{ascending:!1});if(n)throw X(n);const i=a||[],s=i.map(h=>h.section_id).filter(Boolean),o=i.map(h=>h.building_id).filter(Boolean),[u,f]=await Promise.all([lr(s),zy(o)]);return i.map(h=>{const m=u.get(h.section_id),g=f.get(h.building_id);return{...h,year:wt(m?.grade_level),section:m?.section_name||"",building:g?.name||"",floor:be(h.floor_number,null),room:be(h.room_number,null)}})}),createSectionAssignment:async a=>re(async()=>{const n=await Qn({sectionId:a?.section_id,sectionName:a?.section,year:a?.year});if(!n)throw new Error("Section not found.");const i=await zf(a?.building);if(!i)throw new Error("Building is required.");const{data:s,error:o}=await z.from("section_assignments").select("*").eq("section_id",n.id).limit(1).maybeSingle();if(o)throw X(o);const u={section_id:n.id,building_id:i.id,floor_number:be(a?.floor,1),room_number:be(a?.room,null),school_year:n.school_year||un(),status:"active",updated_at:new Date().toISOString()};if(s){const{data:m,error:g}=await z.from("section_assignments").update(u).eq("id",s.id).select("*").single();if(g)throw X(g);return m}const{data:f,error:h}=await z.from("section_assignments").insert({...u,created_at:new Date().toISOString()}).select("*").single();if(h)throw X(h);return f}),updateSectionAssignment:async(a,n)=>re(async()=>{let i=n?.building_id||null;!i&&n?.building&&(i=(await zf(n.building))?.id||null);const{data:s,error:o}=await z.from("section_assignments").update({building_id:i,floor_number:be(n?.floor,1),room_number:be(n?.room,null),updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(o)throw X(o);return s}),deleteSectionAssignment:async a=>re(async()=>{const{error:n}=await z.from("section_assignments").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getUserAssignments:async()=>re(async()=>{const{data:a,error:n}=await z.from("user_assignments").select("*").order("updated_at",{ascending:!1});if(n)throw X(n);return Nf(a||[])}),createUserAssignment:async a=>re(async()=>{let n=a?.user_id||a?.existing_user_id||null;if(!n&&a?.full_name){const h=kf(a.full_name);if(h){const{data:m,error:g}=await z.from("users").select("*").or(`full_name.ilike.%${h}%,username.ilike.%${h}%`).limit(1);if(g)throw X(g);n=m?.[0]?.id||null}}if(!n)throw new Error("User not found.");const i=await Qn({sectionId:a?.section_id,sectionName:a?.section,year:a?.year});if(!i)throw new Error("Section not found.");const s={user_id:n,section_id:i.id,assignment_type:"primary",status:"active",year_level:wt(a?.year||i.grade_level),section:i.section_name,department:a?.department||i.course||null,major:a?.major||i.major||null,payment:a?.payment||"paid",amount_lacking:a?.amount_lacking===""||a?.amount_lacking==null?a?.payment==="owing"?0:null:be(a.amount_lacking,0),sanctions:hi(a?.sanctions,!1),sanction_reason:a?.sanction_reason||null,semester:a?.semester||"1st Semester",student_status:a?.student_status||"Regular",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:o,error:u}=await z.from("user_assignments").insert(s).select("*").single();if(u)throw X(u);return(await Nf([o]))[0]||o}),updateUserAssignment:async(a,n)=>re(async()=>{const i={updated_at:new Date().toISOString()};if(n?.year!==void 0&&(i.year_level=wt(n.year)),n?.section!==void 0||n?.section_id!==void 0){const f=await Qn({sectionId:n?.section_id,sectionName:n?.section,year:n?.year});f?(i.section_id=f.id,i.section=f.section_name):(n?.section===null||n?.section==="")&&(i.section_id=null,i.section=null)}n?.department!==void 0&&(i.department=n.department||null),n?.major!==void 0&&(i.major=n.major||null),n?.payment!==void 0&&(i.payment=n.payment||"paid"),n?.amount_lacking!==void 0?i.amount_lacking=n.amount_lacking===""||n.amount_lacking==null?null:be(n.amount_lacking,0):n?.payment==="paid"&&(i.amount_lacking=0),n?.sanctions!==void 0&&(i.sanctions=hi(n.sanctions,!1)),n?.sanction_reason!==void 0&&(i.sanction_reason=n.sanction_reason||null),n?.semester!==void 0&&(i.semester=n.semester||"1st Semester"),n?.student_status!==void 0&&(i.student_status=n.student_status||"Regular");const{data:s,error:o}=await z.from("user_assignments").update(i).eq("id",a).select("*").single();if(o)throw X(o);return(await Nf([s]))[0]||s}),deleteUserAssignment:async a=>re(async()=>{const{error:n}=await z.from("user_assignments").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getUserSuggestions:async(a,n=null)=>re(async()=>{const i=kf(a);if(!i||i.length<2)return[];const{data:s,error:o}=await z.from("users").select("*").or(`full_name.ilike.%${i}%,username.ilike.%${i}%`).limit(10);if(o)throw X(o);const u=(s||[]).map(Fn);if(!n)return u;const f=No(n);return u.filter(h=>h.roles.includes(f))}),getSubjects:async()=>re(async()=>{const{data:a,error:n}=await z.from("subjects").select("*").order("course",{ascending:!0}).order("year_level",{ascending:!0}).order("subject_code",{ascending:!0});if(n)throw X(n);return(a||[]).map(mi)}),createSubject:async a=>re(async()=>{const{data:n,error:i}=await z.from("subjects").insert({subject_code:String(a?.subject_code||"").trim(),subject_name:String(a?.subject_name||a?.title||"").trim(),title:a?.title||a?.subject_name||null,description:a?.description||null,units:be(a?.units,0),course:a?.course||null,major:a?.major||null,year_level:be(a?.year_level,null),semester:a?.semester||"First Semester",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(i)throw X(i);return mi(n)}),updateSubject:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("subjects").update({subject_code:String(n?.subject_code||"").trim(),subject_name:String(n?.subject_name||n?.title||"").trim(),title:n?.title||n?.subject_name||null,description:n?.description||null,units:be(n?.units,0),course:n?.course||null,major:n?.major||null,year_level:be(n?.year_level,null),semester:n?.semester||"First Semester",updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(s)throw X(s);return mi(i)}),deleteSubject:async a=>re(async()=>{const{data:n,error:i}=await z.from("subjects").select("*").eq("id",a).limit(1).maybeSingle();if(i)throw X(i);if(!n)return{success:!0};await Promise.all([z.from("teacher_assignments").delete().eq("subject_id",a),z.from("grades").delete().eq("subject_id",a),z.from("study_load").delete().eq("subject_id",a),z.from("study_load").delete().eq("subject_code",n.subject_code),z.from("section_assignments").delete().eq("subject_id",a),z.from("schedules").delete().eq("subject_code",n.subject_code)]);const{error:s}=await z.from("subjects").delete().eq("id",a);if(s)throw X(s);return{success:!0}}),getTeacherAssignments:async()=>re(async()=>{const{data:a,error:n}=await z.from("teacher_assignments").select("*").eq("status","active").order("created_at",{ascending:!1});if(n)throw X(n);const i=a||[],s=i.map(g=>g.teacher_id).filter(Boolean),o=i.map(g=>g.subject_id).filter(Boolean),u=i.map(g=>g.section_id).filter(Boolean),[f,h,m]=await Promise.all([Vt(s),Ls(o),lr(u)]);return i.map(g=>{const y=f.get(g.teacher_id),b=h.get(g.subject_id),_=m.get(g.section_id);return{id:g.id,teacher_id:g.teacher_id,subject_id:g.subject_id,section_id:g.section_id,status:g.status,created_at:g.created_at,full_name:y?.full_name||"",username:y?.username||"",subject_code:b?.subject_code||g.subject_code||"",subject_title:b?.subject_name||g.subject_title||"",section_name:_?.section_name||g.section||"",grade_level:_?.grade_level||""}})}),createTeacherAssignment:async a=>re(async()=>{let n=a?.user_id||null;if(!n&&a?.teacher_name){const m=kf(a.teacher_name),{data:g,error:y}=await z.from("users").select("*").or(`full_name.ilike.%${m}%,username.ilike.%${m}%`).limit(25);if(y)throw X(y);n=(g||[]).map(Fn).find(_=>_.roles.includes("teacher"))?.id||null}if(!n)throw new Error("Teacher not found.");const i=await gi(a?.subject_code);if(!i)throw new Error("Subject not found.");const s=await Qn({sectionId:a?.section_id,sectionName:a?.section,year:a?.year}),{data:o,error:u}=await z.from("teacher_assignments").select("id").eq("teacher_id",n).eq("subject_id",i.id).eq("status","active").limit(1);if(u)throw X(u);if((o||[]).length>0){const m=new Error("Assignment already exists.");throw m.status=409,m}const{data:f,error:h}=await z.from("teacher_assignments").insert({teacher_id:n,subject_id:i.id,section_id:s?.id||null,section:s?.section_name||null,school_year:s?.school_year||un(),semester:i?.semester||"1st Semester",status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(h)throw X(h);return f}),deleteTeacherAssignment:async a=>re(async()=>{await z.from("schedules").delete().eq("teacher_assignment_id",a);const{error:n}=await z.from("teacher_assignments").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getSchedules:async()=>re(async()=>{const{data:a,error:n}=await z.from("schedules").select("*").order("day_of_week",{ascending:!0}).order("time_start",{ascending:!0});if(n)throw X(n);return qy(a||[])}),createSchedule:async a=>re(async()=>{const n=await gi(a?.subject);if(!n)throw new Error("Subject not found.");const i=await Qn({sectionId:a?.section_id,sectionName:a?.section,year:a?.year});if(!i)throw new Error("Section not found.");const s=i.school_year||un(),o=String(a?.time_start||"").trim(),u=String(a?.time_end||"").trim(),f=["00:00","00:00:00"].includes(o||"00:00")&&["00:00","00:00:00"].includes(u||"00:00"),{data:h,error:m}=await z.from("teacher_assignments").select("*").eq("subject_id",n.id).eq("section_id",i.id).eq("status","active").limit(1).maybeSingle();if(m)throw X(m);let g=h;if(!g){const{data:Q,error:F}=await z.from("teacher_assignments").select("*").eq("subject_id",n.id).eq("status","active").limit(1).maybeSingle();if(F)throw X(F);g=Q||null}let y=null;if(g?.teacher_id){const F=(await Vt([g.teacher_id])).get(g.teacher_id);y=F?.full_name||F?.username||null}const b=async()=>{const Q=String(a?.building||"").trim(),F=String(a?.room||"").trim();if(!Q||!F||F.toLowerCase()==="tba")return null;const M=be(F,null);if(M==null){if(f)return null;throw new Error("Room must be numeric.")}const J=be(a?.floor,Math.floor(M/100)||1),se=await zf(Q);if(!se?.id)throw new Error("Building not found.");const{data:he,error:V}=await z.from("section_assignments").select("id,section_id").eq("building_id",se.id).eq("floor_number",J).eq("room_number",M).eq("school_year",s).neq("section_id",i.id);if(V)throw X(V);if((he||[]).length>0){const B=new Error("Room already assigned for this school year.");throw B.status=409,B}const{data:L,error:q}=await z.from("section_assignments").select("*").eq("section_id",i.id).order("id",{ascending:!1}).limit(1).maybeSingle();if(q)throw X(q);const O={section_id:i.id,building_id:se.id,floor_number:J,room_number:M,school_year:s,status:"active",updated_at:new Date().toISOString()};if(L){const{data:B,error:ae}=await z.from("section_assignments").update(O).eq("id",L.id).select("*").single();if(ae)throw X(ae);return B.id}const{data:U,error:w}=await z.from("section_assignments").insert({...O,created_at:new Date().toISOString()}).select("*").single();if(w)throw X(w);return U.id};if(f)return await b(),await Rp({section:i,subject:n,teacherName:y,failIfExists:!0}),{success:!0};if(!g)throw new Error("No teacher assigned to this subject.");const _=Q=>{const F=String(Q||"").trim();if(!F)return null;const[M,J]=F.split(":").map(se=>parseInt(se,10));return!Number.isFinite(M)||!Number.isFinite(J)?null:M*60+J},x=_(o),S=_(u);if(x==null||S==null||S<=x)throw new Error("Invalid schedule time range.");const{data:T,error:k}=await z.from("teacher_assignments").select("id").eq("teacher_id",g.teacher_id).eq("status","active");if(k)throw X(k);const I=(T||[]).map(Q=>Q.id);if(I.length>0){const{data:Q,error:F}=await z.from("schedules").select("*").eq("day_of_week",a?.day).in("teacher_assignment_id",I);if(F)throw X(F);if((Q||[]).find(J=>{const se=_(J.time_start),he=_(J.time_end);return se==null||he==null?!1:x<he&&S>se})){const J=new Error("Teacher conflict detected.");throw J.status=409,J}}const C=await b(),{data:j,error:Z}=await z.from("schedules").insert({teacher_assignment_id:g.id,day_of_week:a?.day||"Monday",time_start:o,time_end:u,room_id:C,subject_code:n.subject_code,section_id:i.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(Z)throw X(Z);return await Rp({section:i,subject:n,teacherName:y}),j}),deleteSchedule:async a=>re(async()=>{const{error:n}=await z.from("schedules").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getProjects:async()=>re(async()=>{const{data:a,error:n}=await z.from("campus_projects").select("*").order("created_at",{ascending:!1});if(!n)return(a||[]).map(Tn);if(!We(n))throw X(n);const{data:i,error:s}=await z.from("projects").select("*").order("created_at",{ascending:!1});if(s)throw X(s);return(i||[]).map(Tn)}),createProject:async a=>re(async()=>{const{data:n,error:i}=await z.from("campus_projects").insert({name:a?.name||a?.title||"",status:a?.status||"Ongoing",budget:a?.budget||null,start_date:a?.started||a?.start_date||null,description:a?.description||null,created_at:new Date().toISOString()}).select("*").single();if(i)throw X(i);return Tn(n)}),updateProject:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("campus_projects").update({name:n?.name||n?.title||"",status:n?.status||"Ongoing",budget:n?.budget||null,start_date:n?.started||n?.start_date||null,description:n?.description||null}).eq("id",a).select("*");if(!s&&(i||[]).length>0)return Tn(i[0]);if(s&&!We(s))throw X(s);const{data:o,error:u}=await z.from("projects").update({title:n?.title||n?.name||"",name:n?.name||n?.title||"",description:n?.description||null,due_date:n?.due_date||null,max_score:be(n?.max_score,100),status:n?.status||"draft",updated_at:new Date().toISOString()}).eq("id",a).select("*");if(u)throw X(u);if((o||[]).length===0)throw new Error("Project not found.");return Tn(o[0])}),deleteProject:async a=>re(async()=>{const{error:n}=await z.from("campus_projects").delete().eq("id",a);if(n&&!We(n))throw X(n);return await z.from("projects").delete().eq("id",a),{success:!0}}),getSectionsWithLoad:async()=>re(async()=>{const[a,n]=await Promise.all([z.from("sections").select("*"),z.from("study_load").select("section_id")]);if(a.error)throw X(a.error);if(n.error&&!We(n.error))throw X(n.error);const i=new Map;return(n.data||[]).forEach(s=>{const o=s.section_id;o&&i.set(o,(i.get(o)||0)+1)}),(a.data||[]).map(s=>{const o=i.get(s.id)||0;return{...ar(s),subject_count:o,load_count:o,status:o>0?"Assigned":"Not Assigned"}})}),getSectionLoadDetails:async a=>re(async()=>{const{data:n,error:i}=await z.from("study_load").select("*").eq("section_id",a).order("subject_code",{ascending:!0});if(i)throw X(i);return(n||[]).map(s=>({...s,semester:Oa(s.semester)==="2nd Semester"?"Second Semester":Oa(s.semester)==="1st Semester"?"First Semester":Oa(s.semester)}))}),clearSectionLoad:async a=>re(async()=>{const{error:n}=await z.from("study_load").delete().eq("section_id",a);if(n)throw X(n);return{success:!0}}),deleteStudyLoad:async a=>re(async()=>{const{error:n}=await z.from("study_load").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getGrades:async()=>re(async()=>{const{data:a,error:n}=await z.from("grades").select("*").order("updated_at",{ascending:!1});if(n)throw X(n);const i=a||[],s=i.map(b=>b.student_id).filter(Boolean),o=i.map(b=>b.teacher_id).filter(Boolean),u=i.map(b=>b.section_id).filter(Boolean),f=i.map(b=>b.subject_id).filter(Boolean),[h,m,g,y]=await Promise.all([Vt(s),Vt(o),lr(u),Ls(f)]);return i.map(b=>{const _=h.get(b.student_id),x=m.get(b.teacher_id),S=g.get(b.section_id),T=y.get(b.subject_id);return{id:b.id,user_id:b.student_id,username:_?.username||null,student_name:_?.full_name||_?.username||null,subject_id:b.subject_id,subject_code:T?.subject_code||b.subject_code||null,subject_name:T?.subject_name||b.subject_name||null,teacher_id:b.teacher_id,teacher_name:x?.full_name||x?.username||null,section_id:b.section_id,section_name:S?.section_name||null,year:S?.grade_level||null,school_year:b.school_year||null,semester:Oa(b.semester)==="2nd Semester"?"Second Semester":Oa(b.semester)==="1st Semester"?"First Semester":Oa(b.semester),prelim_grade:b.prelim_grade,midterm_grade:b.midterm_grade,finals_grade:b.finals_grade??b.final_grade,final_grade:b.final_grade,remarks:b.remarks}})}),createGrade:async a=>re(async()=>{const n=be(a?.student_id,null);if(!n)throw new Error("Student is required.");let i=be(a?.subject_id,null);if(!i&&a?.subject_code&&(i=(await gi(a.subject_code))?.id||null),!i)throw new Error("Subject not found.");let s=be(a?.section_id,null);if(!s){const{data:b,error:_}=await z.from("user_assignments").select("section_id,section").eq("user_id",n).eq("status","active").order("updated_at",{ascending:!1}).limit(1).maybeSingle();if(_&&!We(_))throw X(_);b?.section_id?s=b.section_id:b?.section&&(s=(await Qn({sectionName:b.section}))?.id||null)}if(!s)throw new Error("Could not determine student section.");const o=a?.school_year||un(),u=Oa(a?.semester||"1st Semester"),f={student_id:n,subject_id:i,teacher_id:be(a?.teacher_id,null),section_id:s,school_year:o,semester:u,prelim_grade:be(a?.prelim_grade,null),midterm_grade:be(a?.midterm_grade,null),finals_grade:be(a?.finals_grade,null),final_grade:be(a?.final_grade,null),remarks:a?.remarks||null,updated_at:new Date().toISOString()},{data:h,error:m}=await z.from("grades").select("*").eq("student_id",n).eq("subject_id",i).eq("school_year",o).eq("semester",u).limit(1).maybeSingle();if(m)throw X(m);if(h){const{data:b,error:_}=await z.from("grades").update(f).eq("id",h.id).select("*").single();if(_)throw X(_);return b}const{data:g,error:y}=await z.from("grades").insert({...f,created_at:new Date().toISOString()}).select("*").single();if(y)throw X(y);return g}),updateGrade:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("grades").update({prelim_grade:n?.prelim_grade??null,midterm_grade:n?.midterm_grade??null,finals_grade:n?.finals_grade??null,final_grade:n?.final_grade??null,remarks:n?.remarks??null,updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(s)throw X(s);return i}),deleteGrade:async a=>re(async()=>{const{error:n}=await z.from("grades").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),cleanupPictures:async()=>re(async()=>{const{data:a,error:n}=await z.from("users").select("id, image_path");if(n)throw X(n);const i=a||[],s=new Set(i.map(h=>String(h?.id||"").trim()).filter(Boolean)),o=new Set(i.map(h=>kE(h?.id,h?.image_path)).filter(Boolean)),u=await Op(pi,"profiles"),f=u.map(h=>String(h.full_path||"").replace(/^\/+/,"")).filter(h=>{if(!h)return!1;const m=UE(h);return!m||!s.has(m)?!0:!o.has(h)});if(f.length>0)for(const h of DE(f,100)){const{error:m}=await z.storage.from(pi).remove(h);if(m)throw X(m,"Failed to remove unused profile images.")}return{deleted:f.length,total_users:i.length,scanned_files:u.length,active_files:o.size,files:f}}),createBackup:async()=>re(async()=>{const a=ut(),n=["users","buildings","rooms","sections","subjects","announcements","campus_projects","evaluation_settings","section_assignments","teacher_assignments","schedules","user_assignments","study_load","grades","teacher_evaluations","feedbacks","projects","attendance_logs","settings","section_subjects"],i={},s={};for(const S of n){const{data:T,error:k}=await z.from(S).select("*");if(k){if(We(k)){i[S]=[],s[S]=0;continue}throw X(k,`Failed to read "${S}" for backup.`)}i[S]=T||[],s[S]=(T||[]).length}const o=new Date().toISOString(),u={created_at:o,generated_by:{id:a.id,username:a.username||null,full_name:a.full_name||null},totals:s,records:i},f=JSON.stringify(u,null,2),h=new TextEncoder().encode(f).length,m=new Blob([f],{type:"application/json"}),y=`backup_${o.replace(/[:.]/g,"-")}.json`,b=[wp,y].filter(Boolean).join("/"),{error:_}=await z.storage.from(vo).upload(b,m,{contentType:"application/json",upsert:!1});if(_)throw X(_,"Failed to upload backup to Supabase Storage.");const{data:x}=z.storage.from(vo).getPublicUrl(b);return{success:!0,filename:y,size:h,created_at:o,path:b,download_url:x?.publicUrl||null,totals:s}}),getBackups:async()=>re(async()=>(await Op(vo,wp)).filter(n=>String(n?.name||"").toLowerCase().endsWith(".json")).map(n=>{const i=n.full_path,{data:s}=z.storage.from(vo).getPublicUrl(i),o=n.created_at||n.updated_at||null;return{filename:n.name,path:i,size:be(n?.metadata?.size,0)||0,created_at:o,created:o?Math.floor(new Date(o).getTime()/1e3):null,download_url:s?.publicUrl||null}}).sort((n,i)=>String(i.created_at||"").localeCompare(String(n.created_at||"")))),getFeedbacks:async(a="")=>re(async()=>{let n=z.from("feedbacks").select("*").order("created_at",{ascending:!1});a&&(n=n.eq("status",a));const{data:i,error:s}=await n;if(s){if(We(s))return[];throw X(s)}const o=i||[],u=o.map(h=>h.replied_by).filter(Boolean),f=await Vt(u);return o.map(h=>{const m=h.replied_by?f.get(h.replied_by):null;return{id:h.id,message:h.message,category:h.category,status:h.status||"unread",reply:h.reply||null,replied_by_name:m?.full_name||null,replied_by_role:m?.role||null,replied_at:h.replied_at?zo(h.replied_at):null,created_at:h.created_at?zo(h.created_at):""}})}),replyFeedback:async(a,n)=>re(async()=>{const i=ut(),{data:s,error:o}=await z.from("feedbacks").update({reply:String(n||"").trim(),replied_by:i.id,replied_at:new Date().toISOString(),status:"replied",updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(o)throw X(o);return s}),getFeedbackStats:async()=>re(async()=>{const[a,n]=await Promise.all([z.from("feedbacks").select("*",{count:"exact",head:!0}).eq("status","unread"),z.from("feedbacks").select("*",{count:"exact",head:!0}).eq("status","replied")]);if(a.error||n.error){if(We(a.error)||We(n.error))return{unread:0,replied:0,total:0};throw X(a.error||n.error)}const i=a.count||0,s=n.count||0;return{unread:i,replied:s,total:i+s}})},zE=a=>{const n=String(a?.message||"");return n.match(/column ["']?([a-zA-Z0-9_]+)["']? does not exist/i)?.[1]||n.match(/could not find the ['"]([a-zA-Z0-9_]+)['"] column/i)?.[1]||null},jp=async(a,n,i="*")=>{const s={...n};for(;Object.keys(s).length>0;){const{data:o,error:u}=await z.from(a).insert(s).select(i).single();if(!u)return o;const f=zE(u);if(f&&Object.prototype.hasOwnProperty.call(s,f)){delete s[f];continue}throw X(u)}throw new Error(`No valid columns available for insert on ${a}.`)},Ly=a=>{const n=String(a||"").trim().toLowerCase();return n?n.includes("2")||n.includes("second")?"2nd":n.includes("summer")?"summer":"1st":"1st"},By=a=>{const n=Ly(a);return n==="2nd"?["2nd","2nd semester","second semester","second","2nd_semester","2nd-semester","Second Semester","2nd Semester"]:n==="summer"?["summer","Summer","Summer Semester","summer semester"]:["1st","1st semester","first semester","first","1st_semester","1st-semester","First Semester","1st Semester"]},Cp=a=>{const n=Ly(a);return n==="2nd"?"Second Semester":n==="summer"?"Summer":"First Semester"},Wa=async a=>{const{data:n,error:i}=await z.from("user_assignments").select("*").eq("user_id",a).eq("status","active").order("updated_at",{ascending:!1}).order("id",{ascending:!1}).limit(1).maybeSingle();if(i){if(We(i))return null;throw X(i)}return n||null},li=async a=>a?await Qn({sectionId:a.section_id,sectionName:a.section,year:a.year_level})||{id:a.section_id||null,section_name:a.section||"",grade_level:wt(a.year_level),school_year:a.school_year||un(),course:a.department||null,major:a.major||null}:null,ME=async a=>{if(!a)return{building:null,room:null,floor:null};const{data:n,error:i}=await z.from("section_assignments").select("*").eq("section_id",a).order("id",{ascending:!1}).limit(1).maybeSingle();if(i){if(We(i))return{building:null,room:null,floor:null};throw X(i)}if(!n)return{building:null,room:null,floor:null};const{data:s,error:o}=await z.from("buildings").select("*").eq("id",n.building_id).limit(1).maybeSingle();if(o&&!We(o))throw X(o);return{building:s?.building_name||null,room:n.room_number??null,floor:n.floor_number??null}},Mf=a=>{if(!a)return null;if(typeof a=="object")return a;if(typeof a!="string")return null;try{return JSON.parse(a)}catch{return null}},qf={getAssignment:async()=>re(async()=>{const a=ut(),n=await Wa(a.id);if(!n)return null;const i=await li(n),s=i?.id||n.section_id||null,o=i?.section_name||n.section||"",u=await ME(s),h=(await Vt([a.id])).get(a.id),m=wt(n.year_level||i?.grade_level),g=n.department||i?.course||null,y=n.major||i?.major||null;return{id:n.id,year:m,year_level:m,grade_level:m,section:o,section_name:o,section_id:s,section_full_name:o,section_code:o,section_course:g,department:g,major:y,payment:n.payment||"paid",amount_lacking:n.amount_lacking,sanctions:n.sanctions,sanction_reason:n.sanction_reason||"",student_status:n.student_status||"Regular",semester:n.semester||"1st Semester",school_year:i?.school_year||n.school_year||un(),gender:h?.gender||a?.gender||null,building:u.building,floor:u.floor,room:u.room}}),getStudyLoad:async(a="all")=>re(async()=>{const n=ut(),i=await Wa(n.id);if(!i)return[];const s=await li(i);if(!s?.id&&!s?.section_name)return[];let o=z.from("study_load").select("*");s?.id?o=o.eq("section_id",s.id):o=o.eq("section",s.section_name);const{data:u,error:f}=await o.order("subject_code",{ascending:!0});if(f)throw X(f);let h=u||[];if(a&&String(a).toLowerCase()!=="all"){const m=By(a).map(g=>g.toLowerCase());h=h.filter(g=>{const y=String(g.semester||"").trim().toLowerCase();return y?m.includes(y):!0})}return h.map(m=>({...m,subject_code:m.subject_code||"",subject_title:m.subject_title||"",units:be(m.units,0),semester:Cp(m.semester),teacher:m.teacher||"TBA"}))}),getGrades:async()=>re(async()=>{const a=ut(),{data:n,error:i}=await z.from("grades").select("*").eq("student_id",a.id).order("updated_at",{ascending:!1});if(i)throw X(i);const s=n||[],o=s.map(y=>y.subject_id).filter(Boolean),u=s.map(y=>y.section_id).filter(Boolean),f=s.map(y=>y.teacher_id).filter(Boolean),[h,m,g]=await Promise.all([Ls(o),lr(u),Vt(f)]);return s.map(y=>{const b=h.get(y.subject_id),_=m.get(y.section_id),x=g.get(y.teacher_id);return{id:y.id,subject_code:b?.subject_code||y.subject_code||"",subject_name:b?.subject_name||y.subject_name||"",subject:b?.subject_name||y.subject_name||"",prelim_grade:y.prelim_grade,midterm_grade:y.midterm_grade,finals_grade:y.finals_grade??y.final_grade,final_grade:y.final_grade,remarks:y.remarks,semester:Cp(y.semester),school_year:y.school_year,year:wt(_?.grade_level),instructor:x?.full_name||x?.username||null}})}),getAnnouncements:async()=>re(async()=>{const a=ut(),n=await Wa(a.id),{data:i,error:s}=await z.from("announcements").select("*");if(s)throw X(s);const o=String(n?.department||"").trim(),u=wt(n?.year_level||""),f=new Date,h={high:3,medium:2,low:1};return(i||[]).filter(g=>{const y=String(g.target_role||"all").toLowerCase();if(!["all","student"].includes(y)||!hi(g.is_published,!0))return!1;if(g.expires_at){const x=new Date(g.expires_at);if(!Number.isNaN(x.getTime())&&x<=f)return!1}const b=String(g.department||"").trim();if(b&&o&&b!==o)return!1;const _=wt(g.year);return!(_&&u&&_!==u)}).map(ir).sort((g,y)=>{const b=(h[y.priority]||0)-(h[g.priority]||0);return b!==0?b:String(y.published_at||y.created_at||"").localeCompare(String(g.published_at||g.created_at||""))})}),getProjects:async()=>re(async()=>{const a=ut(),n=await Wa(a.id);if(!n)return[];const i=await li(n);if(!i?.id)return[];const{data:s,error:o}=await z.from("projects").select("*").eq("section_id",i.id).order("due_date",{ascending:!0});if(o){if(We(o))return[];throw X(o)}return(s||[]).map(Tn)}),getCampusProjects:async()=>re(async()=>{const{data:a,error:n}=await z.from("campus_projects").select("*").order("created_at",{ascending:!1});if(n)throw X(n);return(a||[]).map(Tn)}),getEvaluationSettings:async()=>re(async()=>{const{data:a,error:n}=await z.from("evaluation_settings").select("*");if(n){if(We(n))return{enabled:!0,template:null};throw X(n)}const i=new Map;(a||[]).forEach(u=>i.set(u.setting_key,u.setting_value));const s=i.get("enabled")??i.get("evaluation_enabled"),o=i.get("template");return{enabled:hi(s,!0),template:Mf(o)}}),getEvaluationTeachers:async()=>re(async()=>{const a=ut(),n=await Wa(a.id);if(!n)return{teachers:[]};const i=await li(n);if(!i?.id&&!i?.section_name)return{teachers:[]};let s=z.from("teacher_assignments").select("*").eq("status","active");i?.id?s=s.eq("section_id",i.id):s=s.eq("section",i.section_name);const{data:o,error:u}=await s;if(u){if(We(u))return{teachers:[]};throw X(u)}const f=o||[];if(!f.length)return{teachers:[]};const h=Array.from(new Set(f.map(T=>T.teacher_id).filter(Boolean))),m=Array.from(new Set(f.map(T=>T.subject_id).filter(Boolean))),[g,y]=await Promise.all([Vt(h),Ls(m)]);let b=new Set;const{data:_,error:x}=await z.from("teacher_evaluations").select("teacher_id").eq("student_id",a.id).in("teacher_id",h);if(!x)b=new Set((_||[]).map(T=>T.teacher_id));else if(!We(x))throw X(x);const S=new Map;return f.forEach(T=>{const k=g.get(T.teacher_id);if(!k)return;S.has(T.teacher_id)||S.set(T.teacher_id,{id:k.id,name:k.full_name||k.username||`Teacher ${k.id}`,image_path:k.image_path||Zn,subjects:[],evaluated:b.has(k.id)});const I=y.get(T.subject_id),C=I?.subject_code||T.subject_code||"",j=I?.subject_name||T.subject_title||"",Z=S.get(T.teacher_id);!Z.subjects.some(F=>F.code===C&&F.title===j)&&(C||j)&&Z.subjects.push({code:C,title:j})}),{teachers:Array.from(S.values())}}),getEvaluation:async a=>re(async()=>{const n=ut(),i=be(a,null);if(!i)return{success:!1,message:"Invalid teacher id."};const{data:s,error:o}=await z.from("teacher_evaluations").select("*").eq("student_id",n.id).eq("teacher_id",i).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(o){if(We(o))return{success:!1,message:"Evaluation table is not configured."};throw X(o)}if(!s)return{success:!1,message:"Evaluation not found."};const u=Mf(s.ratings_json)||Mf(s.response_payload)||{},f=u?.ratings&&typeof u.ratings=="object"?{...u.ratings}:{};return Object.keys(f).length===0&&(s.rating_teaching_quality!=null&&(f.part1_q1=Number(s.rating_teaching_quality)),s.rating_communication!=null&&(f.part1_q2=Number(s.rating_communication)),s.rating_preparation!=null&&(f.part1_q3=Number(s.rating_preparation)),s.rating_responsiveness!=null&&(f.part1_q4=Number(s.rating_responsiveness)),s.rating_overall!=null&&(f.part2_q1=Number(s.rating_overall)),s.satisfaction_rating!=null&&(f.satisfaction_rating=Number(s.satisfaction_rating)),s.recommend_teacher&&(f.recommend_teacher=s.recommend_teacher)),{success:!0,data:{student_status:s.student_status||u.student_status||"",student_gender:s.student_gender||u.student_gender||"",comments:u.comments??s.comments??"",ratings:f}}}),submitEvaluation:async a=>re(async()=>{const n=ut(),i=a instanceof FormData?Object.fromEntries(a.entries()):{...a||{}},s=be(i.teacher_id,null);if(!s)return{success:!1,message:"Teacher is required."};const{data:o,error:u}=await z.from("teacher_evaluations").select("id").eq("student_id",n.id).eq("teacher_id",s).limit(1);if(u&&!We(u))throw X(u);if((o||[]).length>0)return{success:!1,message:"You have already evaluated this teacher."};const f=await Wa(n.id),h=await li(f),m=String(i.subject||"").split(",")[0].trim(),g=m.includes(" - ")?m.split(" - ")[0].trim():m,y=await gi(g),b={};Object.keys(i).forEach(T=>{(/^part\d+_q\d+$/i.test(T)||T==="satisfaction_rating"||T==="recommend_teacher")&&(b[T]=i[T])});const _=Object.entries(b).filter(([T])=>/^part\d+_q\d+$/i.test(T)).map(([,T])=>be(T,null)).filter(T=>T!=null&&T>=1&&T<=5),x=_.length?Number((_.reduce((T,k)=>T+k,0)/_.length).toFixed(2)):be(b.satisfaction_rating,null),S={teacher_id:s,student_id:n.id,subject_id:y?.id||null,school_year:f?.school_year||h?.school_year||un(),semester:f?.semester||"1st Semester",rating_teaching_quality:be(b.part1_q1,null),rating_communication:be(b.part1_q2,null),rating_preparation:be(b.part1_q3,null),rating_responsiveness:be(b.part1_q4,null),rating_overall:x,comments:i.comments||"",is_anonymous:1,student_status:i.student_status||null,student_gender:i.student_gender||null,satisfaction_rating:be(b.satisfaction_rating,null),recommend_teacher:b.recommend_teacher||null,ratings_json:JSON.stringify({ratings:b,comments:i.comments||"",student_status:i.student_status||null,student_gender:i.student_gender||null}),response_payload:JSON.stringify({ratings:b,comments:i.comments||"",student_status:i.student_status||null,student_gender:i.student_gender||null}),created_at:new Date().toISOString()};return await jp("teacher_evaluations",S),{success:!0,message:"Evaluation submitted successfully."}}),submitFeedback:async a=>re(async()=>{const n=ut(),i=String(a?.message||"").trim();if(!i)throw new Error("Feedback message is required.");const s={suggestion:"Suggestion",complaint:"Complaint",inquiry:"Inquiry",shoutout:"Shoutout",academic:"Academic",facilities:"Facilities",service:"Service",other:"Other"},o=String(a?.category||"Other").trim().toLowerCase(),u=s[o]||a?.category||"Other";return{success:!0,id:(await jp("feedbacks",{student_id:n.id,message:i,category:u,status:"unread",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},"id"))?.id||null}}),getMyFeedbacks:async()=>re(async()=>{const a=ut(),{data:n,error:i}=await z.from("feedbacks").select("*").eq("student_id",a.id).order("created_at",{ascending:!1});if(i){if(We(i))return[];throw X(i)}const s=n||[],o=s.map(f=>f.replied_by).filter(Boolean),u=await Vt(o);return s.map(f=>{const h=f.replied_by?u.get(f.replied_by):null;return{id:f.id,message:f.message,category:f.category,reply:f.reply||null,replied_by_name:h?.full_name||null,replied_by_role:h?.role||null,status:f.status||"unread",created_at:f.created_at?zo(f.created_at):"",replied_at:f.replied_at?zo(f.replied_at):null}})})},qE={getSchedule:async()=>re(async()=>{const a=ut(),{data:n,error:i}=await z.from("teacher_assignments").select("*").eq("teacher_id",a.id).eq("status","active");if(i)throw X(i);const s=(n||[]).map(f=>f.id);if(!s.length)return[];const{data:o,error:u}=await z.from("schedules").select("*").in("teacher_assignment_id",s);if(u)throw X(u);return qy(o||[])}),getAnnouncements:async()=>re(async()=>{const a=new Date,n={high:3,medium:2,low:1},{data:i,error:s}=await z.from("announcements").select("*");if(s)throw X(s);return(i||[]).filter(o=>{const u=String(o.target_role||"all").toLowerCase();if(!["all","teacher"].includes(u)||!hi(o.is_published,!0))return!1;if(!o.expires_at)return!0;const f=new Date(o.expires_at);return Number.isNaN(f.getTime())?!0:f>a}).map(ir).sort((o,u)=>{const f=(n[u.priority]||0)-(n[o.priority]||0);return f!==0?f:String(u.published_at||u.created_at||"").localeCompare(String(o.published_at||o.created_at||""))})}),createAnnouncement:async a=>re(async()=>{const n=ut(),{data:i,error:s}=await z.from("announcements").insert({title:a?.title||"",content:a?.content||"",year:a?.year||null,department:a?.department||null,major:a?.major||null,author_id:n.id,target_role:a?.target_role||"teacher",priority:a?.priority||"medium",is_published:a?.is_published==null?1:a.is_published,published_at:a?.published_at||new Date().toISOString(),expires_at:a?.expires_at||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();if(s)throw X(s);return ir(i)}),deleteAnnouncement:async a=>re(async()=>{const n=ut(),i=Td(n.roles,n.role);let s=z.from("announcements").delete().eq("id",a);i.includes("admin")||(s=s.eq("author_id",n.id));const{error:o}=await s;if(o)throw X(o);return{success:!0}}),getProjects:async()=>re(async()=>{const{data:a,error:n}=await z.from("campus_projects").select("*").order("created_at",{ascending:!1});if(n){if(We(n))return[];throw X(n)}return(a||[]).map(Tn)}),createProject:async a=>re(async()=>{const{data:n,error:i}=await z.from("campus_projects").insert({name:a?.name||a?.title||"",status:a?.status||"Planned",budget:a?.budget||null,start_date:a?.start_date||a?.started||null,description:a?.description||null,created_at:new Date().toISOString()}).select("*").single();if(i)throw X(i);return Tn(n)}),updateProject:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("campus_projects").update({name:n?.name||n?.title||"",status:n?.status||"Planned",budget:n?.budget||null,start_date:n?.start_date||n?.started||null,description:n?.description||null}).eq("id",a).select("*").single();if(s)throw X(s);return Tn(i)}),deleteProject:async a=>re(async()=>{const{error:n}=await z.from("campus_projects").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getGrades:async(a={})=>re(async()=>{const n=await Qn({sectionId:a?.section_id,sectionName:a?.section}),i=await gi(a?.subject);if(!n?.id||!i?.id)return{};const{data:s,error:o}=await z.from("grades").select("*").eq("section_id",n.id).eq("subject_id",i.id);if(o)throw X(o);return(s||[]).reduce((u,f)=>(u[f.student_id]={student_id:f.student_id,prelim_grade:f.prelim_grade,midterm_grade:f.midterm_grade,finals_grade:f.finals_grade??f.final_grade},u),{})}),getTeacherSubjects:async()=>qE.getSections(),getSections:async()=>re(async()=>{const a=ut(),{data:n,error:i}=await z.from("teacher_assignments").select("*").eq("teacher_id",a.id).eq("status","active");if(i)throw X(i);const s=n||[];if(!s.length)return[];const o=Array.from(new Set(s.map(g=>g.section_id).filter(Boolean))),u=Array.from(new Set(s.map(g=>g.subject_id).filter(Boolean))),[f,h]=await Promise.all([lr(o),Ls(u)]),m=new Map;return s.forEach(g=>{const y=f.get(g.section_id),b=y?.id?`id:${y.id}`:`name:${g.section||"unknown"}`;m.has(b)||m.set(b,{id:y?.id||null,name:y?.section_name||g.section||"",section_name:y?.section_name||g.section||"",year_level:y?.grade_level||"",grade_level:y?.grade_level||"",course:y?.course||null,major:y?.major||null,school_year:y?.school_year||un(),subjects:[]});const _=h.get(g.subject_id);if(!_)return;const x=m.get(b);x.subjects.some(S=>S.id===_.id)||x.subjects.push({id:_.id,code:_.subject_code,name:_.subject_name})}),Array.from(m.values()).filter(g=>g.name)}),createGrade:async a=>re(async()=>{const n=ut(),i=be(a?.student_id,null);if(!i)throw new Error("Student is required.");const s=await gi(a?.subject);if(!s)throw new Error("Subject not found.");const o=await Wa(i),u=await li(o);if(!u?.id)throw new Error("Student has no active section assignment.");const f=u.school_year||un(),h=Oa(s.semester||o?.semester||"1st Semester"),{data:m,error:g}=await z.from("grades").select("*").eq("student_id",i).eq("subject_id",s.id).eq("section_id",u.id).eq("school_year",f).eq("semester",h).limit(1).maybeSingle();if(g)throw X(g);const y={student_id:i,subject_id:s.id,teacher_id:n.id,section_id:u.id,school_year:f,semester:h,prelim_grade:be(a?.prelim,null),midterm_grade:be(a?.midterm,null),finals_grade:be(a?.finals,null),updated_at:new Date().toISOString()};if(m){const{data:x,error:S}=await z.from("grades").update(y).eq("id",m.id).select("*").single();if(S)throw X(S);return x}const{data:b,error:_}=await z.from("grades").insert({...y,created_at:new Date().toISOString()}).select("*").single();if(_)throw X(_);return b}),updateGrade:async(a,n)=>re(async()=>{const{data:i,error:s}=await z.from("grades").update({prelim_grade:be(n?.prelim,null),midterm_grade:be(n?.midterm,null),finals_grade:be(n?.finals,null),updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(s)throw X(s);return i}),deleteGrade:async a=>re(async()=>{const{error:n}=await z.from("grades").delete().eq("id",a);if(n)throw X(n);return{success:!0}}),getStudentsBySection:async a=>re(async()=>{if(!a)return[];const n=await Qn({sectionName:a});let i=[];if(n?.id){const{data:u,error:f}=await z.from("user_assignments").select("*").eq("status","active").eq("section_id",n.id);if(f)throw X(f);i=u||[]}else{const{data:u,error:f}=await z.from("user_assignments").select("*").eq("status","active").ilike("section",a);if(f)throw X(f);i=u||[]}const s=Array.from(new Set(i.map(u=>u.user_id).filter(Boolean))),o=await Vt(s);return s.map(u=>o.get(u)).filter(Boolean).sort((u,f)=>String(u.full_name||"").localeCompare(String(f.full_name||"")))}),getEvaluationStatistics:async a=>re(async()=>{const n=ut(),{data:i,error:s}=await z.from("teacher_evaluations").select("*").eq("teacher_id",n.id);if(s){if(We(s))return{average_rating:0,total_evaluations:0,comments:[]};throw X(s)}const o=a&&String(a).trim().toLowerCase()!=="all"?By(a).map(g=>g.toLowerCase()):null,u=(i||[]).filter(g=>{if(!o)return!0;const y=String(g.semester||"").trim().toLowerCase();return y?o.includes(y):!0});let f=0,h=0;const m=[];return u.forEach(g=>{const y=be(g.rating_overall??g.rating,null);y!=null&&(f+=y,h+=1);const b=g.comments||g.comment;b&&m.push({text:b,rating:y??0,date:g.created_at?new Date(g.created_at).toISOString().slice(0,10):null})}),m.sort((g,y)=>String(y.date||"").localeCompare(String(g.date||""))),{average_rating:h?f/h:0,total_evaluations:h,comments:m.slice(0,20)}})},$y=N.createContext(),LE=()=>{const a=N.useContext($y);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},BE=({children:a})=>{const[n,i]=N.useState(()=>{try{const C=localStorage.getItem("tcc_user");return!C||C==="undefined"?null:JSON.parse(C)}catch(C){return console.error("AuthContext: Error parsing tcc_user",C),null}}),[s,o]=N.useState(!0),[u,f]=N.useState(()=>{try{return localStorage.getItem("tcc_avatar")||"/images/sample.jpg"}catch{return"/images/sample.jpg"}}),[h,m]=N.useState(()=>localStorage.getItem("tcc_active_role")||null),[g,y]=N.useState(()=>localStorage.getItem("tcc_active_sub_role")||null),b=N.useCallback(async C=>{if(C.avatar_url)f(C.avatar_url),localStorage.setItem("tcc_avatar",C.avatar_url);else if(C.image_path){const j=await My(C.id,C.image_path),Z=j+(j.includes("?")?"&":"?")+"t="+Date.now();f(Z),localStorage.setItem("tcc_avatar",Z)}},[]),_=N.useCallback(C=>{m(C),localStorage.setItem("tcc_active_role",C)},[]),x=N.useCallback(C=>{y(C),localStorage.setItem("tcc_active_sub_role",C)},[]),S=N.useCallback(async()=>{try{const C=await Eo.checkSession();C.authenticated?(i(C.user),localStorage.setItem("tcc_user",JSON.stringify(C.user)),await b(C.user)):(i(null),localStorage.removeItem("tcc_user"),localStorage.removeItem("tcc_avatar"),localStorage.removeItem("tcc_active_role"),localStorage.removeItem("tcc_active_sub_role"))}catch(C){console.error("Auth check failed:",C)}finally{o(!1)}},[b]);N.useEffect(()=>{S()},[S]),N.useEffect(()=>{if(n&&!h){const C=["admin","teacher","student"],j=Array.isArray(n.roles)&&n.roles.length?n.roles:[n.role||"student"],Z=j.find(Q=>C.includes(Q.toLowerCase()))||j[0];m(Z),localStorage.setItem("tcc_active_role",Z)}if(n&&!g){const C=["nt","osas","treasury"],j=Array.isArray(n.sub_roles)?n.sub_roles:[n.sub_role].filter(Boolean);if(j.length>0){const Z=j.find(Q=>C.includes(Q.toLowerCase()))||j[0];y(Z),localStorage.setItem("tcc_active_sub_role",Z)}}},[n,h,g]),N.useEffect(()=>{const C=RE(()=>{i(null),f("/images/sample.jpg"),m(null);try{localStorage.removeItem("tcc_user"),localStorage.removeItem("tcc_avatar"),localStorage.removeItem("tcc_active_role"),localStorage.removeItem("tcc_active_sub_role")}catch{}});return()=>C()},[]);const I={user:n,loading:s,avatarUrl:u,activeRole:h,activeSubRole:g,switchRole:_,switchSubRole:x,checkAuth:S,login:async(C,j)=>{const Z=await Eo.login(C,j);return i(Z.user),Z.user?localStorage.setItem("tcc_user",JSON.stringify(Z.user)):localStorage.removeItem("tcc_user"),await b(Z.user),Z},logout:async()=>{try{await Eo.logout()}finally{i(null),f("/images/sample.jpg"),m(null),y(null),localStorage.removeItem("tcc_user"),localStorage.removeItem("tcc_avatar"),localStorage.removeItem("tcc_active_role"),localStorage.removeItem("tcc_active_sub_role")}},isAuthenticated:!!n};return G.jsx($y.Provider,{value:I,children:a})},$E=()=>{const{user:a}=LE(),[n,i]=N.useState(!1),[s,o]=N.useState([{role:"bot",content:` Hello! I'm your TCC Assistant.

You can ask about:
 Toggle dark/light mode
 Current date and time
 Building count

Log in to access your personal information (grades, sanctions, section, and profile).`}]),[u,f]=N.useState(""),[h,m]=N.useState(!1),[g,y]=N.useState(null),[b,_]=N.useState([]),x=N.useRef(null),{theme:S,setMode:T}=$x();N.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[s,n]),N.useEffect(()=>{n&&a&&!g&&I()},[n,a]),N.useEffect(()=>{const M=a?`tcc_chat_memory_${a.id}`:"tcc_chat_memory_public";try{const J=localStorage.getItem(M);_(J?JSON.parse(J):[])}catch{_([])}},[a]);const k=M=>{const J=a?`tcc_chat_memory_${a.id}`:"tcc_chat_memory_public";_(M);try{localStorage.setItem(J,JSON.stringify(M.slice(-50)))}catch{}},I=async()=>{try{if(a){let M=null;a.role==="student"&&(M=await qf.getAssignment()),y({user:a,assignment:M})}}catch(M){console.error("Failed to fetch user data:",M)}},C=async M=>{if(M.preventDefault(),!u.trim())return;const J={role:"user",content:u};o(se=>[...se,J]),f(""),m(!0);try{const se=await j(u);if(setTimeout(()=>{o(he=>[...he,{role:"bot",content:se}]),m(!1)},600),se&&se.length<500){const he=[...b,{q:u,a:se}];k(he)}}catch{o(he=>[...he,{role:"bot",content:" I encountered an error processing your request. Please try again."}]),m(!1)}},j=async M=>{const J=M.toLowerCase(),he=["his ","her ","their ","someone","student ","user ","john","mary","other","classmate","friend"].some(O=>J.includes(O)),V=J.includes("my ")||J.includes("i ")||J.includes("am i")||J.includes("do i")||J.includes("can i");if(he&&!V)return" I can only provide information about YOUR account for privacy and security reasons. Please ask about your own information using 'my' or 'I'.";if(["sanction","grade","schedule","enrollment","section","class","violation","info","name","email","profile"].some(O=>J.includes(O))&&!a)return" Please log in to access your personal information.";if(J.includes("dark")&&(J.includes("mode")||J.includes("theme")))return T("dark")," Dark mode activated! Your eyes will thank you.";if(J.includes("light")&&(J.includes("mode")||J.includes("theme")))return T("light")," Light mode activated! Let there be light!";if(J.includes("toggle")&&(J.includes("theme")||J.includes("mode"))){const O=S==="dark"?"light":"dark";return T(O),O==="dark"?" Dark mode activated!":" Light mode activated!"}const q=Z(J);if(q)return q;if(!a&&J.includes("building"))try{return` There are currently **${(await NE.getStats()).buildings||0}** campus buildings.`}catch{return" I couldn't retrieve the building count right now."}if(J.includes("sanction")||J.includes("violation")||J.includes("offense")||J.includes("discipline")){if(a?.role!=="student")return" Sanction lookup is only available for students.";try{const O=g?.assignment||await qf.getAssignment();return O&&O.sanctions?` **Sanction Record Found**

 **Reason:** ${O.sanction_reason||"Not specified"}

 **Date:** ${O.sanction_date?new Date(O.sanction_date).toLocaleDateString():"N/A"}

 Please visit the OSAS office to resolve this matter.`:" Good news! You have no active sanctions on your record. Keep up the good behavior!"}catch{return" I couldn't retrieve your sanction records."}}if(J.includes("grade")||J.includes("gpa")||J.includes("academic"))return" You can view your grades and academic performance in the **My Grades** section of your dashboard.";if(J.includes("schedule")||J.includes("class")||J.includes("subject")||J.includes("timetable")){if(a?.role!=="student")return" Detailed schedule bot lookup is tailored for students. Please check your teacher/admin dashboard.";try{const O=g?.assignment||await qf.getAssignment();return O&&O.section?` **Your Class Information**

 **Section:** ${O.section}

For detailed schedules, please check your student dashboard.`:" You don't appear to be assigned to a section yet."}catch{return" I couldn't retrieve your class schedule."}}if(J.includes("my name")||J.includes("my email")||J.includes("my info")||J.includes("who am i")||J.includes("profile"))return a?` **Your Profile Information**

 **Email:** ${a.email||"Not available"}
 **User ID:** ${a.school_id||a.id}
 **Role:** ${a.role}`:" Please log in first.";if(J.includes("time")||J.includes("date")||J.includes("today")||J.includes("now")){const O=new Date,U=O.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),w=O.toLocaleTimeString("en-US");return` **Current Date & Time**

 ${U}
 ${w}`}return J.includes("help")||J.includes("what can you")||J.includes("assist")||J.includes("how do")||J.uncludes("tabang")||J.uncludes("tabang yawa")?a?` **I can help you with:**

 Check your sanctions/violations
 View your enrollment status
 Check your section and class info
 Access your profile information
 Get current date and time
 Toggle dark/light mode`:` **I can help you with:**

 Toggle dark/light mode
 Current date and time
 Building count

Log in to access your personal information.`:J.includes("hello")||J.includes("hi ")||J==="hi"||J.includes("hey")?" Hello! How can I assist you today?":J.includes("bye")||J.includes("goodbye")||J.includes("see you")?" Goodbye! Have a great day!":J.includes("thank")||J.includes("thanks")?" You're welcome!":" I'm not sure I understand. Try asking about your sanctions, grades, or schedule. Or type 'help'!"},Z=M=>{if(!b||b.length===0)return null;const J=M.split(/\s+/).filter(Boolean);if(J.length===0)return null;let se={score:0,response:null};for(const he of b){const L=(he.q||"").toLowerCase().split(/\s+/).filter(Boolean);if(L.length===0)continue;const O=J.filter(U=>L.includes(U)).length/Math.max(J.length,L.length);O>se.score&&(se={score:O,response:he.a})}return se.score>=.6?se.response:null},Q=a?[{label:"My Sanctions",query:"Do I have any sanctions?"},{label:"My Section",query:"What is my section?"},{label:"Toggle Theme",query:"Toggle dark mode"},{label:"Help",query:"What can you help me with?"}]:[{label:"Buildings",query:"How many buildings?"},{label:"Toggle Theme",query:"Toggle dark mode"},{label:"Date & Time",query:"What time is it now?"},{label:"Help",query:"What can you help me with?"}],F=M=>{f(M)};return G.jsxs("div",{className:"chatbot-container",children:[n&&G.jsxs("div",{className:"chatbot-window card",children:[G.jsxs("div",{className:"chatbot-header",children:[G.jsxs("div",{className:"chatbot-header-left",children:[G.jsx("div",{className:"status-dot"}),G.jsxs("div",{className:"chatbot-header-info",children:[G.jsx("h3",{children:" TCC Assistant"}),G.jsx("p",{children:"Online  Ready to help"})]})]}),G.jsx("button",{className:"chatbot-close",onClick:()=>i(!1),"aria-label":"Close chat",children:G.jsx(Qg,{size:20})})]}),G.jsxs("div",{className:"chatbot-messages",children:[s.map((M,J)=>G.jsx("div",{className:`message ${M.role}`,children:G.jsx("div",{className:"message-content",children:M.content.split(`
`).map((se,he)=>G.jsxs("span",{children:[se,he<M.content.split(`
`).length-1&&G.jsx("br",{})]},he))})},J)),h&&G.jsx("div",{className:"message bot typing",children:G.jsxs("div",{className:"typing-indicator",children:[G.jsx("span",{}),G.jsx("span",{}),G.jsx("span",{})]})}),G.jsx("div",{ref:x})]}),s.length===1&&G.jsx("div",{className:"chatbot-quick-actions",children:Q.map((M,J)=>G.jsx("button",{className:"quick-action-btn",onClick:()=>F(M.query),children:M.label},J))}),G.jsxs("form",{className:"chatbot-input",onSubmit:C,children:[G.jsx("input",{type:"text",placeholder:"Ask me anything...",value:u,onChange:M=>f(M.target.value),disabled:h}),G.jsx("button",{type:"submit",disabled:!u.trim()||h,children:G.jsx(Mx,{size:18})})]})]}),G.jsxs("button",{className:"chatbot-trigger",onClick:()=>i(!n),"aria-label":n?"Close chat":"Open chat",children:[n?G.jsx(Qg,{size:28}):G.jsx(Lx,{size:28}),!n&&G.jsx("span",{className:"chatbot-badge",children:"AI"})]})]})};var Ve="-ms-",Rs="-moz-",Ne="-webkit-",Hy="comm",Po="rule",Od="decl",HE="@import",IE="@namespace",Iy="@keyframes",GE="@layer",Gy=Math.abs,Rd=String.fromCharCode,rd=Object.assign;function YE(a,n){return ct(a,0)^45?(((n<<2^ct(a,0))<<2^ct(a,1))<<2^ct(a,2))<<2^ct(a,3):0}function Yy(a){return a.trim()}function Xn(a,n){return(a=n.exec(a))?a[0]:a}function Se(a,n,i){return a.replace(n,i)}function Ao(a,n,i){return a.indexOf(n,i)}function ct(a,n){return a.charCodeAt(n)|0}function ur(a,n,i){return a.slice(n,i)}function yn(a){return a.length}function Vy(a){return a.length}function Ss(a,n){return n.push(a),a}function VE(a,n){return a.map(n).join("")}function Up(a,n){return a.filter(function(i){return!Xn(i,n)})}var Ko=1,yi=1,Py=0,cn=0,st=0,Ai="";function Jo(a,n,i,s,o,u,f,h){return{value:a,root:n,parent:i,type:s,props:o,children:u,line:Ko,column:yi,length:f,return:"",siblings:h}}function Ra(a,n){return rd(Jo("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function ni(a){for(;a.root;)a=Ra(a.root,{children:[a]});Ss(a,a.siblings)}function PE(){return st}function KE(){return st=cn>0?ct(Ai,--cn):0,yi--,st===10&&(yi=1,Ko--),st}function bn(){return st=cn<Py?ct(Ai,cn++):0,yi++,st===10&&(yi=1,Ko++),st}function Ua(){return ct(Ai,cn)}function To(){return cn}function Xo(a,n){return ur(Ai,a,n)}function Bs(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JE(a){return Ko=yi=1,Py=yn(Ai=a),cn=0,[]}function XE(a){return Ai="",a}function Lf(a){return Yy(Xo(cn-1,id(a===91?a+2:a===40?a+1:a)))}function QE(a){for(;(st=Ua())&&st<33;)bn();return Bs(a)>2||Bs(st)>3?"":" "}function ZE(a,n){for(;--n&&bn()&&!(st<48||st>102||st>57&&st<65||st>70&&st<97););return Xo(a,To()+(n<6&&Ua()==32&&bn()==32))}function id(a){for(;bn();)switch(st){case a:return cn;case 34:case 39:a!==34&&a!==39&&id(st);break;case 40:a===41&&id(a);break;case 92:bn();break}return cn}function FE(a,n){for(;bn()&&a+st!==57;)if(a+st===84&&Ua()===47)break;return"/*"+Xo(n,cn-1)+"*"+Rd(a===47?a:bn())}function WE(a){for(;!Bs(Ua());)bn();return Xo(a,cn)}function e2(a){return XE(Oo("",null,null,null,[""],a=JE(a),0,[0],a))}function Oo(a,n,i,s,o,u,f,h,m){for(var g=0,y=0,b=f,_=0,x=0,S=0,T=1,k=1,I=1,C=0,j="",Z=o,Q=u,F=s,M=j;k;)switch(S=C,C=bn()){case 40:if(S!=108&&ct(M,b-1)==58){Ao(M+=Se(Lf(C),"&","&\f"),"&\f",Gy(g?h[g-1]:0))!=-1&&(I=-1);break}case 34:case 39:case 91:M+=Lf(C);break;case 9:case 10:case 13:case 32:M+=QE(S);break;case 92:M+=ZE(To()-1,7);continue;case 47:switch(Ua()){case 42:case 47:Ss(t2(FE(bn(),To()),n,i,m),m),(Bs(S||1)==5||Bs(Ua()||1)==5)&&yn(M)&&ur(M,-1,void 0)!==" "&&(M+=" ");break;default:M+="/"}break;case 123*T:h[g++]=yn(M)*I;case 125*T:case 59:case 0:switch(C){case 0:case 125:k=0;case 59+y:I==-1&&(M=Se(M,/\f/g,"")),x>0&&(yn(M)-b||T===0&&S===47)&&Ss(x>32?Dp(M+";",s,i,b-1,m):Dp(Se(M," ","")+";",s,i,b-2,m),m);break;case 59:M+=";";default:if(Ss(F=kp(M,n,i,g,y,o,h,j,Z=[],Q=[],b,u),u),C===123)if(y===0)Oo(M,n,F,F,Z,u,b,h,Q);else{switch(_){case 99:if(ct(M,3)===110)break;case 108:if(ct(M,2)===97)break;default:y=0;case 100:case 109:case 115:}y?Oo(a,F,F,s&&Ss(kp(a,F,F,0,0,o,h,j,o,Z=[],b,Q),Q),o,Q,b,h,s?Z:Q):Oo(M,F,F,F,[""],Q,0,h,Q)}}g=y=x=0,T=I=1,j=M="",b=f;break;case 58:b=1+yn(M),x=S;default:if(T<1){if(C==123)--T;else if(C==125&&T++==0&&KE()==125)continue}switch(M+=Rd(C),C*T){case 38:I=y>0?1:(M+="\f",-1);break;case 44:h[g++]=(yn(M)-1)*I,I=1;break;case 64:Ua()===45&&(M+=Lf(bn())),_=Ua(),y=b=yn(j=M+=WE(To())),C++;break;case 45:S===45&&yn(M)==2&&(T=0)}}return u}function kp(a,n,i,s,o,u,f,h,m,g,y,b){for(var _=o-1,x=o===0?u:[""],S=Vy(x),T=0,k=0,I=0;T<s;++T)for(var C=0,j=ur(a,_+1,_=Gy(k=f[T])),Z=a;C<S;++C)(Z=Yy(k>0?x[C]+" "+j:Se(j,/&\f/g,x[C])))&&(m[I++]=Z);return Jo(a,n,i,o===0?Po:h,m,g,y,b)}function t2(a,n,i,s){return Jo(a,n,i,Hy,Rd(PE()),ur(a,2,-2),0,s)}function Dp(a,n,i,s,o){return Jo(a,n,i,Od,ur(a,0,s),ur(a,s+1,-1),s,o)}function Ky(a,n,i){switch(YE(a,n)){case 5103:return Ne+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Ne+a+a;case 4855:return Ne+a.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+a;case 4789:return Rs+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Ne+a+Rs+a+Ve+a+a;case 5936:switch(ct(a,n+11)){case 114:return Ne+a+Ve+Se(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Ne+a+Ve+Se(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Ne+a+Ve+Se(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Ne+a+Ve+a+a;case 6165:return Ne+a+Ve+"flex-"+a+a;case 5187:return Ne+a+Se(a,/(\w+).+(:[^]+)/,Ne+"box-$1$2"+Ve+"flex-$1$2")+a;case 5443:return Ne+a+Ve+"flex-item-"+Se(a,/flex-|-self/g,"")+(Xn(a,/flex-|baseline/)?"":Ve+"grid-row-"+Se(a,/flex-|-self/g,""))+a;case 4675:return Ne+a+Ve+"flex-line-pack"+Se(a,/align-content|flex-|-self/g,"")+a;case 5548:return Ne+a+Ve+Se(a,"shrink","negative")+a;case 5292:return Ne+a+Ve+Se(a,"basis","preferred-size")+a;case 6060:return Ne+"box-"+Se(a,"-grow","")+Ne+a+Ve+Se(a,"grow","positive")+a;case 4554:return Ne+Se(a,/([^-])(transform)/g,"$1"+Ne+"$2")+a;case 6187:return Se(Se(Se(a,/(zoom-|grab)/,Ne+"$1"),/(image-set)/,Ne+"$1"),a,"")+a;case 5495:case 3959:return Se(a,/(image-set\([^]*)/,Ne+"$1$`$1");case 4968:return Se(Se(a,/(.+:)(flex-)?(.*)/,Ne+"box-pack:$3"+Ve+"flex-pack:$3"),/space-between/,"justify")+Ne+a+a;case 4200:if(!Xn(a,/flex-|baseline/))return Ve+"grid-column-align"+ur(a,n)+a;break;case 2592:case 3360:return Ve+Se(a,"template-","")+a;case 4384:case 3616:return i&&i.some(function(s,o){return n=o,Xn(s.props,/grid-\w+-end/)})?~Ao(a+(i=i[n].value),"span",0)?a:Ve+Se(a,"-start","")+a+Ve+"grid-row-span:"+(~Ao(i,"span",0)?Xn(i,/\d+/):+Xn(i,/\d+/)-+Xn(a,/\d+/))+";":Ve+Se(a,"-start","")+a;case 4896:case 4128:return i&&i.some(function(s){return Xn(s.props,/grid-\w+-start/)})?a:Ve+Se(Se(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return Se(a,/(.+)-inline(.+)/,Ne+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yn(a)-1-n>6)switch(ct(a,n+1)){case 109:if(ct(a,n+4)!==45)break;case 102:return Se(a,/(.+:)(.+)-([^]+)/,"$1"+Ne+"$2-$3$1"+Rs+(ct(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~Ao(a,"stretch",0)?Ky(Se(a,"stretch","fill-available"),n,i)+a:a}break;case 5152:case 5920:return Se(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,h,m,g){return Ve+o+":"+u+g+(f?Ve+o+"-span:"+(h?m:+m-+u)+g:"")+a});case 4949:if(ct(a,n+6)===121)return Se(a,":",":"+Ne)+a;break;case 6444:switch(ct(a,ct(a,14)===45?18:11)){case 120:return Se(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ne+(ct(a,14)===45?"inline-":"")+"box$3$1"+Ne+"$2$3$1"+Ve+"$2box$3")+a;case 100:return Se(a,":",":"+Ve)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Se(a,"scroll-","scroll-snap-")+a}return a}function qo(a,n){for(var i="",s=0;s<a.length;s++)i+=n(a[s],s,a,n)||"";return i}function n2(a,n,i,s){switch(a.type){case GE:if(a.children.length)break;case HE:case IE:case Od:return a.return=a.return||a.value;case Hy:return"";case Iy:return a.return=a.value+"{"+qo(a.children,s)+"}";case Po:if(!yn(a.value=a.props.join(",")))return""}return yn(i=qo(a.children,s))?a.return=a.value+"{"+i+"}":""}function a2(a){var n=Vy(a);return function(i,s,o,u){for(var f="",h=0;h<n;h++)f+=a[h](i,s,o,u)||"";return f}}function r2(a){return function(n){n.root||(n=n.return)&&a(n)}}function i2(a,n,i,s){if(a.length>-1&&!a.return)switch(a.type){case Od:a.return=Ky(a.value,a.length,i);return;case Iy:return qo([Ra(a,{value:Se(a.value,"@","@"+Ne)})],s);case Po:if(a.length)return VE(i=a.props,function(o){switch(Xn(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ni(Ra(a,{props:[Se(o,/:(read-\w+)/,":"+Rs+"$1")]})),ni(Ra(a,{props:[o]})),rd(a,{props:Up(i,s)});break;case"::placeholder":ni(Ra(a,{props:[Se(o,/:(plac\w+)/,":"+Ne+"input-$1")]})),ni(Ra(a,{props:[Se(o,/:(plac\w+)/,":"+Rs+"$1")]})),ni(Ra(a,{props:[Se(o,/:(plac\w+)/,Ve+"input-$1")]})),ni(Ra(a,{props:[o]})),rd(a,{props:Up(i,s)});break}return""})}}var s2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gt={},bi=typeof process<"u"&&Gt!==void 0&&(Gt.REACT_APP_SC_ATTR||Gt.SC_ATTR)||"data-styled",Jy="active",Xy="data-styled-version",Qo="6.3.5",jd=`/*!sc*/
`,Lo=typeof window<"u"&&typeof document<"u",Ys=Yt.createContext===void 0,l2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gt!==void 0&&Gt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gt.REACT_APP_SC_DISABLE_SPEEDY!==""?Gt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gt!==void 0&&Gt.SC_DISABLE_SPEEDY!==void 0&&Gt.SC_DISABLE_SPEEDY!==""&&Gt.SC_DISABLE_SPEEDY!=="false"&&Gt.SC_DISABLE_SPEEDY),Zo=Object.freeze([]),vi=Object.freeze({});function o2(a,n,i){return i===void 0&&(i=vi),a.theme!==i.theme&&a.theme||n||i.theme}var Qy=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),u2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,c2=/(^-|-$)/g;function Np(a){return a.replace(u2,"-").replace(c2,"")}var f2=/(a)(d)/gi,zp=function(a){return String.fromCharCode(a+(a>25?39:97))};function sd(a){var n,i="";for(n=Math.abs(a);n>52;n=n/52|0)i=zp(n%52)+i;return(zp(n%52)+i).replace(f2,"$1-$2")}var Bf,ci=function(a,n){for(var i=n.length;i;)a=33*a^n.charCodeAt(--i);return a},Zy=function(a){return ci(5381,a)};function Fy(a){return sd(Zy(a)>>>0)}function d2(a){return a.displayName||a.name||"Component"}function $f(a){return typeof a=="string"&&!0}var Wy=typeof Symbol=="function"&&Symbol.for,eb=Wy?Symbol.for("react.memo"):60115,h2=Wy?Symbol.for("react.forward_ref"):60112,m2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},p2=((Bf={})[h2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bf[eb]=tb,Bf);function Mp(a){return("type"in(n=a)&&n.type.$$typeof)===eb?tb:"$$typeof"in a?p2[a.$$typeof]:m2;var n}var y2=Object.defineProperty,b2=Object.getOwnPropertyNames,qp=Object.getOwnPropertySymbols,v2=Object.getOwnPropertyDescriptor,_2=Object.getPrototypeOf,Lp=Object.prototype;function nb(a,n,i){if(typeof n!="string"){if(Lp){var s=_2(n);s&&s!==Lp&&nb(a,s,i)}var o=b2(n);qp&&(o=o.concat(qp(n)));for(var u=Mp(a),f=Mp(n),h=0;h<o.length;++h){var m=o[h];if(!(m in g2||i&&i[m]||f&&m in f||u&&m in u)){var g=v2(n,m);try{y2(a,m,g)}catch{}}}}return a}function _i(a){return typeof a=="function"}function Cd(a){return typeof a=="object"&&"styledComponentId"in a}function sr(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function ld(a,n){if(a.length===0)return"";for(var i=a[0],s=1;s<a.length;s++)i+=a[s];return i}function $s(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function od(a,n,i){if(i===void 0&&(i=!1),!i&&!$s(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=od(a[s],n[s]);else if($s(n))for(var s in n)a[s]=od(a[s],n[s]);return a}function Ud(a,n){Object.defineProperty(a,"toString",{value:n})}function Vs(a){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var x2=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var i=0,s=0;s<n;s++)i+=this.groupSizes[s];return i},a.prototype.insertRules=function(n,i){if(n>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;n>=u;)if((u<<=1)<0)throw Vs(16,"".concat(n));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(n+1),m=(f=0,i.length);f<m;f++)this.tag.insertRule(h,i[f])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var i=this.groupSizes[n],s=this.indexOfGroup(n),o=s+i;this.groupSizes[n]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var i="";if(n>=this.length||this.groupSizes[n]===0)return i;for(var s=this.groupSizes[n],o=this.indexOfGroup(n),u=o+s,f=o;f<u;f++)i+="".concat(this.tag.getRule(f)).concat(jd);return i},a})(),Ro=new Map,Bo=new Map,jo=1,Es=function(a){if(Ro.has(a))return Ro.get(a);for(;Bo.has(jo);)jo++;var n=jo++;return Ro.set(a,n),Bo.set(n,a),n},w2=function(a,n){jo=n+1,Ro.set(a,n),Bo.set(n,a)},S2="style[".concat(bi,"][").concat(Xy,'="').concat(Qo,'"]'),E2=new RegExp("^".concat(bi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),A2=function(a,n,i){for(var s,o=i.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&a.registerName(n,s)},T2=function(a,n){for(var i,s=((i=n.textContent)!==null&&i!==void 0?i:"").split(jd),o=[],u=0,f=s.length;u<f;u++){var h=s[u].trim();if(h){var m=h.match(E2);if(m){var g=0|parseInt(m[1],10),y=m[2];g!==0&&(w2(y,g),A2(a,y,m[3]),a.getTag().insertRules(g,o)),o.length=0}else o.push(h)}}},Bp=function(a){for(var n=document.querySelectorAll(S2),i=0,s=n.length;i<s;i++){var o=n[i];o&&o.getAttribute(bi)!==Jy&&(T2(a,o),o.parentNode&&o.parentNode.removeChild(o))}};function O2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ab=function(a){var n=document.head,i=a||n,s=document.createElement("style"),o=(function(h){var m=Array.from(h.querySelectorAll("style[".concat(bi,"]")));return m[m.length-1]})(i),u=o!==void 0?o.nextSibling:null;s.setAttribute(bi,Jy),s.setAttribute(Xy,Qo);var f=O2();return f&&s.setAttribute("nonce",f),i.insertBefore(s,u),s},R2=(function(){function a(n){this.element=ab(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===i)return f}throw Vs(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,i){try{return this.sheet.insertRule(i,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var i=this.sheet.cssRules[n];return i&&i.cssText?i.cssText:""},a})(),j2=(function(){function a(n){this.element=ab(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,i){if(n<=this.length&&n>=0){var s=document.createTextNode(i);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),C2=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,i){return n<=this.length&&(this.rules.splice(n,0,i),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),$p=Lo,U2={isServer:!Lo,useCSSOMInjection:!l2},rb=(function(){function a(n,i,s){n===void 0&&(n=vi),i===void 0&&(i={});var o=this;this.options=Ct(Ct({},U2),n),this.gs=i,this.names=new Map(s),this.server=!!n.isServer,!this.server&&Lo&&$p&&($p=!1,Bp(this)),Ud(this,function(){return(function(u){for(var f=u.getTag(),h=f.length,m="",g=function(b){var _=(function(I){return Bo.get(I)})(b);if(_===void 0)return"continue";var x=u.names.get(_),S=f.getGroup(b);if(x===void 0||!x.size||S.length===0)return"continue";var T="".concat(bi,".g").concat(b,'[id="').concat(_,'"]'),k="";x!==void 0&&x.forEach(function(I){I.length>0&&(k+="".concat(I,","))}),m+="".concat(S).concat(T,'{content:"').concat(k,'"}').concat(jd)},y=0;y<h;y++)g(y);return m})(o)})}return a.registerId=function(n){return Es(n)},a.prototype.rehydrate=function(){!this.server&&Lo&&Bp(this)},a.prototype.reconstructWithOptions=function(n,i){return i===void 0&&(i=!0),new a(Ct(Ct({},this.options),n),this.gs,i&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(i){var s=i.useCSSOMInjection,o=i.target;return i.isServer?new C2(o):s?new R2(o):new j2(o)})(this.options),new x2(n)));var n},a.prototype.hasNameForId=function(n,i){return this.names.has(n)&&this.names.get(n).has(i)},a.prototype.registerName=function(n,i){if(Es(n),this.names.has(n))this.names.get(n).add(i);else{var s=new Set;s.add(i),this.names.set(n,s)}},a.prototype.insertRules=function(n,i,s){this.registerName(n,i),this.getTag().insertRules(Es(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(Es(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),k2=/&/g,fi=47;function Hp(a){if(a.indexOf("}")===-1)return!1;for(var n=a.length,i=0,s=0,o=!1,u=0;u<n;u++){var f=a.charCodeAt(u);if(s!==0||o||f!==fi||a.charCodeAt(u+1)!==42)if(o)f===42&&a.charCodeAt(u+1)===fi&&(o=!1,u++);else if(f!==34&&f!==39||u!==0&&a.charCodeAt(u-1)===92){if(s===0){if(f===123)i++;else if(f===125&&--i<0)return!0}}else s===0?s=f:s===f&&(s=0);else o=!0,u++}return i!==0||s!==0}function ib(a,n){return a.map(function(i){return i.type==="rule"&&(i.value="".concat(n," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(n," ")),i.props=i.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=ib(i.children,n)),i})}function D2(a){var n,i,s,o=vi,u=o.options,f=u===void 0?vi:u,h=o.plugins,m=h===void 0?Zo:h,g=function(_,x,S){return S.startsWith(i)&&S.endsWith(i)&&S.replaceAll(i,"").length>0?".".concat(n):_},y=m.slice();y.push(function(_){_.type===Po&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(k2,i).replace(s,g))}),f.prefix&&y.push(i2),y.push(n2);var b=function(_,x,S,T){x===void 0&&(x=""),S===void 0&&(S=""),T===void 0&&(T="&"),n=T,i=x,s=new RegExp("\\".concat(i,"\\b"),"g");var k=(function(j){if(!Hp(j))return j;for(var Z=j.length,Q="",F=0,M=0,J=0,se=!1,he=0;he<Z;he++){var V=j.charCodeAt(he);if(J!==0||se||V!==fi||j.charCodeAt(he+1)!==42)if(se)V===42&&j.charCodeAt(he+1)===fi&&(se=!1,he++);else if(V!==34&&V!==39||he!==0&&j.charCodeAt(he-1)===92){if(J===0)if(V===123)M++;else if(V===125){if(--M<0){for(var L=he+1;L<Z;){var q=j.charCodeAt(L);if(q===59||q===10)break;L++}L<Z&&j.charCodeAt(L)===59&&L++,M=0,he=L-1,F=L;continue}M===0&&(Q+=j.substring(F,he+1),F=he+1)}else V===59&&M===0&&(Q+=j.substring(F,he+1),F=he+1)}else J===0?J=V:J===V&&(J=0);else se=!0,he++}if(F<Z){var O=j.substring(F);Hp(O)||(Q+=O)}return Q})((function(j){if(j.indexOf("//")===-1)return j;for(var Z=j.length,Q=[],F=0,M=0,J=0;M<Z;){var se=j.charCodeAt(M);if(se!==34&&se!==39||M!==0&&j.charCodeAt(M-1)===92)if(J===0)if(se!==fi||j.charCodeAt(M+1)!==fi)M++;else{for(M>F&&Q.push(j.substring(F,M));M<Z&&j.charCodeAt(M)!==10;)M++;F=M}else M++;else J===0?J=se:J===se&&(J=0),M++}return F===0?j:(F<Z&&Q.push(j.substring(F)),Q.join(""))})(_)),I=e2(S||x?"".concat(S," ").concat(x," { ").concat(k," }"):k);f.namespace&&(I=ib(I,f.namespace));var C=[];return qo(I,a2(y.concat(r2(function(j){return C.push(j)})))),C};return b.hash=m.length?m.reduce(function(_,x){return x.name||Vs(15),ci(_,x.name)},5381).toString():"",b}var N2=new rb,ud=D2(),cd={shouldForwardProp:void 0,styleSheet:N2,stylis:ud},sb=Ys?{Provider:function(a){return a.children},Consumer:function(a){return(0,a.children)(cd)}}:Yt.createContext(cd);sb.Consumer;Ys||Yt.createContext(void 0);function Ip(){return!Ys&&Yt.useContext?Yt.useContext(sb):cd}var lb=(function(){function a(n,i){var s=this;this.inject=function(o,u){u===void 0&&(u=ud);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=i,Ud(this,function(){throw Vs(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=ud),this.name+n.hash},a})();function z2(a,n){return n==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||a in s2||a.startsWith("--")?String(n).trim():"".concat(n,"px")}var M2=function(a){return a>="A"&&a<="Z"};function Gp(a){for(var n="",i=0;i<a.length;i++){var s=a[i];if(i===1&&s==="-"&&a[0]==="-")return a;M2(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var ob=function(a){return a==null||a===!1||a===""},ub=function(a){var n=[];for(var i in a){var s=a[i];a.hasOwnProperty(i)&&!ob(s)&&(Array.isArray(s)&&s.isCss||_i(s)?n.push("".concat(Gp(i),":"),s,";"):$s(s)?n.push.apply(n,Cs(Cs(["".concat(i," {")],ub(s),!1),["}"],!1)):n.push("".concat(Gp(i),": ").concat(z2(i,s),";")))}return n};function or(a,n,i,s){if(ob(a))return[];if(Cd(a))return[".".concat(a.styledComponentId)];if(_i(a)){if(!_i(u=a)||u.prototype&&u.prototype.isReactComponent||!n)return[a];var o=a(n);return or(o,n,i,s)}var u;return a instanceof lb?i?(a.inject(i,s),[a.getName(s)]):[a]:$s(a)?ub(a):Array.isArray(a)?Array.prototype.concat.apply(Zo,a.map(function(f){return or(f,n,i,s)})):[a.toString()]}function q2(a){for(var n=0;n<a.length;n+=1){var i=a[n];if(_i(i)&&!Cd(i))return!1}return!0}var L2=Zy(Qo),B2=(function(){function a(n,i,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&q2(n),this.componentId=i,this.baseHash=ci(L2,i),this.baseStyle=s,rb.registerId(i)}return a.prototype.generateAndInjectStyles=function(n,i,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,i,s).className:"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))o=sr(o,this.staticRulesId);else{var u=ld(or(this.rules,n,i,s)),f=sd(ci(this.baseHash,u)>>>0);if(!i.hasNameForId(this.componentId,f)){var h=s(u,".".concat(f),void 0,this.componentId);i.insertRules(this.componentId,f,h)}o=sr(o,f),this.staticRulesId=f}else{for(var m=ci(this.baseHash,s.hash),g="",y=0;y<this.rules.length;y++){var b=this.rules[y];if(typeof b=="string")g+=b;else if(b){var _=ld(or(b,n,i,s));m=ci(m,_+y),g+=_}}if(g){var x=sd(m>>>0);if(!i.hasNameForId(this.componentId,x)){var S=s(g,".".concat(x),void 0,this.componentId);i.insertRules(this.componentId,x,S)}o=sr(o,x)}}return{className:o,css:typeof window>"u"?i.getTag().getGroup(Es(this.componentId)):""}},a})(),cb=Ys?{Provider:function(a){return a.children},Consumer:function(a){return(0,a.children)(void 0)}}:Yt.createContext(void 0);cb.Consumer;var Hf={};function $2(a,n,i){var s=Cd(a),o=a,u=!$f(a),f=n.attrs,h=f===void 0?Zo:f,m=n.componentId,g=m===void 0?(function(Z,Q){var F=typeof Z!="string"?"sc":Np(Z);Hf[F]=(Hf[F]||0)+1;var M="".concat(F,"-").concat(Fy(Qo+F+Hf[F]));return Q?"".concat(Q,"-").concat(M):M})(n.displayName,n.parentComponentId):m,y=n.displayName,b=y===void 0?(function(Z){return $f(Z)?"styled.".concat(Z):"Styled(".concat(d2(Z),")")})(a):y,_=n.displayName&&n.componentId?"".concat(Np(n.displayName),"-").concat(n.componentId):n.componentId||g,x=s&&o.attrs?o.attrs.concat(h).filter(Boolean):h,S=n.shouldForwardProp;if(s&&o.shouldForwardProp){var T=o.shouldForwardProp;if(n.shouldForwardProp){var k=n.shouldForwardProp;S=function(Z,Q){return T(Z,Q)&&k(Z,Q)}}else S=T}var I=new B2(i,_,s?o.componentStyle:void 0);function C(Z,Q){return(function(F,M,J){var se=F.attrs,he=F.componentStyle,V=F.defaultProps,L=F.foldedComponentIds,q=F.styledComponentId,O=F.target,U=Yt.useContext?Yt.useContext(cb):void 0,w=Ip(),B=F.shouldForwardProp||w.shouldForwardProp,ae=o2(M,U,V)||vi,ne=(function(et,qe,vn){for(var _n,Ut=Ct(Ct({},qe),{className:void 0,theme:vn}),cr=0;cr<et.length;cr+=1){var Qt=_i(_n=et[cr])?_n(Ut):_n;for(var xn in Qt)xn==="className"?Ut.className=sr(Ut.className,Qt[xn]):xn==="style"?Ut.style=Ct(Ct({},Ut.style),Qt[xn]):Ut[xn]=Qt[xn]}return"className"in qe&&typeof qe.className=="string"&&(Ut.className=sr(Ut.className,qe.className)),Ut})(se,M,ae),oe=ne.as||O,E={};for(var P in ne)ne[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&ne.theme===ae||(P==="forwardedAs"?E.as=ne.forwardedAs:B&&!B(P,oe)||(E[P]=ne[P]));var ie=(function(et,qe){var vn=Ip(),_n=et.generateAndInjectStyles(qe,vn.styleSheet,vn.stylis);return _n})(he,ne),le=ie.className,ge=ie.css,fe=sr(L,q);le&&(fe+=" "+le),ne.className&&(fe+=" "+ne.className),E[$f(oe)&&!Qy.has(oe)?"class":"className"]=fe,J&&(E.ref=J);var je=N.createElement(oe,E);return Ys&&ge?Yt.createElement(Yt.Fragment,null,Yt.createElement("style",{precedence:"styled-components",href:"sc-".concat(q,"-").concat(le),children:ge}),je):je})(j,Z,Q)}C.displayName=b;var j=Yt.forwardRef(C);return j.attrs=x,j.componentStyle=I,j.displayName=b,j.shouldForwardProp=S,j.foldedComponentIds=s?sr(o.foldedComponentIds,o.styledComponentId):"",j.styledComponentId=_,j.target=s?o.target:a,Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=s?(function(Q){for(var F=[],M=1;M<arguments.length;M++)F[M-1]=arguments[M];for(var J=0,se=F;J<se.length;J++)od(Q,se[J],!0);return Q})({},o.defaultProps,Z):Z}}),Ud(j,function(){return".".concat(j.styledComponentId)}),u&&nb(j,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),j}function Yp(a,n){for(var i=[a[0]],s=0,o=n.length;s<o;s+=1)i.push(n[s],a[s+1]);return i}var Vp=function(a){return Object.assign(a,{isCss:!0})};function fb(a){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(_i(a)||$s(a))return Vp(or(Yp(Zo,Cs([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?or(s):Vp(or(Yp(s,n)))}function fd(a,n,i){if(i===void 0&&(i=vi),!n)throw Vs(1,n);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return a(n,i,fb.apply(void 0,Cs([o],u,!1)))};return s.attrs=function(o){return fd(a,n,Ct(Ct({},i),{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return fd(a,n,Ct(Ct({},i),o))},s}var db=function(a){return fd($2,a)},Xt=db;Qy.forEach(function(a){Xt[a]=db(a)});function H2(a){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=ld(fb.apply(void 0,Cs([a],n,!1))),o=Fy(s);return new lb(o,s)}const hb=()=>G.jsx(I2,{children:G.jsxs("div",{className:"campfire-loader",children:[G.jsxs("div",{className:"fire-container",children:[G.jsx("div",{className:"flame flame-main"}),G.jsx("div",{className:"flame flame-left"}),G.jsx("div",{className:"flame flame-right"})]}),G.jsxs("div",{className:"logs",children:[G.jsx("div",{className:"log"}),G.jsx("div",{className:"log"})]}),G.jsxs("div",{className:"embers",children:[G.jsx("div",{style:{"--delay":0},className:"ember"}),G.jsx("div",{style:{"--delay":"0.3"},className:"ember"}),G.jsx("div",{style:{"--delay":"0.6"},className:"ember"})]}),G.jsx("div",{className:"sparkles"})]})}),I2=Xt.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 2rem;

  .campfire-loader {
    position: relative;
    width: 6em;
    height: 6em;
    margin: 2em auto;
  }

  .fire-container {
    position: absolute;
    bottom: 2.5em;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
  }

  .flame {
    position: absolute;
    background: linear-gradient(180deg, #ff6b00 0%, #ffd700 70%);
    border-radius: 50%;
    animation: flicker 0.8s ease-in-out infinite alternate;
  }

  .flame-main {
    width: 1.8em;
    height: 2.5em;
    clip-path: polygon(50% 0, 100% 100%, 0 100%);
  }

  .flame-left,
  .flame-right {
    width: 1.2em;
    height: 1.8em;
    top: 0.5em;
  }

  .flame-left {
    left: -1.2em;
    clip-path: polygon(70% 0, 100% 100%, 0 100%);
    animation-delay: 0.2s;
  }

  .flame-right {
    right: -1.2em;
    clip-path: polygon(30% 0, 100% 100%, 0 100%);
    animation-delay: 0.4s;
  }

  .logs {
    position: absolute;
    bottom: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 0.8em;
  }

  .log {
    width: 1.5em;
    height: 0.5em;
    background: linear-gradient(45deg, #6b4226, #8b4513);
    border-radius: 0.2em;
    transform: rotate(-15deg);
  }

  .log:last-child {
    transform: rotate(15deg);
  }

  .embers {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .ember {
    position: absolute;
    width: 0.3em;
    height: 0.3em;
    background: #ff4500;
    border-radius: 50%;
    animation: float 1.5s ease-in infinite;
    animation-delay: calc(var(--delay) * 1s);
    bottom: 2.8em;
    left: 50%;
  }

  .sparkles {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(
      circle,
      rgba(255, 215, 0, 0.2) 0%,
      transparent 60%
    );
    animation: glow 1.5s ease-in-out infinite;
  }

  @keyframes flicker {
    0% {
      transform: scaleY(1) skew(2deg);
      opacity: 0.9;
    }
    100% {
      transform: scaleY(1.2) skew(-3deg);
      opacity: 1;
    }
  }

  @keyframes float {
    0% {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateY(-3em) translateX(calc(var(--delay) * 1em)) scale(0.2);
      opacity: 0;
    }
  }

  @keyframes glow {
    0%,
    100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.6;
    }
  }`,mb=N.createContext({isLoading:!1}),G2=({children:a})=>{const[n,i]=N.useState(!1),s=N.useRef(null);return N.useEffect(()=>{const o=OE(u=>{if(u){s.current||(s.current=setTimeout(()=>{i(!0),s.current=null},250));return}s.current&&(clearTimeout(s.current),s.current=null),i(!1)});return()=>o&&o()},[]),G.jsx(mb.Provider,{value:{isLoading:n},children:a})},Y2=()=>N.useContext(mb),V2=Xt.div`
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
`,P2=()=>{const{isLoading:a}=Y2();return a?G.jsx(V2,{children:G.jsx(hb,{})}):null},K2=({variant:a="page",count:n=3,compact:i=!1,columns:s})=>{const o=()=>G.jsxs(Q2,{children:[G.jsx(ke,{$w:"42%",$h:"18px"}),G.jsx(ke,{$w:"64%",$h:"12px"})]}),u=(x=3)=>G.jsx(If,{$min:"220px",children:Array.from({length:x}).map((S,T)=>G.jsxs(oi,{children:[G.jsxs(ai,{$gap:"12px",children:[G.jsx(ke,{$w:"44px",$h:"44px",$radius:"12px"}),G.jsxs(_o,{children:[G.jsx(ke,{$w:"60%",$h:"12px"}),G.jsx(ke,{$w:"40%",$h:"16px"})]})]}),G.jsx(ke,{$w:"90%",$h:"10px"})]},`stat-${T}`))}),f=(x=n)=>G.jsx(If,{$min:"260px",children:Array.from({length:x}).map((S,T)=>G.jsxs(oi,{children:[G.jsx(ke,{$w:"70%",$h:"14px"}),G.jsx(ke,{$w:"90%",$h:"10px"}),G.jsx(ke,{$w:"80%",$h:"10px"}),G.jsx(ke,{$w:"55%",$h:"10px"}),G.jsxs(ai,{$gap:"10px",children:[G.jsx(ke,{$w:"28%",$h:"12px"}),G.jsx(ke,{$w:"22%",$h:"12px"})]})]},`card-${T}`))}),h=()=>G.jsxs(If,{$min:"320px",children:[G.jsxs(oi,{children:[G.jsx(ke,{$w:"45%",$h:"14px"}),G.jsx(Kp,{}),G.jsxs(ai,{$gap:"12px",children:[G.jsx(ke,{$w:"18%",$h:"10px"}),G.jsx(ke,{$w:"20%",$h:"10px"}),G.jsx(ke,{$w:"14%",$h:"10px"})]})]}),G.jsxs(oi,{children:[G.jsx(ke,{$w:"40%",$h:"14px"}),G.jsx(Kp,{$h:"160px"}),G.jsxs(ai,{$gap:"12px",children:[G.jsx(ke,{$w:"22%",$h:"10px"}),G.jsx(ke,{$w:"16%",$h:"10px"})]})]})]}),m=(x=i?5:8,S=s||4)=>G.jsxs(Z2,{children:[G.jsx(Pp,{$cols:S,children:Array.from({length:S}).map((T,k)=>G.jsx(ke,{$w:"80%",$h:"12px"},`th-${k}`))}),Array.from({length:x}).map((T,k)=>G.jsxs(Pp,{$cols:S,children:[G.jsx(ke,{$w:k%2===0?"85%":"70%",$h:"12px"}),G.jsx(ke,{$w:k%3===0?"60%":"75%",$h:"12px"}),G.jsx(ke,{$w:"40%",$h:"12px"}),G.jsx(ke,{$w:"50%",$h:"12px"})]},`tr-${k}`))]}),g=(x=i?5:8)=>G.jsx(_o,{$gap:"14px",children:Array.from({length:x}).map((S,T)=>G.jsxs(ai,{$gap:"14px",children:[G.jsx(ke,{$w:"44px",$h:"44px",$radius:"50%"}),G.jsxs(_o,{children:[G.jsx(ke,{$w:"50%",$h:"12px"}),G.jsx(ke,{$w:"70%",$h:"10px"})]})]},`row-${T}`))}),y=(x=i?4:6)=>G.jsxs(oi,{children:[Array.from({length:x}).map((S,T)=>G.jsxs(_o,{$gap:"8px",children:[G.jsx(ke,{$w:"30%",$h:"10px"}),G.jsx(ke,{$w:"100%",$h:"40px",$radius:"10px"})]},`field-${T}`)),G.jsxs(ai,{$gap:"12px",style:{marginTop:"0.5rem"},children:[G.jsx(ke,{$w:"140px",$h:"40px",$radius:"10px"}),G.jsx(ke,{$w:"120px",$h:"40px",$radius:"10px"})]})]}),b=()=>G.jsxs(G.Fragment,{children:[o(),u(3),h(),m()]}),_=()=>{switch(a){case"dashboard":return G.jsxs(G.Fragment,{children:[o(),u(4),h(),m()]});case"table":return G.jsxs(G.Fragment,{children:[!i&&o(),m()]});case"cards":return G.jsxs(G.Fragment,{children:[!i&&o(),f()]});case"list":return G.jsxs(G.Fragment,{children:[!i&&o(),g()]});case"form":return G.jsxs(G.Fragment,{children:[!i&&o(),y()]});default:return b()}};return G.jsx(X2,{$compact:i,children:_()})},J2=H2`
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
`,X2=Xt.div`
  display: flex;
  flex-direction: column;
  gap: ${a=>a.$compact?"1rem":"1.5rem"};
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: ${a=>a.$compact?"0":"1rem 0 2rem"};
`,ke=Xt.div`
  position: relative;
  overflow: hidden;
  background: var(--bg-tertiary);
  border-radius: ${a=>a.$radius||"8px"};
  width: ${a=>a.$w||"100%"};
  height: ${a=>a.$h||"12px"};
  opacity: 0.9;

  &::after {
    content: '';
    position: absolute;
    inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(
      110deg,
      transparent 0%,
      rgba(255, 255, 255, 0.45) 40%,
      transparent 80%
    );
    animation: ${J2} 1.4s linear infinite;
  }
`,Q2=Xt.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,If=Xt.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(${a=>a.$min||"240px"}, 1fr));
  gap: 1.25rem;
`,oi=Xt.div`
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 1.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  box-shadow: var(--shadow-sm);
`,Z2=Xt(oi)`
  gap: 0.9rem;
`,Pp=Xt.div`
  display: grid;
  grid-template-columns: repeat(${a=>a.$cols||4}, minmax(0, 1fr));
  gap: 1rem;
  align-items: center;
`,ai=Xt.div`
  display: flex;
  align-items: center;
  gap: ${a=>a.$gap||"8px"};
`,_o=Xt.div`
  display: flex;
  flex-direction: column;
  gap: ${a=>a.$gap||"6px"};
  flex: 1;
`,Kp=Xt(ke).attrs(a=>({$h:a.$h||"220px",$w:"100%",$radius:"12px"}))``,F2=N.lazy(()=>On(()=>import("./Login-BI0-_KAi.js"),__vite__mapDeps([0,1]))),W2=N.lazy(()=>On(()=>import("./AuthCallback-DVGe1sUk.js"),[])),eA=N.lazy(()=>On(()=>import("./Home-DVUrccTW.js").then(a=>a.H),__vite__mapDeps([2,3,4,5,6]))),tA=N.lazy(()=>On(()=>import("./Signup-gbl5iN9w.js"),__vite__mapDeps([7,1]))),nA=N.lazy(()=>On(()=>import("./ForgotPassword-CBBfUCQ6.js"),__vite__mapDeps([8,1]))),aA=N.lazy(()=>On(()=>import("./VerifyOtp-DHIHxQ9H.js"),__vite__mapDeps([9,1]))),rA=N.lazy(()=>On(()=>import("./ResetPasswordForm-DTlh0BWY.js"),__vite__mapDeps([10,1]))),iA=N.lazy(()=>On(()=>import("./AdminDashboard-8gIRKhHb.js").then(a=>a.A),__vite__mapDeps([11,3,12,4]))),sA=N.lazy(()=>On(()=>import("./TeacherDashboard-CtEOF2xM.js"),__vite__mapDeps([13,3,5,12,14,15,4,16]))),lA=N.lazy(()=>On(()=>import("./NonTeachingDashboard-3bOhc5Ke.js"),__vite__mapDeps([17,3,16,14,18,19]))),oA=()=>{const a=jn(),n=a.pathname.startsWith("/home")||a.pathname.startsWith("/admin")||a.pathname.startsWith("/teachers")||a.pathname.startsWith("/nt"),i=a.pathname.startsWith("/admin")||a.pathname.startsWith("/teachers")||a.pathname.startsWith("/nt")||a.pathname.startsWith("/home")?"dashboard":"page",s=n?G.jsx(K2,{variant:i}):G.jsx(hb,{});return G.jsx(N.Suspense,{fallback:s,children:G.jsxs(X1,{children:[G.jsx(on,{path:"/",element:G.jsx(F2,{})}),G.jsx(on,{path:"/auth/callback",element:G.jsx(W2,{})}),G.jsx(on,{path:"/signup",element:G.jsx(tA,{})}),G.jsx(on,{path:"/forgot-password",element:G.jsx(nA,{})}),G.jsx(on,{path:"/verify-otp",element:G.jsx(aA,{})}),G.jsx(on,{path:"/reset-password",element:G.jsx(rA,{})}),G.jsx(on,{path:"/home/*",element:G.jsx(eA,{})}),G.jsx(on,{path:"/admin/dashboard/*",element:G.jsx(iA,{})}),G.jsx(on,{path:"/teachers/*",element:G.jsx(sA,{})}),G.jsx(on,{path:"/nt/dashboard/*",element:G.jsx(lA,{})}),G.jsx(on,{path:"*",element:G.jsx(K1,{to:"/",replace:!0})})]})})};function uA(){return G.jsx(G2,{children:G.jsx(BE,{children:G.jsx(Hx,{children:G.jsxs(_x,{children:[G.jsx(oA,{}),G.jsx($E,{}),G.jsx(P2,{})]})})})})}X_.createRoot(document.getElementById("root")).render(G.jsx(N.StrictMode,{children:G.jsx(uA,{})}));export{Eo as A,hb as C,dy as L,K1 as N,K2 as P,Yt as R,qf as S,qE as T,Qg as X,On as _,pd as a,jn as b,xd as c,Xt as d,X1 as e,on as f,fA as g,Mx as h,My as i,G as j,P_ as k,Jp as l,dd as m,cA as n,dA as o,H2 as p,N as r,LE as u};
